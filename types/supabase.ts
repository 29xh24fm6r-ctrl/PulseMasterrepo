export type Json =
  | string
  | number
  | boolean
  | null
  | { [key: string]: Json | undefined }
  | Json[]

export type Database = {
  // Allows to automatically instantiate createClient with right options
  // instead of createClient<Database, { PostgrestVersion: 'XX' }>(URL, KEY)
  __InternalSupabase: {
    PostgrestVersion: "13.0.5"
  }
  public: {
    Tables: {
      _pulse_dropped_policies: {
        Row: {
          dropped_at: string
          policy_cmd: string | null
          policy_qual: string | null
          policy_roles: string[] | null
          policy_with_check: string | null
          policyname: string
          schemaname: string
          tablename: string
        }
        Insert: {
          dropped_at?: string
          policy_cmd?: string | null
          policy_qual?: string | null
          policy_roles?: string[] | null
          policy_with_check?: string | null
          policyname: string
          schemaname: string
          tablename: string
        }
        Update: {
          dropped_at?: string
          policy_cmd?: string | null
          policy_qual?: string | null
          policy_roles?: string[] | null
          policy_with_check?: string | null
          policyname?: string
          schemaname?: string
          tablename?: string
        }
        Relationships: []
      }
      _pulse_dropped_user_id_fks: {
        Row: {
          constraint_def: string
          constraint_name: string
          dropped_at: string
          table_name: string
          table_schema: string
        }
        Insert: {
          constraint_def: string
          constraint_name: string
          dropped_at?: string
          table_name: string
          table_schema: string
        }
        Update: {
          constraint_def?: string
          constraint_name?: string
          dropped_at?: string
          table_name?: string
          table_schema?: string
        }
        Relationships: []
      }
      _pulse_dropped_views: {
        Row: {
          dropped_at: string
          view_definition: string
          view_name: string
          view_schema: string
        }
        Insert: {
          dropped_at?: string
          view_definition: string
          view_name: string
          view_schema: string
        }
        Update: {
          dropped_at?: string
          view_definition?: string
          view_name?: string
          view_schema?: string
        }
        Relationships: []
      }
      _pulse_quarantine_rows: {
        Row: {
          id: number
          quarantined_at: string
          reason: string
          row_data: Json
          row_pk: Json | null
          table_name: string
        }
        Insert: {
          id?: number
          quarantined_at?: string
          reason: string
          row_data: Json
          row_pk?: Json | null
          table_name: string
        }
        Update: {
          id?: number
          quarantined_at?: string
          reason?: string
          row_data?: Json
          row_pk?: Json | null
          table_name?: string
        }
        Relationships: []
      }
      _pulse_renamed_user_id_columns: {
        Row: {
          data_type: string
          from_column: string
          id: number
          renamed_at: string
          schema_name: string
          table_name: string
          to_column: string
        }
        Insert: {
          data_type: string
          from_column: string
          id?: number
          renamed_at?: string
          schema_name: string
          table_name: string
          to_column: string
        }
        Update: {
          data_type?: string
          from_column?: string
          id?: number
          renamed_at?: string
          schema_name?: string
          table_name?: string
          to_column?: string
        }
        Relationships: []
      }
      _pulse_rls_violations: {
        Row: {
          ddl: string | null
          detected_at: string | null
          id: number
          table_name: string
        }
        Insert: {
          ddl?: string | null
          detected_at?: string | null
          id?: number
          table_name: string
        }
        Update: {
          ddl?: string | null
          detected_at?: string | null
          id?: number
          table_name?: string
        }
        Relationships: []
      }
      achievements: {
        Row: {
          achievement_key: string
          description: string | null
          icon: string | null
          id: string
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          unlocked_at: string | null
          user_id_uuid: string
          xp_reward: number | null
        }
        Insert: {
          achievement_key: string
          description?: string | null
          icon?: string | null
          id?: string
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          unlocked_at?: string | null
          user_id_uuid: string
          xp_reward?: number | null
        }
        Update: {
          achievement_key?: string
          description?: string | null
          icon?: string | null
          id?: string
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          unlocked_at?: string | null
          user_id_uuid?: string
          xp_reward?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "achievements_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_achievements__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      activity_events: {
        Row: {
          created_at: string
          detail: string | null
          entity_id: string | null
          entity_type: string | null
          event_name: string | null
          event_source: string | null
          event_ts: string
          event_type: string
          id: string
          immutable: boolean | null
          metadata: Json
          payload: Json
          source: string
          title: string
          user_id_text: string | null
          user_id_uuid: string
          user_id_uuid_legacy: string | null
        }
        Insert: {
          created_at?: string
          detail?: string | null
          entity_id?: string | null
          entity_type?: string | null
          event_name?: string | null
          event_source?: string | null
          event_ts?: string
          event_type: string
          id?: string
          immutable?: boolean | null
          metadata?: Json
          payload?: Json
          source?: string
          title: string
          user_id_text?: string | null
          user_id_uuid: string
          user_id_uuid_legacy?: string | null
        }
        Update: {
          created_at?: string
          detail?: string | null
          entity_id?: string | null
          entity_type?: string | null
          event_name?: string | null
          event_source?: string | null
          event_ts?: string
          event_type?: string
          id?: string
          immutable?: boolean | null
          metadata?: Json
          payload?: Json
          source?: string
          title?: string
          user_id_text?: string | null
          user_id_uuid?: string
          user_id_uuid_legacy?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "activity_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_activity_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      ag_agents: {
        Row: {
          capabilities: Json
          created_at: string
          description: string | null
          id: string
          key: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
        }
        Insert: {
          capabilities: Json
          created_at?: string
          description?: string | null
          id?: string
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Update: {
          capabilities?: Json
          created_at?: string
          description?: string | null
          id?: string
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Relationships: []
      }
      ag_messages: {
        Row: {
          agent_key: string | null
          content: Json
          created_at: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          role: string
          run_id: string
          user_id_uuid: string
        }
        Insert: {
          agent_key?: string | null
          content: Json
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          role: string
          run_id: string
          user_id_uuid: string
        }
        Update: {
          agent_key?: string | null
          content?: Json
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          role?: string
          run_id?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "ag_messages_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "ag_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ag_messages_user_fk"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ag_messages_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_ag_messages__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      ag_runs: {
        Row: {
          agent_key: string
          created_at: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          status: string
          topic: string | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          agent_key: string
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          status?: string
          topic?: string | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          agent_key?: string
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          status?: string
          topic?: string | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "ag_runs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_ag_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      agi_actions: {
        Row: {
          action: Json
          error: string | null
          executed_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          run_id: string
          status: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          action: Json
          error?: string | null
          executed_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          run_id: string
          status?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          action?: Json
          error?: string | null
          executed_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          run_id?: string
          status?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "agi_actions_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "agi_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "agi_actions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_agi_actions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      agi_agent_profiles: {
        Row: {
          agent_name: string
          config: Json
          id: string
          last_updated_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          agent_name: string
          config?: Json
          id?: string
          last_updated_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          agent_name?: string
          config?: Json
          id?: string
          last_updated_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "agi_agent_profiles_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_agi_agent_profiles__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      agi_feedback: {
        Row: {
          action_id: string
          comment: string | null
          created_at: string
          feedback_type: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          action_id: string
          comment?: string | null
          created_at?: string
          feedback_type: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          action_id?: string
          comment?: string | null
          created_at?: string
          feedback_type?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "agi_feedback_action_id_fkey"
            columns: ["action_id"]
            isOneToOne: false
            referencedRelation: "agi_actions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "agi_feedback_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_agi_feedback__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      agi_policies: {
        Row: {
          created_at: string
          description: string | null
          enabled: boolean
          id: string
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          trigger: Json
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          enabled?: boolean
          id?: string
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          trigger: Json
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          description?: string | null
          enabled?: boolean
          id?: string
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          trigger?: Json
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "agi_policies_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_agi_policies__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      agi_runs: {
        Row: {
          agent_results: Json
          final_plan: Json
          finished_at: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          started_at: string
          trigger: Json
          user_id_text: string | null
          user_id_uuid: string
          world_snapshot: Json
        }
        Insert: {
          agent_results: Json
          final_plan: Json
          finished_at: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          started_at: string
          trigger: Json
          user_id_text?: string | null
          user_id_uuid: string
          world_snapshot: Json
        }
        Update: {
          agent_results?: Json
          final_plan?: Json
          finished_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          started_at?: string
          trigger?: Json
          user_id_text?: string | null
          user_id_uuid?: string
          world_snapshot?: Json
        }
        Relationships: [
          {
            foreignKeyName: "agi_runs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_agi_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      domain_kpis: {
        Row: {
          domain_key: string
          metrics: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          period_end: string
          period_start: string
          score: number | null
          user_id_uuid: string
        }
        Insert: {
          domain_key: string
          metrics: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          period_end: string
          period_start: string
          score?: number | null
          user_id_uuid: string
        }
        Update: {
          domain_key?: string
          metrics?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          period_end?: string
          period_start?: string
          score?: number | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "domain_kpis_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      executive_summaries: {
        Row: {
          concerns: string[] | null
          created_at: string
          domain_scores: Json
          highlights: string[] | null
          id: string
          overall_score: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          period_end: string
          period_start: string
          period_type: "weekly" | "monthly"
          recommendations: string[] | null
          summary: string
          user_id_uuid: string
        }
        Insert: {
          concerns?: string[] | null
          created_at?: string
          domain_scores: Json
          highlights?: string[] | null
          id?: string
          overall_score?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          period_end: string
          period_start: string
          period_type: "weekly" | "monthly"
          recommendations?: string[] | null
          summary: string
          user_id_uuid: string
        }
        Update: {
          concerns?: string[] | null
          created_at?: string
          domain_scores?: Json
          highlights?: string[] | null
          id?: string
          overall_score?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          period_end?: string
          period_start?: string
          period_type?: "weekly" | "monthly"
          recommendations?: string[] | null
          summary?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "executive_summaries_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      life_domains: {
        Row: {
          created_at: string
          id: string
          key: string
          label: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          user_id_uuid: string
          weight: number | null
        }
        Insert: {
          created_at?: string
          id?: string
          key: string
          label: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          user_id_uuid: string
          weight?: number | null
        }
        Update: {
          created_at?: string
          id?: string
          key?: string
          label?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          user_id_uuid?: string
          weight?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "life_domains_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      memories: {
        Row: {
          access_count: number
          category: string
          content: string
          context: string | null
          created_at: string
          embedding: string | null
          expires_at: string | null
          id: string
          importance: number
          last_accessed_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          source: string | null
          source_id: string | null
          tags: string[] | null
          type: string
          updated_at: string
          user_id: string
        }
        Insert: {
          access_count?: number
          category: string
          content: string
          context?: string | null
          created_at?: string
          embedding?: string | null
          expires_at?: string | null
          id?: string
          importance?: number
          last_accessed_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          source?: string | null
          source_id?: string | null
          tags?: string[] | null
          type: string
          updated_at?: string
          user_id: string
        }
        Update: {
          access_count?: number
          category?: string
          content?: string
          context?: string | null
          created_at?: string
          embedding?: string | null
          expires_at?: string | null
          id?: string
          importance?: number
          last_accessed_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          source?: string | null
          source_id?: string | null
          tags?: string[] | null
          type?: string
          updated_at?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "memories_user_id_fkey_identity_users"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      memory_patterns: {
        Row: {
          confidence: number
          data: Json
          description: string
          frequency: number
          id: string
          last_occurred: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          pattern_type: string
          user_id: string
        }
        Insert: {
          confidence: number
          data: Json
          description: string
          frequency?: number
          id?: string
          last_occurred?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          pattern_type: string
          user_id: string
        }
        Update: {
          confidence?: number
          data?: Json
          description?: string
          frequency?: number
          id?: string
          last_occurred?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          pattern_type?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "memory_patterns_user_id_fkey_identity_users"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      agi_scenario_runs: {
        Row: {
          created_at: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          scenario_key: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          scenario_key: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          scenario_key?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "agi_scenario_runs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_agi_scenario_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      agi_scenarios: {
        Row: {
          created_at: string
          description: string | null
          id: string
          key: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
        }
        Insert: {
          created_at?: string
          description?: string | null
          id?: string
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Update: {
          created_at?: string
          description?: string | null
          id?: string
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Relationships: []
      }
      referral_rewards: {
        Row: {
          created_at: string
          id: string
          referred_user_id: string
          referrer_user_id: string
          reward_cents: number
          reward_type: string
          status: string
        }
        Insert: {
          created_at?: string
          id?: string
          referred_user_id: string
          referrer_user_id: string
          reward_cents: number
          reward_type: string
          status: string
        }
        Update: {
          created_at?: string
          id?: string
          referred_user_id?: string
          referrer_user_id?: string
          reward_cents?: number
          reward_type?: string
          status?: string
        }
        Relationships: [
          {
            foreignKeyName: "referral_rewards_referred_user_id_fkey"
            columns: ["referred_user_id"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "referral_rewards_referrer_user_id_fkey"
            columns: ["referrer_user_id"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      usage_logs: {
        Row: {
          cost_cents: number
          created_at: string
          feature: string
          id: string
          metadata: Json
          model: string | null
          tokens_used: number
          user_id: string
        }
        Insert: {
          cost_cents: number
          created_at?: string
          feature: string
          id?: string
          metadata?: Json
          model?: string | null
          tokens_used: number
          user_id: string
        }
        Update: {
          cost_cents?: number
          created_at?: string
          feature?: string
          id?: string
          metadata?: Json
          model?: string | null
          tokens_used?: number
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "usage_logs_user_id_fkey_identity_users"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      user_profiles: {
        Row: {
          archetype: string | null
          created_at: string
          current_energy: number | null
          current_mood: number | null
          current_stress: number | null
          email: string | null
          free_month_credits: number
          id: string
          intensity_level: number
          job_title_id: string | null
          last_checkin_at: string | null
          name: string | null
          onboarding_completed: boolean
          onboarding_skipped: boolean
          philosophy_last_practice: string | null
          philosophy_mentor: string | null
          philosophy_streak: number
          plan: "free" | "plus"
          professional_identity: Json
          referral_code: string
          referred_by: string | null
          refund_eligible_at: string | null
          stripe_customer_id: string | null
          stripe_subscription_id: string | null
          subscription_status: string
          token_balance_cents: number
          trial_ends_at: string | null
          updated_at: string
          usage_cents_this_month: number
          usage_reset_at: string | null
          user_id: string
        }
        Insert: {
          archetype?: string | null
          created_at?: string
          current_energy?: number | null
          current_mood?: number | null
          current_stress?: number | null
          email?: string | null
          free_month_credits: number
          id?: string
          intensity_level: number
          job_title_id?: string | null
          last_checkin_at?: string | null
          name?: string | null
          onboarding_completed?: boolean
          onboarding_skipped?: boolean
          philosophy_last_practice?: string | null
          philosophy_mentor?: string | null
          philosophy_streak?: number
          plan: "free" | "plus"
          professional_identity?: Json
          referral_code?: string
          referred_by?: string | null
          refund_eligible_at?: string | null
          stripe_customer_id?: string | null
          stripe_subscription_id?: string | null
          subscription_status: string
          token_balance_cents: number
          trial_ends_at?: string | null
          updated_at?: string
          usage_cents_this_month: number
          usage_reset_at?: string | null
          user_id: string
        }
        Update: {
          archetype?: string | null
          created_at?: string
          current_energy?: number | null
          current_mood?: number | null
          current_stress?: number | null
          email?: string | null
          free_month_credits?: number
          id?: string
          intensity_level?: number
          job_title_id?: string | null
          last_checkin_at?: string | null
          name?: string | null
          onboarding_completed?: boolean
          onboarding_skipped?: boolean
          philosophy_last_practice?: string | null
          philosophy_mentor?: string | null
          philosophy_streak?: number
          plan?: "free" | "plus"
          professional_identity?: Json
          referral_code?: string
          referred_by?: string | null
          refund_eligible_at?: string | null
          stripe_customer_id?: string | null
          stripe_subscription_id?: string | null
          subscription_status?: string
          token_balance_cents?: number
          trial_ends_at?: string | null
          updated_at?: string
          usage_cents_this_month?: number
          usage_reset_at?: string | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "user_profiles_user_id_fkey_identity_users"
            columns: ["user_id"]
            isOneToOne: true
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      feedback: {
        Row: {
          category: string | null
          comment: string | null
          correction: string | null
          created_at: string
          id: string
          message_id: string | null
          rating: string
          user_id: string
        }
        Insert: {
          category?: string | null
          comment?: string | null
          correction?: string | null
          created_at: string
          id?: string
          message_id?: string | null
          rating: string
          user_id: string
        }
        Update: {
          category?: string | null
          comment?: string | null
          correction?: string | null
          created_at?: string
          id?: string
          message_id?: string | null
          rating?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "feedback_user_id_fkey_identity_users"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      teachings: {
        Row: {
          category: string
          created_at: string
          examples: Json
          id: string
          instruction: string
          is_active: boolean
          last_used_at: string | null
          priority: number
          trigger: string | null
          type: string
          updated_at: string
          usage_count: number
          user_id: string
        }
        Insert: {
          category: string
          created_at: string
          examples?: Json
          id?: string
          instruction: string
          is_active?: boolean
          last_used_at?: string | null
          priority: number
          trigger?: string | null
          type: string
          updated_at: string
          usage_count?: number
          user_id: string
        }
        Update: {
          category?: string
          created_at?: string
          examples?: Json
          id?: string
          instruction?: string
          is_active?: boolean
          last_used_at?: string | null
          priority?: number
          trigger?: string | null
          type?: string
          updated_at?: string
          usage_count?: number
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "teachings_user_id_fkey_identity_users"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }

      calendar_accounts: {
        Row: {
          access_token: string
          created_at: string
          id: string
          provider: string
          refresh_token: string
          token_expires_at: string | null
          updated_at: string
          user_id: string
        }
        Insert: {
          access_token: string
          created_at?: string
          id?: string
          provider: string
          refresh_token: string
          token_expires_at?: string | null
          updated_at?: string
          user_id: string
        }
        Update: {
          access_token?: string
          created_at?: string
          id?: string
          provider?: string
          refresh_token?: string
          token_expires_at?: string | null
          updated_at?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "calendar_accounts_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          }
        ]
      }
      email_outbox: {
        Row: {
          body: string | null
          created_at: string
          error: string | null
          id: string
          meta: Json | null
          retries: number
          send_at: string | null
          sent_at: string | null
          status: string
          subject: string | null
          to_email: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          body?: string | null
          created_at?: string
          error?: string | null
          id?: string
          meta?: Json | null
          retries?: number
          send_at?: string | null
          sent_at?: string | null
          status?: string
          subject?: string | null
          to_email: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          body?: string | null
          created_at?: string
          error?: string | null
          id?: string
          meta?: Json | null
          retries?: number
          send_at?: string | null
          sent_at?: string | null
          status?: string
          subject?: string | null
          to_email?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_outbox_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      email_threads: {
        Row: {
          category: string | null
          created_at: string
          email_count: number
          followup_reason: string | null
          id: string
          importance: string | null
          labels: string[] | null
          last_message_at: string | null
          last_message_from: string | null
          last_message_to: string | null
          needs_followup: boolean
          needs_response: boolean
          owner_user_id_legacy: string
          provider: string
          snippet: string | null
          starred: boolean
          subject: string
          thread_id: string
          unread: boolean
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          category?: string | null
          created_at?: string
          email_count?: number
          followup_reason?: string | null
          id?: string
          importance?: string | null
          labels?: string[] | null
          last_message_at?: string | null
          last_message_from?: string | null
          last_message_to?: string | null
          needs_followup?: boolean
          needs_response?: boolean
          owner_user_id_legacy: string
          provider?: string
          snippet?: string | null
          starred?: boolean
          subject: string
          thread_id: string
          unread?: boolean
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          category?: string | null
          created_at?: string
          email_count?: number
          followup_reason?: string | null
          id?: string
          importance?: string | null
          labels?: string[] | null
          last_message_at?: string | null
          last_message_from?: string | null
          last_message_to?: string | null
          needs_followup?: boolean
          needs_response?: boolean
          owner_user_id_legacy?: string
          provider?: string
          snippet?: string | null
          starred?: boolean
          subject?: string
          thread_id?: string
          unread?: boolean
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_threads_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      reply_drafts: {
        Row: {
          body: string | null
          created_at: string
          id: string
          inbox_item_id: string | null
          initial_tone: string | null
          outbox_id: string | null
          refined_tone: string | null
          send_at: string | null
          status: string
          subject: string | null
          to_email: string | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          body?: string | null
          created_at?: string
          id?: string
          inbox_item_id?: string | null
          initial_tone?: string | null
          outbox_id?: string | null
          refined_tone?: string | null
          send_at?: string | null
          status?: string
          subject?: string | null
          to_email?: string | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          body?: string | null
          created_at?: string
          id?: string
          inbox_item_id?: string | null
          initial_tone?: string | null
          outbox_id?: string | null
          refined_tone?: string | null
          send_at?: string | null
          status?: string
          subject?: string | null
          to_email?: string | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "reply_drafts_inbox_item_id_fkey"
            columns: ["inbox_item_id"]
            isOneToOne: false
            referencedRelation: "inbox_items"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "reply_drafts_outbox_id_fkey"
            columns: ["outbox_id"]
            isOneToOne: false
            referencedRelation: "email_outbox"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "reply_drafts_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      deals: {
        Row: {
          ai_insights: string | null
          close_date: string | null
          company: string
          company_size: string | null
          contact_email: string | null
          contact_name: string | null
          created_at: string
          id: string
          industry: string | null
          name: string
          notes: string | null
          owner_user_id_legacy: string
          source: string | null
          stage: string
          updated_at: string
          user_id_uuid: string
          value: number
        }
        Insert: {
          ai_insights?: string | null
          close_date?: string | null
          company: string
          company_size?: string | null
          contact_email?: string | null
          contact_name?: string | null
          created_at?: string
          id?: string
          industry?: string | null
          name: string
          notes?: string | null
          owner_user_id_legacy: string
          source?: string | null
          stage: string
          updated_at?: string
          user_id_uuid: string
          value: number
        }
        Update: {
          ai_insights?: string | null
          close_date?: string | null
          company?: string
          company_size?: string | null
          contact_email?: string | null
          contact_name?: string | null
          created_at?: string
          id?: string
          industry?: string | null
          name?: string
          notes?: string | null
          owner_user_id_legacy?: string
          source?: string | null
          stage?: string
          updated_at?: string
          user_id_uuid?: string
          value?: number
        }
        Relationships: [
          {
            foreignKeyName: "deals_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      follow_ups: {
        Row: {
          body: string | null
          contact_id: string | null
          due_date: string | null
          id: string
          last_action: string | null
          last_action_date: string | null
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          person_name: string
          priority: string
          user_id_uuid: string
        }
        Insert: {
          body?: string | null
          contact_id?: string | null
          due_date?: string | null
          id?: string
          last_action?: string | null
          last_action_date?: string | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          person_name: string
          priority: string
          user_id_uuid: string
        }
        Update: {
          body?: string | null
          contact_id?: string | null
          due_date?: string | null
          id?: string
          last_action?: string | null
          last_action_date?: string | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          person_name?: string
          priority?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "follow_ups_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts" // Assuming existent or will exist
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "follow_ups_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      habit_logs: {
        Row: {
          count: number
          habit_id: string
          id: string
          occurred_at: string
          occurred_on: string
          owner_user_id: string
          user_id_uuid: string
        }
        Insert: {
          count?: number
          habit_id: string
          id?: string
          occurred_at?: string
          occurred_on: string
          owner_user_id: string
          user_id_uuid: string
        }
        Update: {
          count?: number
          habit_id?: string
          id?: string
          occurred_at?: string
          occurred_on?: string
          owner_user_id?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "habit_logs_habit_id_fkey"
            columns: ["habit_id"]
            isOneToOne: false
            referencedRelation: "habits"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "habit_logs_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      habits: {
        Row: {
          description: string | null
          frequency: string
          id: string
          is_active: boolean
          name: string
          owner_user_id: string
          owner_user_id_legacy: string
          streak: number
          updated_at: string
          user_id_uuid: string
          xp_per_completion: number
        }
        Insert: {
          description?: string | null
          frequency?: string
          id?: string
          is_active?: boolean
          name: string
          owner_user_id: string
          owner_user_id_legacy: string
          streak?: number
          updated_at?: string
          user_id_uuid: string
          xp_per_completion?: number
        }
        Update: {
          description?: string | null
          frequency?: string
          id?: string
          is_active?: boolean
          name?: string
          owner_user_id?: string
          owner_user_id_legacy?: string
          streak?: number
          updated_at?: string
          user_id_uuid?: string
          xp_per_completion?: number
        }
        Relationships: [
          {
            foreignKeyName: "habits_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      journal_entries: {
        Row: {
          created_at: string
          id: string
          mood: number | null
          owner_user_id_legacy: string
          tags: string[] | null
          title: string
          transcript: string
          user_id_uuid: string
          xp_earned: number | null
        }
        Insert: {
          created_at?: string
          id?: string
          mood?: number | null
          owner_user_id_legacy: string
          tags?: string[] | null
          title: string
          transcript: string
          user_id_uuid: string
          xp_earned?: number | null
        }
        Update: {
          created_at?: string
          id?: string
          mood?: number | null
          owner_user_id_legacy?: string
          tags?: string[] | null
          title?: string
          transcript?: string
          user_id_uuid?: string
          xp_earned?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "journal_entries_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      tasks: {
        Row: {
          completed_at: string | null
          due_at: string | null
          id: string
          name: string
          owner_user_id_legacy: string
          priority: number
          project: string | null
          status: string
          title: string
          user_id_uuid: string
          xp: number | null
        }
        Insert: {
          completed_at?: string | null
          due_at?: string | null
          id?: string
          name: string
          owner_user_id_legacy: string
          priority?: number
          project?: string | null
          status: string
          title: string
          user_id_uuid: string
          xp?: number | null
        }
        Update: {
          completed_at?: string | null
          due_at?: string | null
          id?: string
          name?: string
          owner_user_id_legacy?: string
          priority?: number
          project?: string | null
          status?: string
          title?: string
          user_id_uuid?: string
          xp?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "tasks_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      xp_transactions: {
        Row: {
          amount: number
          created_at: string
          id: string
          owner_user_id_legacy: string
          reason: string
          source_id: string | null
          source_type: string
          user_id_uuid: string
        }
        Insert: {
          amount: number
          created_at?: string
          id?: string
          owner_user_id_legacy: string
          reason: string
          source_id?: string | null
          source_type: string
          user_id_uuid: string
        }
        Update: {
          amount?: number
          created_at?: string
          id?: string
          owner_user_id_legacy?: string
          reason?: string
          source_id?: string | null
          source_type?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "xp_transactions_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      autonomy_actions: {
        Row: {
          created_at: string
          description: string | null
          id: string
          priority: string
          source: string | null
          source_id: string | null
          status: string
          title: string
          type: string
          user_id: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          id?: string
          priority?: string
          source?: string | null
          source_id?: string | null
          status: string
          title: string
          type: string
          user_id: string
        }
        Update: {
          created_at?: string
          description?: string | null
          id?: string
          priority?: string
          source?: string | null
          source_id?: string | null
          status?: string
          title?: string
          type?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "autonomy_actions_user_id_fkey_identity_users"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      campaign_enrollments: {
        Row: {
          campaign_id: string
          completed_at: string | null
          completed_steps: string[] | null
          contact_email: string
          contact_name: string
          current_step_index: number
          id: string
          next_step_at: string | null
          relationship_id: string | null
          started_at: string
          status: string
          user_id: string
        }
        Insert: {
          campaign_id: string
          completed_at?: string | null
          completed_steps?: string[] | null
          contact_email: string
          contact_name: string
          current_step_index?: number
          id?: string
          next_step_at?: string | null
          relationship_id?: string | null
          started_at?: string
          status: string
          user_id: string
        }
        Update: {
          campaign_id?: string
          completed_at?: string | null
          completed_steps?: string[] | null
          contact_email?: string
          contact_name?: string
          current_step_index?: number
          id?: string
          next_step_at?: string | null
          relationship_id?: string | null
          started_at?: string
          status?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "campaign_enrollments_campaign_id_fkey"
            columns: ["campaign_id"]
            isOneToOne: false
            referencedRelation: "campaigns"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "campaign_enrollments_user_id_fkey_identity_users"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      campaigns: {
        Row: {
          completed_at: string | null
          completed_count: number
          created_at: string
          description: string | null
          enrolled_count: number
          id: string
          name: string
          started_at: string | null
          status: string
          steps: Json
          target_criteria: Json
          type: string
          updated_at: string
          user_id: string
        }
        Insert: {
          completed_at?: string | null
          completed_count?: number
          created_at?: string
          description?: string | null
          enrolled_count?: number
          id?: string
          name: string
          started_at?: string | null
          status: string
          steps?: Json
          target_criteria?: Json
          type: string
          updated_at?: string
          user_id: string
        }
        Update: {
          completed_at?: string | null
          completed_count?: number
          created_at?: string
          description?: string | null
          enrolled_count?: number
          id?: string
          name?: string
          started_at?: string | null
          status?: string
          steps?: Json
          target_criteria?: Json
          type?: string
          updated_at?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "campaigns_user_id_fkey_identity_users"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      delegation_drafts: {
        Row: {
          content: string | null
          created_at: string
          id: string
          source: string | null
          source_id: string | null
          status: string
          subject: string | null
          target: string | null
          target_name: string | null
          type: string
          user_id: string
        }
        Insert: {
          content?: string | null
          created_at?: string
          id?: string
          source?: string | null
          source_id?: string | null
          status: string
          subject?: string | null
          target?: string | null
          target_name?: string | null
          type: string
          user_id: string
        }
        Update: {
          content?: string | null
          created_at?: string
          id?: string
          source?: string | null
          source_id?: string | null
          status?: string
          subject?: string | null
          target?: string | null
          target_name?: string | null
          type?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "delegation_drafts_user_id_fkey_identity_users"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          }
        ]
      }
      agi_telemetry: {
        Row: {
          action_count: number | null
          agent_name: string | null
          created_at: string
          duration_ms: number | null
          id: string
          org_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          run_id: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          action_count?: number | null
          agent_name?: string | null
          created_at?: string
          duration_ms?: number | null
          id?: string
          org_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          run_id?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          action_count?: number | null
          agent_name?: string | null
          created_at?: string
          duration_ms?: number | null
          id?: string
          org_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          run_id?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "agi_telemetry_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "agi_telemetry_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_agi_telemetry__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      agi_user_profile: {
        Row: {
          autonomy_style: string
          capabilities: Json
          created_at: string
          focus_areas: string[] | null
          hard_limits: Json
          notification_preferences: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          predictive_assistance: boolean
          priorities: Json
          rituals: Json
          tone: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          autonomy_style?: string
          capabilities?: Json
          created_at?: string
          focus_areas?: string[] | null
          hard_limits?: Json
          notification_preferences?: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          predictive_assistance?: boolean
          priorities?: Json
          rituals?: Json
          tone?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          autonomy_style?: string
          capabilities?: Json
          created_at?: string
          focus_areas?: string[] | null
          hard_limits?: Json
          notification_preferences?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          predictive_assistance?: boolean
          priorities?: Json
          rituals?: Json
          tone?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "agi_user_profile_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_agi_user_profile__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      align_feedback: {
        Row: {
          context: string
          created_at: string
          feedback_type: string
          id: string
          message: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string
          user_id_uuid: string
        }
        Insert: {
          context: string
          created_at?: string
          feedback_type: string
          id?: string
          message?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source: string
          user_id_uuid: string
        }
        Update: {
          context?: string
          created_at?: string
          feedback_type?: string
          id?: string
          message?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "align_feedback_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_align_feedback__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      align_global_policies: {
        Row: {
          created_at: string
          description: string
          id: string
          key: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          rules: Json
          updated_at: string
        }
        Insert: {
          created_at?: string
          description: string
          id?: string
          key: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          rules: Json
          updated_at?: string
        }
        Update: {
          created_at?: string
          description?: string
          id?: string
          key?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          rules?: Json
          updated_at?: string
        }
        Relationships: []
      }
      align_user_profiles: {
        Row: {
          alignment_mode: string
          boundaries: Json
          core_values: Json
          created_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          tone_preferences: Json
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          alignment_mode?: string
          boundaries?: Json
          core_values?: Json
          created_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          tone_preferences?: Json
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          alignment_mode?: string
          boundaries?: Json
          core_values?: Json
          created_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          tone_preferences?: Json
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "align_user_profiles_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_align_user_profiles__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      align_violations: {
        Row: {
          context: string
          created_at: string
          id: string
          output_snippet: string
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          raw_details: Json
          request_summary: string
          severity: string
          user_id_uuid: string
          violation_types: string[]
        }
        Insert: {
          context: string
          created_at?: string
          id?: string
          output_snippet: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          raw_details: Json
          request_summary: string
          severity: string
          user_id_uuid: string
          violation_types: string[]
        }
        Update: {
          context?: string
          created_at?: string
          id?: string
          output_snippet?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          raw_details?: Json
          request_summary?: string
          severity?: string
          user_id_uuid?: string
          violation_types?: string[]
        }
        Relationships: [
          {
            foreignKeyName: "align_violations_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_align_violations__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      alignment_evaluations: {
        Row: {
          approvals: Json | null
          context_id: string | null
          context_type: string
          created_at: string
          ethical_risk: number
          evaluated_at: string
          final_recommendation: string | null
          id: string
          input_summary: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          recommended_adjustment: string | null
          red_flags: Json | null
          source: string
          user_id_text: string | null
          user_id_uuid: string
          value_alignment: number
        }
        Insert: {
          approvals?: Json | null
          context_id?: string | null
          context_type: string
          created_at?: string
          ethical_risk: number
          evaluated_at?: string
          final_recommendation?: string | null
          id?: string
          input_summary?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          recommended_adjustment?: string | null
          red_flags?: Json | null
          source: string
          user_id_text?: string | null
          user_id_uuid: string
          value_alignment: number
        }
        Update: {
          approvals?: Json | null
          context_id?: string | null
          context_type?: string
          created_at?: string
          ethical_risk?: number
          evaluated_at?: string
          final_recommendation?: string | null
          id?: string
          input_summary?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          recommended_adjustment?: string | null
          red_flags?: Json | null
          source?: string
          user_id_text?: string | null
          user_id_uuid?: string
          value_alignment?: number
        }
        Relationships: [
          {
            foreignKeyName: "alignment_evaluations_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_alignment_evaluations__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      archetype_definitions: {
        Row: {
          core_gifts: Json | null
          core_risks: Json | null
          description: string
          display_name: string
          healthy_expression: Json | null
          id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          shadow_expression: Json | null
        }
        Insert: {
          core_gifts?: Json | null
          core_risks?: Json | null
          description: string
          display_name: string
          healthy_expression?: Json | null
          id: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          shadow_expression?: Json | null
        }
        Update: {
          core_gifts?: Json | null
          core_risks?: Json | null
          description?: string
          display_name?: string
          healthy_expression?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          shadow_expression?: Json | null
        }
        Relationships: []
      }
      archetype_events: {
        Row: {
          archetype_id: string
          created_at: string | null
          description: string | null
          id: string
          intensity: number
          linked_canon_event_id: string | null
          mode: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string | null
          source_id: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          archetype_id: string
          created_at?: string | null
          description?: string | null
          id?: string
          intensity: number
          linked_canon_event_id?: string | null
          mode: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source?: string | null
          source_id?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          archetype_id?: string
          created_at?: string | null
          description?: string | null
          id?: string
          intensity?: number
          linked_canon_event_id?: string | null
          mode?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string | null
          source_id?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "archetype_events_archetype_id_fkey"
            columns: ["archetype_id"]
            isOneToOne: false
            referencedRelation: "archetype_definitions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "archetype_events_linked_canon_event_id_fkey"
            columns: ["linked_canon_event_id"]
            isOneToOne: false
            referencedRelation: "canon_events"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "archetype_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_archetype_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      archetype_snapshots: {
        Row: {
          current_mix: Json | null
          fading_archetypes: Json | null
          id: string
          narrative_summary: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          rising_archetypes: Json | null
          snapshot_time: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          current_mix?: Json | null
          fading_archetypes?: Json | null
          id?: string
          narrative_summary?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          rising_archetypes?: Json | null
          snapshot_time?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          current_mix?: Json | null
          fading_archetypes?: Json | null
          id?: string
          narrative_summary?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          rising_archetypes?: Json | null
          snapshot_time?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "archetype_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_archetype_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      artifact_links: {
        Row: {
          created_at: string
          execution_id: string | null
          execution_run_id: string | null
          from_id: string | null
          from_key: string | null
          from_type: string
          id: string
          meta: Json
          owner_user_id: string
          relation: string
          to_id: string | null
          to_key: string | null
          to_type: string
          trace_id: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          execution_id?: string | null
          execution_run_id?: string | null
          from_id?: string | null
          from_key?: string | null
          from_type: string
          id?: string
          meta?: Json
          owner_user_id: string
          relation: string
          to_id?: string | null
          to_key?: string | null
          to_type: string
          trace_id?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          execution_id?: string | null
          execution_run_id?: string | null
          from_id?: string | null
          from_key?: string | null
          from_type?: string
          id?: string
          meta?: Json
          owner_user_id?: string
          relation?: string
          to_id?: string | null
          to_key?: string | null
          to_type?: string
          trace_id?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "artifact_links_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_artifact_links__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      attention_events: {
        Row: {
          frame_id: string | null
          from_item_id: string | null
          id: string
          notes: string | null
          occurred_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          reason: string | null
          to_item_id: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          frame_id?: string | null
          from_item_id?: string | null
          id?: string
          notes?: string | null
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          reason?: string | null
          to_item_id?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          frame_id?: string | null
          from_item_id?: string | null
          id?: string
          notes?: string | null
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          reason?: string | null
          to_item_id?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "attention_events_frame_id_fkey"
            columns: ["frame_id"]
            isOneToOne: false
            referencedRelation: "conscious_frames"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "attention_events_from_item_id_fkey"
            columns: ["from_item_id"]
            isOneToOne: false
            referencedRelation: "conscious_items"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "attention_events_to_item_id_fkey"
            columns: ["to_item_id"]
            isOneToOne: false
            referencedRelation: "conscious_items"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "attention_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_attention_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      autonomy_actions: {
        Row: {
          created_at: string
          description: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          related_insight_id: string | null
          scheduled_for: string | null
          status: string | null
          title: string
          type: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          related_insight_id?: string | null
          scheduled_for?: string | null
          status?: string | null
          title: string
          type: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          related_insight_id?: string | null
          scheduled_for?: string | null
          status?: string | null
          title?: string
          type?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "autonomy_actions_related_insight_id_fkey"
            columns: ["related_insight_id"]
            isOneToOne: false
            referencedRelation: "third_brain_insights"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "autonomy_actions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_autonomy_actions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      autopilot_jobs: {
        Row: {
          error: string | null
          finished_at: string | null
          id: string
          meta: Json
          owner_user_id: string
          requested_at: string
          started_at: string | null
          status: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          error?: string | null
          finished_at?: string | null
          id?: string
          meta?: Json
          owner_user_id: string
          requested_at?: string
          started_at?: string | null
          status?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          error?: string | null
          finished_at?: string | null
          id?: string
          meta?: Json
          owner_user_id?: string
          requested_at?: string
          started_at?: string | null
          status?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "autopilot_jobs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_autopilot_jobs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      autopilot_suggestions: {
        Row: {
          created_at: string
          details: Json
          id: string
          job_id: string | null
          kind: string
          owner_user_id: string
          priority: number
          status: string
          title: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          details?: Json
          id?: string
          job_id?: string | null
          kind: string
          owner_user_id: string
          priority?: number
          status?: string
          title: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          details?: Json
          id?: string
          job_id?: string | null
          kind?: string
          owner_user_id?: string
          priority?: number
          status?: string
          title?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "autopilot_suggestions_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "autopilot_jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "autopilot_suggestions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_autopilot_suggestions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      behavior_predictions: {
        Row: {
          created_at: string
          entity_id: string
          entity_type: string
          features_used: Json | null
          horizon: string
          id: string
          outcome_label: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          prediction_time: string
          probability: number
          reasoning_summary: string | null
          recommended_intervention: Json | null
          target_id: string | null
          target_type: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          entity_id: string
          entity_type: string
          features_used?: Json | null
          horizon: string
          id?: string
          outcome_label: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          prediction_time?: string
          probability: number
          reasoning_summary?: string | null
          recommended_intervention?: Json | null
          target_id?: string | null
          target_type: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          entity_id?: string
          entity_type?: string
          features_used?: Json | null
          horizon?: string
          id?: string
          outcome_label?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          prediction_time?: string
          probability?: number
          reasoning_summary?: string | null
          recommended_intervention?: Json | null
          target_id?: string | null
          target_type?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "behavior_predictions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_behavior_predictions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      brain_capabilities: {
        Row: {
          capability_key: string
          created_at: string
          enabled: boolean
          id: string
          level: number | null
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source_subsystems: string[] | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          capability_key: string
          created_at?: string
          enabled?: boolean
          id?: string
          level?: number | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source_subsystems?: string[] | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          capability_key?: string
          created_at?: string
          enabled?: boolean
          id?: string
          level?: number | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source_subsystems?: string[] | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "brain_capabilities_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_brain_capabilities__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      brain_changelog: {
        Row: {
          change_type: string
          created_at: string
          description: string
          id: string
          metadata: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          subsystem_id: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          change_type: string
          created_at?: string
          description: string
          id?: string
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          subsystem_id?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          change_type?: string
          created_at?: string
          description?: string
          id?: string
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          subsystem_id?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "brain_changelog_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_brain_changelog__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      brain_entries: {
        Row: {
          content: string
          created_at: string
          id: string
          metadata: Json
          owner_user_id: string
          source: string | null
          source_id: string | null
          tags: string[]
          title: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          content: string
          created_at?: string
          id?: string
          metadata?: Json
          owner_user_id: string
          source?: string | null
          source_id?: string | null
          tags?: string[]
          title: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          content?: string
          created_at?: string
          id?: string
          metadata?: Json
          owner_user_id?: string
          source?: string | null
          source_id?: string | null
          tags?: string[]
          title?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "brain_entries_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_brain_entries__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      brain_error_events: {
        Row: {
          context: Json | null
          error_code: string | null
          id: string
          message: string
          occurred_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          resolution_notes: string | null
          resolved: boolean
          resolved_at: string | null
          severity: string
          subsystem_id: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          context?: Json | null
          error_code?: string | null
          id?: string
          message: string
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          resolution_notes?: string | null
          resolved?: boolean
          resolved_at?: string | null
          severity: string
          subsystem_id?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          context?: Json | null
          error_code?: string | null
          id?: string
          message?: string
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          resolution_notes?: string | null
          resolved?: boolean
          resolved_at?: string | null
          severity?: string
          subsystem_id?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "brain_error_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_brain_error_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      brain_events: {
        Row: {
          correlation_id: string | null
          created_at: string
          event_time: string
          event_type: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          payload: Json
          source: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          correlation_id?: string | null
          created_at?: string
          event_time: string
          event_type: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          payload: Json
          source: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          correlation_id?: string | null
          created_at?: string
          event_time?: string
          event_type?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          payload?: Json
          source?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "brain_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_brain_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      brain_health_snapshots: {
        Row: {
          coverage_score: number | null
          data_freshness_score: number | null
          error_pressure: number | null
          id: string
          latency_pressure: number | null
          missing_subsystems: Json | null
          notes: string | null
          overall_health: number
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          recommendations: Json | null
          snapshot_time: string
          subsystem_scores: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          coverage_score?: number | null
          data_freshness_score?: number | null
          error_pressure?: number | null
          id?: string
          latency_pressure?: number | null
          missing_subsystems?: Json | null
          notes?: string | null
          overall_health: number
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          recommendations?: Json | null
          snapshot_time?: string
          subsystem_scores?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          coverage_score?: number | null
          data_freshness_score?: number | null
          error_pressure?: number | null
          id?: string
          latency_pressure?: number | null
          missing_subsystems?: Json | null
          notes?: string | null
          overall_health?: number
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          recommendations?: Json | null
          snapshot_time?: string
          subsystem_scores?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "brain_health_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_brain_health_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      brain_subsystems: {
        Row: {
          config: Json | null
          created_at: string
          description: string | null
          id: string
          key: string
          metrics: Json | null
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          region: string
          status: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
          version: string
        }
        Insert: {
          config?: Json | null
          created_at?: string
          description?: string | null
          id?: string
          key: string
          metrics?: Json | null
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          region: string
          status?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
          version?: string
        }
        Update: {
          config?: Json | null
          created_at?: string
          description?: string | null
          id?: string
          key?: string
          metrics?: Json | null
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          region?: string
          status?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
          version?: string
        }
        Relationships: [
          {
            foreignKeyName: "brain_subsystems_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_brain_subsystems__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      brainstem_status: {
        Row: {
          created_at: string
          id: string
          last_heartbeat_at: string
          meta: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          region: string
          status: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          last_heartbeat_at?: string
          meta?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          region: string
          status: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          last_heartbeat_at?: string
          meta?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          region?: string
          status?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "brainstem_status_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_brainstem_status__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      branch_comparisons: {
        Row: {
          compared_run_ids: string[]
          created_at: string | null
          id: string
          key_differences: Json | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          recommendation: string | null
          summary: string | null
          tree_id: string
        }
        Insert: {
          compared_run_ids: string[]
          created_at?: string | null
          id?: string
          key_differences?: Json | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          recommendation?: string | null
          summary?: string | null
          tree_id: string
        }
        Update: {
          compared_run_ids?: string[]
          created_at?: string | null
          id?: string
          key_differences?: Json | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          recommendation?: string | null
          summary?: string | null
          tree_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "branch_comparisons_tree_id_fkey"
            columns: ["tree_id"]
            isOneToOne: false
            referencedRelation: "decision_trees"
            referencedColumns: ["id"]
          },
        ]
      }
      branch_simulation_runs: {
        Row: {
          created_at: string | null
          id: string
          leaf_node_id: string
          narrative_summary: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          parameters: Json | null
          path_node_ids: string[]
          results: Json | null
          root_node_id: string
          run_at: string
          scores: Json | null
          tree_id: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          leaf_node_id: string
          narrative_summary?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          parameters?: Json | null
          path_node_ids: string[]
          results?: Json | null
          root_node_id: string
          run_at?: string
          scores?: Json | null
          tree_id: string
        }
        Update: {
          created_at?: string | null
          id?: string
          leaf_node_id?: string
          narrative_summary?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          parameters?: Json | null
          path_node_ids?: string[]
          results?: Json | null
          root_node_id?: string
          run_at?: string
          scores?: Json | null
          tree_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "branch_simulation_runs_leaf_node_id_fkey"
            columns: ["leaf_node_id"]
            isOneToOne: false
            referencedRelation: "decision_tree_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "branch_simulation_runs_root_node_id_fkey"
            columns: ["root_node_id"]
            isOneToOne: false
            referencedRelation: "decision_tree_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "branch_simulation_runs_tree_id_fkey"
            columns: ["tree_id"]
            isOneToOne: false
            referencedRelation: "decision_trees"
            referencedColumns: ["id"]
          },
        ]
      }
      butler_notifications: {
        Row: {
          acted_at: string | null
          created_at: string | null
          delivered_at: string | null
          id: string
          intervention_id: string | null
          intervention_type: string
          message: string
          metadata: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          status: string | null
          suggested_actions: Json | null
          trigger_type: string
          updated_at: string | null
          urgency: string | null
          user_id_uuid: string
        }
        Insert: {
          acted_at?: string | null
          created_at?: string | null
          delivered_at?: string | null
          id?: string
          intervention_id?: string | null
          intervention_type: string
          message: string
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          status?: string | null
          suggested_actions?: Json | null
          trigger_type: string
          updated_at?: string | null
          urgency?: string | null
          user_id_uuid: string
        }
        Update: {
          acted_at?: string | null
          created_at?: string | null
          delivered_at?: string | null
          id?: string
          intervention_id?: string | null
          intervention_type?: string
          message?: string
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          status?: string | null
          suggested_actions?: Json | null
          trigger_type?: string
          updated_at?: string | null
          urgency?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "butler_notifications_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_butler_notifications__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      butler_snoozes: {
        Row: {
          created_at: string | null
          id: string
          intervention_id: string | null
          notification_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          snooze_until: string
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          intervention_id?: string | null
          notification_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          snooze_until: string
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          id?: string
          intervention_id?: string | null
          notification_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          snooze_until?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "butler_snoozes_notification_id_fkey"
            columns: ["notification_id"]
            isOneToOne: false
            referencedRelation: "butler_notifications"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "butler_snoozes_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_butler_snoozes__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      calendar_accounts: {
        Row: {
          access_token: string
          calendar_id: string | null
          created_at: string
          id: string
          last_synced_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          provider: string
          provider_account_id: string
          refresh_token: string | null
          sync_enabled: boolean | null
          token_expires_at: string | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          access_token: string
          calendar_id?: string | null
          created_at?: string
          id?: string
          last_synced_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          provider?: string
          provider_account_id: string
          refresh_token?: string | null
          sync_enabled?: boolean | null
          token_expires_at?: string | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          access_token?: string
          calendar_id?: string | null
          created_at?: string
          id?: string
          last_synced_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          provider?: string
          provider_account_id?: string
          refresh_token?: string | null
          sync_enabled?: boolean | null
          token_expires_at?: string | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "calendar_accounts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_calendar_accounts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      calendar_events_cache: {
        Row: {
          all_day: boolean | null
          attendees: Json | null
          calendar_id: string
          created_at: string
          description: string | null
          end_time: string
          external_id: string
          html_link: string | null
          id: string
          location: string | null
          organizer: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          provider: string
          recurrence: string[] | null
          start_time: string
          status: string | null
          title: string | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          all_day?: boolean | null
          attendees?: Json | null
          calendar_id?: string
          created_at?: string
          description?: string | null
          end_time: string
          external_id: string
          html_link?: string | null
          id?: string
          location?: string | null
          organizer?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          provider?: string
          recurrence?: string[] | null
          start_time: string
          status?: string | null
          title?: string | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          all_day?: boolean | null
          attendees?: Json | null
          calendar_id?: string
          created_at?: string
          description?: string | null
          end_time?: string
          external_id?: string
          html_link?: string | null
          id?: string
          location?: string | null
          organizer?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          provider?: string
          recurrence?: string[] | null
          start_time?: string
          status?: string | null
          title?: string | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "calendar_events_cache_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_calendar_events_cache__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      call_intelligence_settings: {
        Row: {
          auto_consent_for_inbound: boolean
          auto_consent_for_outbound: boolean
          created_at: string
          enabled: boolean
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          region: string | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          auto_consent_for_inbound?: boolean
          auto_consent_for_outbound?: boolean
          created_at?: string
          enabled?: boolean
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          region?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          auto_consent_for_inbound?: boolean
          auto_consent_for_outbound?: boolean
          created_at?: string
          enabled?: boolean
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          region?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "call_intelligence_settings_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_call_intelligence_settings__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      call_links: {
        Row: {
          call_id: string
          confidence: number
          created_at: string
          entity_id: string
          entity_type: string
          id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
        }
        Insert: {
          call_id: string
          confidence?: number
          created_at?: string
          entity_id: string
          entity_type: string
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Update: {
          call_id?: string
          confidence?: number
          created_at?: string
          entity_id?: string
          entity_type?: string
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "call_links_call_id_fkey"
            columns: ["call_id"]
            isOneToOne: false
            referencedRelation: "call_sessions"
            referencedColumns: ["id"]
          },
        ]
      }
      call_segments: {
        Row: {
          call_id: string
          created_at: string
          ended_at: string | null
          id: string
          metadata: Json
          owner_user_id: string | null
          owner_user_uuid: string | null
          segment_index: number
          speaker: string
          started_at: string | null
          transcript: string
        }
        Insert: {
          call_id: string
          created_at?: string
          ended_at?: string | null
          id?: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          segment_index: number
          speaker: string
          started_at?: string | null
          transcript: string
        }
        Update: {
          call_id?: string
          created_at?: string
          ended_at?: string | null
          id?: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          segment_index?: number
          speaker?: string
          started_at?: string | null
          transcript?: string
        }
        Relationships: [
          {
            foreignKeyName: "call_segments_call_id_fkey"
            columns: ["call_id"]
            isOneToOne: false
            referencedRelation: "call_sessions"
            referencedColumns: ["id"]
          },
        ]
      }
      call_sessions: {
        Row: {
          consent_given: boolean
          created_at: string
          direction: string
          ended_at: string | null
          from_number: string | null
          id: string
          label: string | null
          org_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          provider: string | null
          provider_call_id: string | null
          started_at: string
          to_number: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          consent_given?: boolean
          created_at?: string
          direction?: string
          ended_at?: string | null
          from_number?: string | null
          id?: string
          label?: string | null
          org_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          provider?: string | null
          provider_call_id?: string | null
          started_at: string
          to_number?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          consent_given?: boolean
          created_at?: string
          direction?: string
          ended_at?: string | null
          from_number?: string | null
          id?: string
          label?: string | null
          org_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          provider?: string | null
          provider_call_id?: string | null
          started_at?: string
          to_number?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "call_sessions_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "call_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_call_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      call_summaries: {
        Row: {
          call_id: string
          created_at: string
          decisions: Json
          entities: Json
          followups: Json
          high_level_summary: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          raw: Json
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          call_id: string
          created_at?: string
          decisions?: Json
          entities?: Json
          followups?: Json
          high_level_summary?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          raw?: Json
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          call_id?: string
          created_at?: string
          decisions?: Json
          entities?: Json
          followups?: Json
          high_level_summary?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          raw?: Json
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "call_summaries_call_id_fkey"
            columns: ["call_id"]
            isOneToOne: false
            referencedRelation: "call_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "call_summaries_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_call_summaries__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      calls: {
        Row: {
          action_items: Json | null
          contact_id: string | null
          created_at: string | null
          deal_id: string | null
          direction: string
          duration_sec: number | null
          from_number: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          recording_url: string | null
          sentiment: string | null
          summary_detailed: string | null
          summary_short: string | null
          tags: string[] | null
          to_number: string | null
          transcript: string | null
          twilio_call_sid: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          action_items?: Json | null
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          direction: string
          duration_sec?: number | null
          from_number?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          recording_url?: string | null
          sentiment?: string | null
          summary_detailed?: string | null
          summary_short?: string | null
          tags?: string[] | null
          to_number?: string | null
          transcript?: string | null
          twilio_call_sid?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          action_items?: Json | null
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          direction?: string
          duration_sec?: number | null
          from_number?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          recording_url?: string | null
          sentiment?: string | null
          summary_detailed?: string | null
          summary_short?: string | null
          tags?: string[] | null
          to_number?: string | null
          transcript?: string | null
          twilio_call_sid?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "calls_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "calls_deal_id_fkey"
            columns: ["deal_id"]
            isOneToOne: false
            referencedRelation: "deals"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "calls_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_calls__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      campaign_enrollments: {
        Row: {
          campaign_id: string | null
          completed_at: string | null
          completed_steps: string[] | null
          contact_email: string | null
          contact_name: string | null
          current_step_index: number | null
          id: string
          next_step_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          relationship_id: string | null
          started_at: string
          status: string | null
          user_id_uuid: string
        }
        Insert: {
          campaign_id?: string | null
          completed_at?: string | null
          completed_steps?: string[] | null
          contact_email?: string | null
          contact_name?: string | null
          current_step_index?: number | null
          id?: string
          next_step_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          relationship_id?: string | null
          started_at: string
          status?: string | null
          user_id_uuid: string
        }
        Update: {
          campaign_id?: string | null
          completed_at?: string | null
          completed_steps?: string[] | null
          contact_email?: string | null
          contact_name?: string | null
          current_step_index?: number | null
          id?: string
          next_step_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          relationship_id?: string | null
          started_at?: string
          status?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "campaign_enrollments_campaign_id_fkey"
            columns: ["campaign_id"]
            isOneToOne: false
            referencedRelation: "campaigns"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "campaign_enrollments_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_campaign_enrollments__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      campaigns: {
        Row: {
          completed_at: string | null
          completed_count: number | null
          created_at: string
          description: string | null
          enrolled_count: number | null
          id: string
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          started_at: string | null
          status: string | null
          steps: Json
          target_criteria: Json | null
          type: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          completed_at?: string | null
          completed_count?: number | null
          created_at?: string
          description?: string | null
          enrolled_count?: number | null
          id?: string
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          started_at?: string | null
          status?: string | null
          steps?: Json
          target_criteria?: Json | null
          type: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          completed_at?: string | null
          completed_count?: number | null
          created_at?: string
          description?: string | null
          enrolled_count?: number | null
          id?: string
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          started_at?: string | null
          status?: string | null
          steps?: Json
          target_criteria?: Json | null
          type?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "campaigns_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_campaigns__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      canon_events: {
        Row: {
          attached_chapter: string | null
          consequences: Json | null
          created_at: string | null
          description: string | null
          emotional_tone: Json | null
          event_type: string
          id: string
          importance: number
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string | null
          source_id: string | null
          title: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          attached_chapter?: string | null
          consequences?: Json | null
          created_at?: string | null
          description?: string | null
          emotional_tone?: Json | null
          event_type: string
          id?: string
          importance: number
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source?: string | null
          source_id?: string | null
          title: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          attached_chapter?: string | null
          consequences?: Json | null
          created_at?: string | null
          description?: string | null
          emotional_tone?: Json | null
          event_type?: string
          id?: string
          importance?: number
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string | null
          source_id?: string | null
          title?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "canon_events_attached_chapter_fkey"
            columns: ["attached_chapter"]
            isOneToOne: false
            referencedRelation: "life_chapters"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "canon_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_canon_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      canon_migration_allowlist: {
        Row: {
          table_name: string
          table_schema: string
        }
        Insert: {
          table_name: string
          table_schema?: string
        }
        Update: {
          table_name?: string
          table_schema?: string
        }
        Relationships: []
      }
      canon_mode: {
        Row: {
          activated_at: string
          id: boolean
          mode: string
          updated_at: string
        }
        Insert: {
          activated_at?: string
          id?: boolean
          mode: string
          updated_at?: string
        }
        Update: {
          activated_at?: string
          id?: boolean
          mode?: string
          updated_at?: string
        }
        Relationships: []
      }
      canon_timeline_index: {
        Row: {
          chapter_id: string | null
          created_at: string | null
          event_id: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          timeline_position: number
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          chapter_id?: string | null
          created_at?: string | null
          event_id?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          timeline_position: number
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          chapter_id?: string | null
          created_at?: string | null
          event_id?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          timeline_position?: number
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "canon_timeline_index_chapter_id_fkey"
            columns: ["chapter_id"]
            isOneToOne: false
            referencedRelation: "life_chapters"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "canon_timeline_index_event_id_fkey"
            columns: ["event_id"]
            isOneToOne: false
            referencedRelation: "canon_events"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "canon_timeline_index_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_canon_timeline_index__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      canonical_schema_rules: {
        Row: {
          column_default: string | null
          column_name: string
          created_at: string
          data_type: string
          domain: string
          id: number
          is_nullable: boolean
          notes: string | null
          table_name: string
          table_schema: string
          updated_at: string
        }
        Insert: {
          column_default?: string | null
          column_name: string
          created_at?: string
          data_type: string
          domain: string
          id?: number
          is_nullable: boolean
          notes?: string | null
          table_name: string
          table_schema?: string
          updated_at?: string
        }
        Update: {
          column_default?: string | null
          column_name?: string
          created_at?: string
          data_type?: string
          domain?: string
          id?: number
          is_nullable?: boolean
          notes?: string | null
          table_name?: string
          table_schema?: string
          updated_at?: string
        }
        Relationships: []
      }
      chapter_archetypes: {
        Row: {
          archetype_mix: Json | null
          chapter_id: string
          created_at: string | null
          id: string
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          primary_archetype_id: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          archetype_mix?: Json | null
          chapter_id: string
          created_at?: string | null
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          primary_archetype_id?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          archetype_mix?: Json | null
          chapter_id?: string
          created_at?: string | null
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          primary_archetype_id?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "chapter_archetypes_chapter_id_fkey"
            columns: ["chapter_id"]
            isOneToOne: false
            referencedRelation: "life_chapters"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "chapter_archetypes_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_chapter_archetypes__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      civilization_domain_mappings: {
        Row: {
          created_at: string | null
          domain_id: string
          id: string
          node_id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          user_id_text: string | null
          user_id_uuid: string
          weight: number | null
        }
        Insert: {
          created_at?: string | null
          domain_id: string
          id?: string
          node_id: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid: string
          weight?: number | null
        }
        Update: {
          created_at?: string | null
          domain_id?: string
          id?: string
          node_id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
          weight?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "civilization_domain_mappings_domain_id_fkey"
            columns: ["domain_id"]
            isOneToOne: false
            referencedRelation: "civilization_domains"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "civilization_domain_mappings_node_id_fkey"
            columns: ["node_id"]
            isOneToOne: false
            referencedRelation: "knowledge_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "civilization_domain_mappings_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_civilization_domain_mappings__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      civilization_domain_state: {
        Row: {
          activity_score: number | null
          created_at: string | null
          domain_id: string
          health_score: number | null
          id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          snapshot_date: string
          summary: string | null
          tension_score: number | null
        }
        Insert: {
          activity_score?: number | null
          created_at?: string | null
          domain_id: string
          health_score?: number | null
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          snapshot_date: string
          summary?: string | null
          tension_score?: number | null
        }
        Update: {
          activity_score?: number | null
          created_at?: string | null
          domain_id?: string
          health_score?: number | null
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          snapshot_date?: string
          summary?: string | null
          tension_score?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "civilization_domain_state_domain_id_fkey"
            columns: ["domain_id"]
            isOneToOne: false
            referencedRelation: "civilization_domains"
            referencedColumns: ["id"]
          },
        ]
      }
      civilization_domains: {
        Row: {
          created_at: string | null
          description: string | null
          id: string
          is_active: boolean
          key: string
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          id?: string
          is_active?: boolean
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          description?: string | null
          id?: string
          is_active?: boolean
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "civilization_domains_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_civilization_domains__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      civilization_patterns: {
        Row: {
          created_at: string
          description_md: string
          domain: string
          id: string
          key: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          pattern: Json
          stats: Json
          title: string
        }
        Insert: {
          created_at?: string
          description_md: string
          domain: string
          id?: string
          key: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          pattern: Json
          stats: Json
          title: string
        }
        Update: {
          created_at?: string
          description_md?: string
          domain?: string
          id?: string
          key?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          pattern?: Json
          stats?: Json
          title?: string
        }
        Relationships: []
      }
      civilization_settings: {
        Row: {
          allow_anonymous_global: boolean
          allow_handle_global: boolean
          created_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          public_handle: string | null
          scoreboards_enabled: boolean
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
          vertical_prefs: Json
        }
        Insert: {
          allow_anonymous_global?: boolean
          allow_handle_global?: boolean
          created_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          public_handle?: string | null
          scoreboards_enabled?: boolean
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
          vertical_prefs?: Json
        }
        Update: {
          allow_anonymous_global?: boolean
          allow_handle_global?: boolean
          created_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          public_handle?: string | null
          scoreboards_enabled?: boolean
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
          vertical_prefs?: Json
        }
        Relationships: [
          {
            foreignKeyName: "civilization_settings_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_civilization_settings__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      coach_council_deliberations: {
        Row: {
          coach_id: string
          content: Json
          created_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          phase: string
          session_id: string
        }
        Insert: {
          coach_id: string
          content: Json
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          phase: string
          session_id: string
        }
        Update: {
          coach_id?: string
          content?: Json
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          phase?: string
          session_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "coach_council_deliberations_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "coach_council_sessions"
            referencedColumns: ["id"]
          },
        ]
      }
      coach_council_members: {
        Row: {
          coach_id: string
          created_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          persona_id: string | null
          role: string | null
          session_id: string
          weight: number | null
        }
        Insert: {
          coach_id: string
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          persona_id?: string | null
          role?: string | null
          session_id: string
          weight?: number | null
        }
        Update: {
          coach_id?: string
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          persona_id?: string | null
          role?: string | null
          session_id?: string
          weight?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "coach_council_members_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "coach_council_sessions"
            referencedColumns: ["id"]
          },
        ]
      }
      coach_council_sessions: {
        Row: {
          council_mode: string
          created_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          primary_coach_id: string
          request_id: string | null
          trigger_reason: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          council_mode: string
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          primary_coach_id: string
          request_id?: string | null
          trigger_reason: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          council_mode?: string
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          primary_coach_id?: string
          request_id?: string | null
          trigger_reason?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "coach_council_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_coach_council_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      coach_council_summary: {
        Row: {
          created_at: string | null
          final_answer: string
          id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          session_id: string
          summary_json: Json | null
        }
        Insert: {
          created_at?: string | null
          final_answer: string
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          session_id: string
          summary_json?: Json | null
        }
        Update: {
          created_at?: string | null
          final_answer?: string
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          session_id?: string
          summary_json?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "coach_council_summary_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "coach_council_sessions"
            referencedColumns: ["id"]
          },
        ]
      }
      coach_generated_scenarios: {
        Row: {
          created_at: string
          difficulty_rating: string | null
          generated_scenario: Json
          id: string
          input_prompt: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          quality_score: number | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          difficulty_rating?: string | null
          generated_scenario: Json
          id?: string
          input_prompt: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          quality_score?: number | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          difficulty_rating?: string | null
          generated_scenario?: Json
          id?: string
          input_prompt?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          quality_score?: number | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "coach_generated_scenarios_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_coach_generated_scenarios__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      coach_multi_agent_sessions: {
        Row: {
          agent_contributions: Json | null
          agents: string[]
          created_at: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          scenario_id: string | null
          transcript: Json
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          agent_contributions?: Json | null
          agents?: string[]
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          scenario_id?: string | null
          transcript?: Json
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          agent_contributions?: Json | null
          agents?: string[]
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          scenario_id?: string | null
          transcript?: Json
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "coach_multi_agent_sessions_scenario_id_fkey"
            columns: ["scenario_id"]
            isOneToOne: false
            referencedRelation: "coach_scenarios"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "coach_multi_agent_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_coach_multi_agent_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      coach_roleplay_scenarios: {
        Row: {
          coach_id: string
          config: Json
          created_at: string | null
          id: string
          is_default: boolean | null
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          scenario_type: string
        }
        Insert: {
          coach_id: string
          config: Json
          created_at?: string | null
          id?: string
          is_default?: boolean | null
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          scenario_type: string
        }
        Update: {
          coach_id?: string
          config?: Json
          created_at?: string | null
          id?: string
          is_default?: boolean | null
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          scenario_type?: string
        }
        Relationships: []
      }
      coach_scenarios: {
        Row: {
          coach_type: string
          constraints: Json | null
          created_at: string
          customer_profile: Json | null
          description: string | null
          difficulty: string
          id: string
          initial_prompt: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          title: string
          topic_tags: string[] | null
          updated_at: string
        }
        Insert: {
          coach_type: string
          constraints?: Json | null
          created_at?: string
          customer_profile?: Json | null
          description?: string | null
          difficulty?: string
          id?: string
          initial_prompt?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          title: string
          topic_tags?: string[] | null
          updated_at?: string
        }
        Update: {
          coach_type?: string
          constraints?: Json | null
          created_at?: string
          customer_profile?: Json | null
          description?: string | null
          difficulty?: string
          id?: string
          initial_prompt?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          title?: string
          topic_tags?: string[] | null
          updated_at?: string
        }
        Relationships: []
      }
      coach_sessions: {
        Row: {
          action_items: string[] | null
          breakthrough: boolean | null
          coach: string
          created_at: string | null
          goals_discussed: string[] | null
          id: string
          insights: Json | null
          mood: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          summary: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          action_items?: string[] | null
          breakthrough?: boolean | null
          coach: string
          created_at?: string | null
          goals_discussed?: string[] | null
          id?: string
          insights?: Json | null
          mood?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          summary?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          action_items?: string[] | null
          breakthrough?: boolean | null
          coach?: string
          created_at?: string | null
          goals_discussed?: string[] | null
          id?: string
          insights?: Json | null
          mood?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          summary?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "coach_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_coach_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      coach_training_sessions: {
        Row: {
          belt_progression: Json | null
          coach_id: string
          created_at: string | null
          difficulty: string | null
          feedback_summary: Json | null
          id: string
          key_takeaways: string | null
          llm_difficulty: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          performance_score: number | null
          scenario_type: string
          skill_nodes: string[] | null
          success_rating: number | null
          transcript: Json | null
          user_id_text: string | null
          user_id_uuid: string
          xp_awarded: Json | null
        }
        Insert: {
          belt_progression?: Json | null
          coach_id: string
          created_at?: string | null
          difficulty?: string | null
          feedback_summary?: Json | null
          id?: string
          key_takeaways?: string | null
          llm_difficulty?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          performance_score?: number | null
          scenario_type: string
          skill_nodes?: string[] | null
          success_rating?: number | null
          transcript?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
          xp_awarded?: Json | null
        }
        Update: {
          belt_progression?: Json | null
          coach_id?: string
          created_at?: string | null
          difficulty?: string | null
          feedback_summary?: Json | null
          id?: string
          key_takeaways?: string | null
          llm_difficulty?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          performance_score?: number | null
          scenario_type?: string
          skill_nodes?: string[] | null
          success_rating?: number | null
          transcript?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
          xp_awarded?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "coach_training_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_coach_training_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      coach_user_preferences: {
        Row: {
          coach_type: string
          created_at: string
          difficulty_pref: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          tone: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          coach_type: string
          created_at?: string
          difficulty_pref?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          tone?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          coach_type?: string
          created_at?: string
          difficulty_pref?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          tone?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "coach_user_preferences_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_coach_user_preferences__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      coach_voice_overrides: {
        Row: {
          coach_id: string
          created_at: string | null
          emotion_overrides: Json | null
          id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          voice_profile_id: string
        }
        Insert: {
          coach_id: string
          created_at?: string | null
          emotion_overrides?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          voice_profile_id: string
        }
        Update: {
          coach_id?: string
          created_at?: string | null
          emotion_overrides?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          voice_profile_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "coach_voice_overrides_voice_profile_id_fkey"
            columns: ["voice_profile_id"]
            isOneToOne: false
            referencedRelation: "voice_profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      coach_voice_sessions: {
        Row: {
          audio_url: string | null
          coaching_summary: Json | null
          created_at: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          patterns_detected: Json | null
          sentiment_curve: Json | null
          transcript: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          audio_url?: string | null
          coaching_summary?: Json | null
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          patterns_detected?: Json | null
          sentiment_curve?: Json | null
          transcript?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          audio_url?: string | null
          coaching_summary?: Json | null
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          patterns_detected?: Json | null
          sentiment_curve?: Json | null
          transcript?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "coach_voice_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_coach_voice_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cognitive_hypotheses: {
        Row: {
          confidence: number
          created_at: string
          description: string
          evidence_against: Json | null
          evidence_for: Json | null
          id: string
          label: string
          last_evaluated_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          status: string
          tags: string[] | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          confidence?: number
          created_at?: string
          description: string
          evidence_against?: Json | null
          evidence_for?: Json | null
          id?: string
          label: string
          last_evaluated_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          status?: string
          tags?: string[] | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          confidence?: number
          created_at?: string
          description?: string
          evidence_against?: Json | null
          evidence_for?: Json | null
          id?: string
          label?: string
          last_evaluated_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          status?: string
          tags?: string[] | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "cognitive_hypotheses_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cognitive_hypotheses__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cognitive_insights: {
        Row: {
          category: string
          confidence: number
          created_at: string
          description: string
          id: string
          importance: number
          label: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          recommended_actions: Json | null
          related_entities: Json | null
          run_id: string
          scope: string | null
          source_phase: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          category: string
          confidence: number
          created_at?: string
          description: string
          id?: string
          importance: number
          label: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          recommended_actions?: Json | null
          related_entities?: Json | null
          run_id: string
          scope?: string | null
          source_phase: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          category?: string
          confidence?: number
          created_at?: string
          description?: string
          id?: string
          importance?: number
          label?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          recommended_actions?: Json | null
          related_entities?: Json | null
          run_id?: string
          scope?: string | null
          source_phase?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "cognitive_insights_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "cognitive_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "cognitive_insights_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cognitive_insights__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cognitive_phases: {
        Row: {
          created_at: string
          details: Json | null
          error_summary: string | null
          finished_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          phase_name: string
          run_id: string
          started_at: string
          status: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          details?: Json | null
          error_summary?: string | null
          finished_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          phase_name: string
          run_id: string
          started_at?: string
          status?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          details?: Json | null
          error_summary?: string | null
          finished_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          phase_name?: string
          run_id?: string
          started_at?: string
          status?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "cognitive_phases_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "cognitive_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "cognitive_phases_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cognitive_phases__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cognitive_runs: {
        Row: {
          created_at: string
          finished_at: string | null
          id: string
          kind: string
          overall_confidence: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          safety_flags: Json | null
          started_at: string
          status: string
          summary: string | null
          trigger_reference: Json | null
          trigger_source: string | null
          trigger_type: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          finished_at?: string | null
          id?: string
          kind: string
          overall_confidence?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          safety_flags?: Json | null
          started_at?: string
          status?: string
          summary?: string | null
          trigger_reference?: Json | null
          trigger_source?: string | null
          trigger_type: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          finished_at?: string | null
          id?: string
          kind?: string
          overall_confidence?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          safety_flags?: Json | null
          started_at?: string
          status?: string
          summary?: string | null
          trigger_reference?: Json | null
          trigger_source?: string | null
          trigger_type?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "cognitive_runs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cognitive_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cognitive_self_reflections: {
        Row: {
          content: string
          created_at: string
          followup_hints: Json | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          perspective: string
          referenced_issues: Json | null
          referenced_subsystems: string[] | null
          run_id: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          content: string
          created_at?: string
          followup_hints?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          perspective: string
          referenced_issues?: Json | null
          referenced_subsystems?: string[] | null
          run_id?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          content?: string
          created_at?: string
          followup_hints?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          perspective?: string
          referenced_issues?: Json | null
          referenced_subsystems?: string[] | null
          run_id?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "cognitive_self_reflections_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "cognitive_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "cognitive_self_reflections_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cognitive_self_reflections__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cognitive_update_actions: {
        Row: {
          action_kind: string
          autonomy_level: string
          confidence: number
          created_at: string
          id: string
          importance: number
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          payload: Json
          run_id: string | null
          safety_risk: number
          status: string
          status_details: Json | null
          target_system: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          action_kind: string
          autonomy_level: string
          confidence: number
          created_at?: string
          id?: string
          importance: number
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          payload: Json
          run_id?: string | null
          safety_risk: number
          status?: string
          status_details?: Json | null
          target_system: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          action_kind?: string
          autonomy_level?: string
          confidence?: number
          created_at?: string
          id?: string
          importance?: number
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          payload?: Json
          run_id?: string | null
          safety_risk?: number
          status?: string
          status_details?: Json | null
          target_system?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "cognitive_update_actions_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "cognitive_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "cognitive_update_actions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cognitive_update_actions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      communication_programs: {
        Row: {
          config: Json
          created_at: string
          description: string | null
          id: string
          key: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
        }
        Insert: {
          config?: Json
          created_at?: string
          description?: string | null
          id?: string
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Update: {
          config?: Json
          created_at?: string
          description?: string | null
          id?: string
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Relationships: []
      }
      communication_sessions: {
        Row: {
          completed_at: string | null
          context: Json
          created_at: string
          id: string
          mode: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          program_key: string
          score: number | null
          status: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          completed_at?: string | null
          context?: Json
          created_at?: string
          id?: string
          mode: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          program_key: string
          score?: number | null
          status?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          completed_at?: string | null
          context?: Json
          created_at?: string
          id?: string
          mode?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          program_key?: string
          score?: number | null
          status?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "communication_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_communication_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      communication_turns: {
        Row: {
          content: string
          created_at: string
          id: string
          metadata: Json
          owner_user_id: string | null
          owner_user_uuid: string | null
          session_id: string
          speaker: string
          turn_index: number
        }
        Insert: {
          content: string
          created_at?: string
          id?: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          session_id: string
          speaker: string
          turn_index: number
        }
        Update: {
          content?: string
          created_at?: string
          id?: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          session_id?: string
          speaker?: string
          turn_index?: number
        }
        Relationships: [
          {
            foreignKeyName: "communication_turns_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "communication_sessions"
            referencedColumns: ["id"]
          },
        ]
      }
      conscious_conflicts: {
        Row: {
          conflict_kind: string
          created_at: string
          description: string
          frame_id: string | null
          id: string
          item_a_id: string | null
          item_b_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          severity: number
          suggested_resolutions: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          conflict_kind: string
          created_at?: string
          description: string
          frame_id?: string | null
          id?: string
          item_a_id?: string | null
          item_b_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          severity: number
          suggested_resolutions?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          conflict_kind?: string
          created_at?: string
          description?: string
          frame_id?: string | null
          id?: string
          item_a_id?: string | null
          item_b_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          severity?: number
          suggested_resolutions?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "conscious_conflicts_frame_id_fkey"
            columns: ["frame_id"]
            isOneToOne: false
            referencedRelation: "conscious_frames"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "conscious_conflicts_item_a_id_fkey"
            columns: ["item_a_id"]
            isOneToOne: false
            referencedRelation: "conscious_items"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "conscious_conflicts_item_b_id_fkey"
            columns: ["item_b_id"]
            isOneToOne: false
            referencedRelation: "conscious_items"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "conscious_conflicts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_conscious_conflicts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      conscious_frames: {
        Row: {
          created_at: string
          dominant_context: Json | null
          frame_time: string
          id: string
          overall_complexity: number | null
          overall_load: number | null
          overall_urgency: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          summary: string | null
          trigger_kind: string | null
          trigger_reference: Json | null
          trigger_source: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          dominant_context?: Json | null
          frame_time?: string
          id?: string
          overall_complexity?: number | null
          overall_load?: number | null
          overall_urgency?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          summary?: string | null
          trigger_kind?: string | null
          trigger_reference?: Json | null
          trigger_source?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          dominant_context?: Json | null
          frame_time?: string
          id?: string
          overall_complexity?: number | null
          overall_load?: number | null
          overall_urgency?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          summary?: string | null
          trigger_kind?: string | null
          trigger_reference?: Json | null
          trigger_source?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "conscious_frames_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_conscious_frames__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      conscious_insights: {
        Row: {
          created_at: string
          delivered_at: string | null
          dismissed_at: string | null
          domain: string | null
          generated_at: string
          id: string
          importance: number
          linked_event_ids: string[] | null
          linked_thread_ids: string[] | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string
          state_date: string | null
          suggested_action: string | null
          summary: string
          title: string
          urgency: number
          user_feedback: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          delivered_at?: string | null
          dismissed_at?: string | null
          domain?: string | null
          generated_at?: string
          id?: string
          importance?: number
          linked_event_ids?: string[] | null
          linked_thread_ids?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source: string
          state_date?: string | null
          suggested_action?: string | null
          summary: string
          title: string
          urgency?: number
          user_feedback?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          delivered_at?: string | null
          dismissed_at?: string | null
          domain?: string | null
          generated_at?: string
          id?: string
          importance?: number
          linked_event_ids?: string[] | null
          linked_thread_ids?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string
          state_date?: string | null
          suggested_action?: string | null
          summary?: string
          title?: string
          urgency?: number
          user_feedback?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "conscious_insights_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_conscious_insights__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      conscious_items: {
        Row: {
          attention_score: number
          created_at: string
          description: string | null
          domain: string | null
          emotional_salience: number
          frame_id: string
          id: string
          importance: number
          kind: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          payload: Json | null
          resolution_notes: string | null
          resolution_status: string
          selected: boolean
          source_subsystem: string
          tags: string[] | null
          title: string
          urgency: number
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          attention_score: number
          created_at?: string
          description?: string | null
          domain?: string | null
          emotional_salience: number
          frame_id: string
          id?: string
          importance: number
          kind: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          payload?: Json | null
          resolution_notes?: string | null
          resolution_status?: string
          selected?: boolean
          source_subsystem: string
          tags?: string[] | null
          title: string
          urgency: number
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          attention_score?: number
          created_at?: string
          description?: string | null
          domain?: string | null
          emotional_salience?: number
          frame_id?: string
          id?: string
          importance?: number
          kind?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          payload?: Json | null
          resolution_notes?: string | null
          resolution_status?: string
          selected?: boolean
          source_subsystem?: string
          tags?: string[] | null
          title?: string
          urgency?: number
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "conscious_items_frame_id_fkey"
            columns: ["frame_id"]
            isOneToOne: false
            referencedRelation: "conscious_frames"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "conscious_items_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_conscious_items__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      conscious_links: {
        Row: {
          created_at: string
          from_item_id: string
          id: string
          link_type: string
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          to_item_id: string
          user_id_text: string | null
          user_id_uuid: string
          weight: number
        }
        Insert: {
          created_at?: string
          from_item_id: string
          id?: string
          link_type: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          to_item_id: string
          user_id_text?: string | null
          user_id_uuid: string
          weight?: number
        }
        Update: {
          created_at?: string
          from_item_id?: string
          id?: string
          link_type?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          to_item_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
          weight?: number
        }
        Relationships: [
          {
            foreignKeyName: "conscious_links_from_item_id_fkey"
            columns: ["from_item_id"]
            isOneToOne: false
            referencedRelation: "conscious_items"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "conscious_links_to_item_id_fkey"
            columns: ["to_item_id"]
            isOneToOne: false
            referencedRelation: "conscious_items"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "conscious_links_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_conscious_links__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      contact_dates: {
        Row: {
          contact_id: string
          created_at: string
          date: string
          id: string
          notes: string | null
          owner_user_id: string
          recurrence: string | null
          type: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          contact_id: string
          created_at?: string
          date: string
          id?: string
          notes?: string | null
          owner_user_id: string
          recurrence?: string | null
          type: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          contact_id?: string
          created_at?: string
          date?: string
          id?: string
          notes?: string | null
          owner_user_id?: string
          recurrence?: string | null
          type?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "contact_dates_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contact_dates_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_contact_dates__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      contact_emails: {
        Row: {
          contact_id: string
          created_at: string
          email: string
          id: string
          is_primary: boolean
          label: string | null
          owner_user_id: string
          provider: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          contact_id: string
          created_at?: string
          email: string
          id?: string
          is_primary?: boolean
          label?: string | null
          owner_user_id: string
          provider?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          contact_id?: string
          created_at?: string
          email?: string
          id?: string
          is_primary?: boolean
          label?: string | null
          owner_user_id?: string
          provider?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "contact_emails_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contact_emails_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_contact_emails__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      contact_facts: {
        Row: {
          confidence: number
          contact_id: string
          created_at: string
          id: string
          key: string
          last_confirmed_at: string | null
          owner_user_id: string
          source: string
          source_ref: string | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
          value_date: string | null
          value_json: Json | null
          value_text: string | null
        }
        Insert: {
          confidence?: number
          contact_id: string
          created_at?: string
          id?: string
          key: string
          last_confirmed_at?: string | null
          owner_user_id: string
          source?: string
          source_ref?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
          value_date?: string | null
          value_json?: Json | null
          value_text?: string | null
        }
        Update: {
          confidence?: number
          contact_id?: string
          created_at?: string
          id?: string
          key?: string
          last_confirmed_at?: string | null
          owner_user_id?: string
          source?: string
          source_ref?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
          value_date?: string | null
          value_json?: Json | null
          value_text?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "contact_facts_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contact_facts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_contact_facts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      contact_identity_intel: {
        Row: {
          contact_id: string
          id: string
          inferred_communication_style: Json | null
          inferred_conflict_style: string | null
          inferred_drivers: Json | null
          inferred_fears: Json | null
          inferred_goals: Json | null
          inferred_personality: Json | null
          inferred_persuasion_style: Json | null
          inferred_professional_background: Json | null
          inferred_values: Json | null
          last_refreshed: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          raw_company_info: Json | null
          raw_news: Json | null
          raw_public_data: Json | null
          raw_social_profiles: Json | null
          summarised_identity: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          contact_id: string
          id?: string
          inferred_communication_style?: Json | null
          inferred_conflict_style?: string | null
          inferred_drivers?: Json | null
          inferred_fears?: Json | null
          inferred_goals?: Json | null
          inferred_personality?: Json | null
          inferred_persuasion_style?: Json | null
          inferred_professional_background?: Json | null
          inferred_values?: Json | null
          last_refreshed?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          raw_company_info?: Json | null
          raw_news?: Json | null
          raw_public_data?: Json | null
          raw_social_profiles?: Json | null
          summarised_identity?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          contact_id?: string
          id?: string
          inferred_communication_style?: Json | null
          inferred_conflict_style?: string | null
          inferred_drivers?: Json | null
          inferred_fears?: Json | null
          inferred_goals?: Json | null
          inferred_personality?: Json | null
          inferred_persuasion_style?: Json | null
          inferred_professional_background?: Json | null
          inferred_values?: Json | null
          last_refreshed?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          raw_company_info?: Json | null
          raw_news?: Json | null
          raw_public_data?: Json | null
          raw_social_profiles?: Json | null
          summarised_identity?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "contact_identity_intel_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contact_identity_intel_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_contact_identity_intel__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      contact_influence_events: {
        Row: {
          actual_outcome: Json | null
          contact_id: string
          context: Json | null
          created_at: string | null
          id: string
          model_metadata: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          suggested_channel: string | null
          suggested_message: string | null
          suggested_summary: string | null
          suggestion_type: string | null
          user_action: string | null
          user_feedback: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          actual_outcome?: Json | null
          contact_id: string
          context?: Json | null
          created_at?: string | null
          id?: string
          model_metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          suggested_channel?: string | null
          suggested_message?: string | null
          suggested_summary?: string | null
          suggestion_type?: string | null
          user_action?: string | null
          user_feedback?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          actual_outcome?: Json | null
          contact_id?: string
          context?: Json | null
          created_at?: string | null
          id?: string
          model_metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          suggested_channel?: string | null
          suggested_message?: string | null
          suggested_summary?: string | null
          suggestion_type?: string | null
          user_action?: string | null
          user_feedback?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "contact_influence_events_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contact_influence_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_contact_influence_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      contact_intelligence_sources: {
        Row: {
          contact_id: string
          data: Json | null
          fetched_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string
          url: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          contact_id: string
          data?: Json | null
          fetched_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source: string
          url?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          contact_id?: string
          data?: Json | null
          fetched_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string
          url?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "contact_intelligence_sources_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contact_intelligence_sources_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_contact_intelligence_sources__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      contact_phones: {
        Row: {
          contact_id: string
          created_at: string
          id: string
          is_primary: boolean
          label: string | null
          owner_user_id: string
          phone: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          contact_id: string
          created_at?: string
          id?: string
          is_primary?: boolean
          label?: string | null
          owner_user_id: string
          phone: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          contact_id?: string
          created_at?: string
          id?: string
          is_primary?: boolean
          label?: string | null
          owner_user_id?: string
          phone?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "contact_phones_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contact_phones_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_contact_phones__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      contact_playbooks: {
        Row: {
          contact_id: string
          generated_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          playbook: Json
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          contact_id: string
          generated_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          playbook: Json
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          contact_id?: string
          generated_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          playbook?: Json
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "contact_playbooks_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contact_playbooks_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_contact_playbooks__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      contact_relationship_scores: {
        Row: {
          contact_id: string
          familiarity_score: number | null
          id: string
          influence_score: number | null
          last_updated: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          power_balance_score: number | null
          trust_score: number | null
          user_id_text: string | null
          user_id_uuid: string
          warmth_score: number | null
        }
        Insert: {
          contact_id: string
          familiarity_score?: number | null
          id?: string
          influence_score?: number | null
          last_updated?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          power_balance_score?: number | null
          trust_score?: number | null
          user_id_text?: string | null
          user_id_uuid: string
          warmth_score?: number | null
        }
        Update: {
          contact_id?: string
          familiarity_score?: number | null
          id?: string
          influence_score?: number | null
          last_updated?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          power_balance_score?: number | null
          trust_score?: number | null
          user_id_text?: string | null
          user_id_uuid?: string
          warmth_score?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "contact_relationship_scores_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contact_relationship_scores_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_contact_relationship_scores__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      contact_relationships: {
        Row: {
          created_at: string
          from_contact_id: string
          id: string
          notes: string | null
          owner_user_id: string
          relation: string
          to_contact_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          from_contact_id: string
          id?: string
          notes?: string | null
          owner_user_id: string
          relation: string
          to_contact_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          from_contact_id?: string
          id?: string
          notes?: string | null
          owner_user_id?: string
          relation?: string
          to_contact_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "contact_relationships_from_contact_id_fkey"
            columns: ["from_contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contact_relationships_to_contact_id_fkey"
            columns: ["to_contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contact_relationships_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_contact_relationships__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      contact_tag_links: {
        Row: {
          contact_id: string
          created_at: string
          owner_user_id: string
          tag_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          contact_id: string
          created_at?: string
          owner_user_id: string
          tag_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          contact_id?: string
          created_at?: string
          owner_user_id?: string
          tag_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "contact_tag_links_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contact_tag_links_tag_id_fkey"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "contact_tags"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contact_tag_links_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_contact_tag_links__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      contact_tags: {
        Row: {
          category: string | null
          color: string | null
          created_at: string
          id: string
          name: string
          owner_user_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          category?: string | null
          color?: string | null
          created_at?: string
          id?: string
          name: string
          owner_user_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          category?: string | null
          color?: string | null
          created_at?: string
          id?: string
          name?: string
          owner_user_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "contact_tags_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_contact_tags__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      contacts: {
        Row: {
          address: string | null
          ai_intel: Json | null
          birthday: string | null
          city: string | null
          company: string | null
          created_at: string | null
          email: string | null
          first_name: string | null
          full_name: string | null
          how_we_met: string | null
          id: string
          industry: string | null
          intel_updated_at: string | null
          interests: string | null
          introduced_by: string | null
          last_contact: string | null
          last_interaction_type: string | null
          last_name: string | null
          linkedin: string | null
          name: string
          next_followup: string | null
          notes: string | null
          notes_short: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          phone: string | null
          primary_channel: string | null
          relationship: string | null
          state: string | null
          status: string | null
          tags: string[] | null
          title: string | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
          vip_level: string | null
          website: string | null
          zip: string | null
        }
        Insert: {
          address?: string | null
          ai_intel?: Json | null
          birthday?: string | null
          city?: string | null
          company?: string | null
          created_at?: string | null
          email?: string | null
          first_name?: string | null
          full_name?: string | null
          how_we_met?: string | null
          id?: string
          industry?: string | null
          intel_updated_at?: string | null
          interests?: string | null
          introduced_by?: string | null
          last_contact?: string | null
          last_interaction_type?: string | null
          last_name?: string | null
          linkedin?: string | null
          name: string
          next_followup?: string | null
          notes?: string | null
          notes_short?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          phone?: string | null
          primary_channel?: string | null
          relationship?: string | null
          state?: string | null
          status?: string | null
          tags?: string[] | null
          title?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
          vip_level?: string | null
          website?: string | null
          zip?: string | null
        }
        Update: {
          address?: string | null
          ai_intel?: Json | null
          birthday?: string | null
          city?: string | null
          company?: string | null
          created_at?: string | null
          email?: string | null
          first_name?: string | null
          full_name?: string | null
          how_we_met?: string | null
          id?: string
          industry?: string | null
          intel_updated_at?: string | null
          interests?: string | null
          introduced_by?: string | null
          last_contact?: string | null
          last_interaction_type?: string | null
          last_name?: string | null
          linkedin?: string | null
          name?: string
          next_followup?: string | null
          notes?: string | null
          notes_short?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          phone?: string | null
          primary_channel?: string | null
          relationship?: string | null
          state?: string | null
          status?: string | null
          tags?: string[] | null
          title?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
          vip_level?: string | null
          website?: string | null
          zip?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "contacts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_contacts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cortex_anomalies: {
        Row: {
          area_key: string
          created_at: string
          expected: Json | null
          id: string
          observed: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          scope: string
          scope_ref: string | null
          severity: number | null
          summary: string
          user_id_text: string | null
          user_id_uuid: string
          window_date: string
        }
        Insert: {
          area_key: string
          created_at?: string
          expected?: Json | null
          id?: string
          observed?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          scope: string
          scope_ref?: string | null
          severity?: number | null
          summary: string
          user_id_text?: string | null
          user_id_uuid: string
          window_date: string
        }
        Update: {
          area_key?: string
          created_at?: string
          expected?: Json | null
          id?: string
          observed?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          scope?: string
          scope_ref?: string | null
          severity?: number | null
          summary?: string
          user_id_text?: string | null
          user_id_uuid?: string
          window_date?: string
        }
        Relationships: [
          {
            foreignKeyName: "cortex_anomalies_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cortex_anomalies__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cortex_areas: {
        Row: {
          created_at: string
          description: string | null
          id: string
          is_active: boolean
          key: string
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          id?: string
          is_active?: boolean
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          description?: string | null
          id?: string
          is_active?: boolean
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "cortex_areas_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cortex_areas__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cortex_events: {
        Row: {
          area_key: string
          context_id: string | null
          context_type: string | null
          created_at: string
          event_time: string
          event_type: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          payload: Json | null
          source: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          area_key: string
          context_id?: string | null
          context_type?: string | null
          created_at?: string
          event_time: string
          event_type: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          payload?: Json | null
          source: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          area_key?: string
          context_id?: string | null
          context_type?: string | null
          created_at?: string
          event_time?: string
          event_type?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          payload?: Json | null
          source?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "cortex_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cortex_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cortex_patterns: {
        Row: {
          area_key: string
          created_at: string
          description: string | null
          examples: Json | null
          id: string
          key: string
          last_observed_at: string | null
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          pattern_type: string
          signal_keys: string[]
          stats: Json | null
          strength: number | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          area_key: string
          created_at?: string
          description?: string | null
          examples?: Json | null
          id?: string
          key: string
          last_observed_at?: string | null
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          pattern_type: string
          signal_keys: string[]
          stats?: Json | null
          strength?: number | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          area_key?: string
          created_at?: string
          description?: string | null
          examples?: Json | null
          id?: string
          key?: string
          last_observed_at?: string | null
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          pattern_type?: string
          signal_keys?: string[]
          stats?: Json | null
          strength?: number | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "cortex_patterns_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cortex_patterns__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cortex_predictions: {
        Row: {
          area_key: string
          confidence: number | null
          created_at: string
          details: Json | null
          horizon: string | null
          id: string
          kind: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          pattern_ids: string[] | null
          summary: string
          target_ref: string | null
          target_scope: string
          user_id_text: string | null
          user_id_uuid: string
          valid_until: string | null
        }
        Insert: {
          area_key: string
          confidence?: number | null
          created_at?: string
          details?: Json | null
          horizon?: string | null
          id?: string
          kind: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          pattern_ids?: string[] | null
          summary: string
          target_ref?: string | null
          target_scope: string
          user_id_text?: string | null
          user_id_uuid: string
          valid_until?: string | null
        }
        Update: {
          area_key?: string
          confidence?: number | null
          created_at?: string
          details?: Json | null
          horizon?: string | null
          id?: string
          kind?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          pattern_ids?: string[] | null
          summary?: string
          target_ref?: string | null
          target_scope?: string
          user_id_text?: string | null
          user_id_uuid?: string
          valid_until?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "cortex_predictions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cortex_predictions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cortex_signals: {
        Row: {
          area_key: string
          created_at: string
          id: string
          key: string
          meta: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          sample_count: number | null
          scope: string
          scope_ref: string | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
          value_json: Json | null
          value_numeric: number | null
          window_date: string
        }
        Insert: {
          area_key: string
          created_at?: string
          id?: string
          key: string
          meta?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          sample_count?: number | null
          scope: string
          scope_ref?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
          value_json?: Json | null
          value_numeric?: number | null
          window_date: string
        }
        Update: {
          area_key?: string
          created_at?: string
          id?: string
          key?: string
          meta?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          sample_count?: number | null
          scope?: string
          scope_ref?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
          value_json?: Json | null
          value_numeric?: number | null
          window_date?: string
        }
        Relationships: [
          {
            foreignKeyName: "cortex_signals_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cortex_signals__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      council_consensus: {
        Row: {
          consensus_recommendation: string
          created_at: string
          id: string
          overall_confidence: number
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          risk_profile: Json | null
          session_id: string
          summary: Json | null
          user_id_text: string | null
          user_id_uuid: string
          voting_breakdown: Json | null
        }
        Insert: {
          consensus_recommendation: string
          created_at?: string
          id?: string
          overall_confidence: number
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          risk_profile?: Json | null
          session_id: string
          summary?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
          voting_breakdown?: Json | null
        }
        Update: {
          consensus_recommendation?: string
          created_at?: string
          id?: string
          overall_confidence?: number
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          risk_profile?: Json | null
          session_id?: string
          summary?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
          voting_breakdown?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "council_consensus_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "council_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "council_consensus_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_council_consensus__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      council_decision_dossiers: {
        Row: {
          consensus_id: string | null
          context: Json | null
          created_at: string
          decision_label: string
          id: string
          learnings: Json | null
          outcome: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          question: string
          session_id: string | null
          user_choice: string | null
          user_id_text: string | null
          user_id_uuid: string
          user_notes: string | null
        }
        Insert: {
          consensus_id?: string | null
          context?: Json | null
          created_at?: string
          decision_label: string
          id?: string
          learnings?: Json | null
          outcome?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          question: string
          session_id?: string | null
          user_choice?: string | null
          user_id_text?: string | null
          user_id_uuid: string
          user_notes?: string | null
        }
        Update: {
          consensus_id?: string | null
          context?: Json | null
          created_at?: string
          decision_label?: string
          id?: string
          learnings?: Json | null
          outcome?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          question?: string
          session_id?: string | null
          user_choice?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
          user_notes?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "council_decision_dossiers_consensus_id_fkey"
            columns: ["consensus_id"]
            isOneToOne: false
            referencedRelation: "council_consensus"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "council_decision_dossiers_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "council_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "council_decision_dossiers_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_council_decision_dossiers__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      council_members: {
        Row: {
          config: Json | null
          created_at: string
          description: string
          display_name: string
          enabled: boolean
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          role_id: string
          user_id_text: string | null
          user_id_uuid: string
          weight: number
        }
        Insert: {
          config?: Json | null
          created_at?: string
          description: string
          display_name: string
          enabled?: boolean
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          role_id: string
          user_id_text?: string | null
          user_id_uuid: string
          weight?: number
        }
        Update: {
          config?: Json | null
          created_at?: string
          description?: string
          display_name?: string
          enabled?: boolean
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          role_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
          weight?: number
        }
        Relationships: [
          {
            foreignKeyName: "council_members_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_council_members__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      council_opinions: {
        Row: {
          confidence: number
          created_at: string
          id: string
          member_role_id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          rationale: Json | null
          raw_payload: Json | null
          recommendation: string
          session_id: string
          stance: string
          suggested_conditions: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          confidence: number
          created_at?: string
          id?: string
          member_role_id: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          rationale?: Json | null
          raw_payload?: Json | null
          recommendation: string
          session_id: string
          stance: string
          suggested_conditions?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          confidence?: number
          created_at?: string
          id?: string
          member_role_id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          rationale?: Json | null
          raw_payload?: Json | null
          recommendation?: string
          session_id?: string
          stance?: string
          suggested_conditions?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "council_opinions_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "council_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "council_opinions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_council_opinions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      council_sessions: {
        Row: {
          completed_at: string | null
          context: Json | null
          created_at: string
          equilibrium_id: string | null
          id: string
          importance: number
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          question: string
          snapshot_id: string | null
          status: string
          timescale: string | null
          topic: string
          trigger_source: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          completed_at?: string | null
          context?: Json | null
          created_at?: string
          equilibrium_id?: string | null
          id?: string
          importance?: number
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          question: string
          snapshot_id?: string | null
          status?: string
          timescale?: string | null
          topic: string
          trigger_source?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          completed_at?: string | null
          context?: Json | null
          created_at?: string
          equilibrium_id?: string | null
          id?: string
          importance?: number
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          question?: string
          snapshot_id?: string | null
          status?: string
          timescale?: string | null
          topic?: string
          trigger_source?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "council_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_council_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      creative_artifacts: {
        Row: {
          content: Json | null
          created_at: string
          id: string
          idea_id: string | null
          kind: string
          linked_project_id: string | null
          linked_workspace_thread_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          quality_score: number | null
          session_id: string | null
          title: string
          updated_at: string
          usage_metrics: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          content?: Json | null
          created_at?: string
          id?: string
          idea_id?: string | null
          kind: string
          linked_project_id?: string | null
          linked_workspace_thread_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          quality_score?: number | null
          session_id?: string | null
          title: string
          updated_at?: string
          usage_metrics?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          content?: Json | null
          created_at?: string
          id?: string
          idea_id?: string | null
          kind?: string
          linked_project_id?: string | null
          linked_workspace_thread_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          quality_score?: number | null
          session_id?: string | null
          title?: string
          updated_at?: string
          usage_metrics?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "creative_artifacts_idea_id_fkey"
            columns: ["idea_id"]
            isOneToOne: false
            referencedRelation: "creative_ideas"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "creative_artifacts_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "creative_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "creative_artifacts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_creative_artifacts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      creative_assets: {
        Row: {
          content: string | null
          created_at: string | null
          id: string
          kind: string
          metadata: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          project_id: string | null
          related_node_id: string | null
          session_id: string | null
          title: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          content?: string | null
          created_at?: string | null
          id?: string
          kind: string
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          project_id?: string | null
          related_node_id?: string | null
          session_id?: string | null
          title?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          content?: string | null
          created_at?: string | null
          id?: string
          kind?: string
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          project_id?: string | null
          related_node_id?: string | null
          session_id?: string | null
          title?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "creative_assets_project_id_fkey"
            columns: ["project_id"]
            isOneToOne: false
            referencedRelation: "creative_projects"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "creative_assets_related_node_id_fkey"
            columns: ["related_node_id"]
            isOneToOne: false
            referencedRelation: "knowledge_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "creative_assets_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "creative_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "creative_assets_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_creative_assets__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      creative_evaluations: {
        Row: {
          artifact_id: string | null
          comments: string | null
          created_at: string
          decision: string | null
          evaluator: string
          id: string
          idea_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          scores: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          artifact_id?: string | null
          comments?: string | null
          created_at?: string
          decision?: string | null
          evaluator: string
          id?: string
          idea_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          scores?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          artifact_id?: string | null
          comments?: string | null
          created_at?: string
          decision?: string | null
          evaluator?: string
          id?: string
          idea_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          scores?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "creative_evaluations_artifact_id_fkey"
            columns: ["artifact_id"]
            isOneToOne: false
            referencedRelation: "creative_artifacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "creative_evaluations_idea_id_fkey"
            columns: ["idea_id"]
            isOneToOne: false
            referencedRelation: "creative_ideas"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "creative_evaluations_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_creative_evaluations__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      creative_ideas: {
        Row: {
          category: string | null
          created_at: string
          description: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          raw_payload: Json | null
          score_alignment: number | null
          score_energy_fit: number | null
          score_feasibility: number | null
          score_impact: number | null
          score_overall: number | null
          session_id: string
          status: string
          status_reason: string | null
          tags: string[] | null
          title: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          category?: string | null
          created_at?: string
          description: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          raw_payload?: Json | null
          score_alignment?: number | null
          score_energy_fit?: number | null
          score_feasibility?: number | null
          score_impact?: number | null
          score_overall?: number | null
          session_id: string
          status?: string
          status_reason?: string | null
          tags?: string[] | null
          title: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          category?: string | null
          created_at?: string
          description?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          raw_payload?: Json | null
          score_alignment?: number | null
          score_energy_fit?: number | null
          score_feasibility?: number | null
          score_impact?: number | null
          score_overall?: number | null
          session_id?: string
          status?: string
          status_reason?: string | null
          tags?: string[] | null
          title?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "creative_ideas_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "creative_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "creative_ideas_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_creative_ideas__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      creative_patterns: {
        Row: {
          anti_patterns: Json | null
          characteristics: Json | null
          created_at: string
          description: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          pattern_key: string
          recommendations: Json | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          anti_patterns?: Json | null
          characteristics?: Json | null
          created_at?: string
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          pattern_key: string
          recommendations?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          anti_patterns?: Json | null
          characteristics?: Json | null
          created_at?: string
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          pattern_key?: string
          recommendations?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "creative_patterns_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_creative_patterns__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      creative_projects: {
        Row: {
          created_at: string | null
          description: string | null
          id: string
          kind: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          related_node_id: string | null
          status: string
          tags: string[] | null
          title: string
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          id?: string
          kind: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          related_node_id?: string | null
          status?: string
          tags?: string[] | null
          title: string
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          description?: string | null
          id?: string
          kind?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          related_node_id?: string | null
          status?: string
          tags?: string[] | null
          title?: string
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "creative_projects_related_node_id_fkey"
            columns: ["related_node_id"]
            isOneToOne: false
            referencedRelation: "knowledge_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "creative_projects_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_creative_projects__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      creative_sessions: {
        Row: {
          context: Json | null
          created_at: string
          domain: string | null
          goal: string | null
          id: string
          meta: Json | null
          mode: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          status: string
          topic: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          context?: Json | null
          created_at?: string
          domain?: string | null
          goal?: string | null
          id?: string
          meta?: Json | null
          mode?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          status?: string
          topic: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          context?: Json | null
          created_at?: string
          domain?: string | null
          goal?: string | null
          id?: string
          meta?: Json | null
          mode?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          status?: string
          topic?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "creative_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_creative_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      creative_style_profiles: {
        Row: {
          constraints: Json | null
          created_at: string | null
          description: string | null
          examples: Json | null
          id: string
          is_default: boolean
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          tone: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          constraints?: Json | null
          created_at?: string | null
          description?: string | null
          examples?: Json | null
          id?: string
          is_default?: boolean
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          tone?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          constraints?: Json | null
          created_at?: string | null
          description?: string | null
          examples?: Json | null
          id?: string
          is_default?: boolean
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          tone?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "creative_style_profiles_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_creative_style_profiles__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_alerts: {
        Row: {
          body: string
          contact_id: string | null
          created_at: string | null
          deal_id: string | null
          dismissed_at: string | null
          id: string
          is_positive: boolean | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          seen_at: string | null
          severity: number | null
          title: string
          type: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          body: string
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          dismissed_at?: string | null
          id?: string
          is_positive?: boolean | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          seen_at?: string | null
          severity?: number | null
          title: string
          type: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          body?: string
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          dismissed_at?: string | null
          id?: string
          is_positive?: boolean | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          seen_at?: string | null
          severity?: number | null
          title?: string
          type?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "crm_alerts_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "crm_alerts_deal_id_fkey"
            columns: ["deal_id"]
            isOneToOne: false
            referencedRelation: "crm_deals"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "crm_alerts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_crm_alerts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_contact_events: {
        Row: {
          body: string | null
          contact_id: string
          created_at: string
          id: string
          metadata: Json
          occurred_at: string
          owner_user_id: string
          owner_user_uuid: string | null
          title: string | null
          type: string
        }
        Insert: {
          body?: string | null
          contact_id: string
          created_at?: string
          id?: string
          metadata?: Json
          occurred_at?: string
          owner_user_id: string
          owner_user_uuid?: string | null
          title?: string | null
          type: string
        }
        Update: {
          body?: string | null
          contact_id?: string
          created_at?: string
          id?: string
          metadata?: Json
          occurred_at?: string
          owner_user_id?: string
          owner_user_uuid?: string | null
          title?: string | null
          type?: string
        }
        Relationships: [
          {
            foreignKeyName: "crm_contact_events_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_contact_facts: {
        Row: {
          confidence: number | null
          contact_id: string
          created_at: string
          evidence: Json
          id: string
          key: string
          owner_user_id: string
          owner_user_uuid: string | null
          pinned: boolean
          source: string | null
          source_url: string | null
          updated_at: string
          value: string
        }
        Insert: {
          confidence?: number | null
          contact_id: string
          created_at?: string
          evidence?: Json
          id?: string
          key: string
          owner_user_id: string
          owner_user_uuid?: string | null
          pinned?: boolean
          source?: string | null
          source_url?: string | null
          updated_at?: string
          value: string
        }
        Update: {
          confidence?: number | null
          contact_id?: string
          created_at?: string
          evidence?: Json
          id?: string
          key?: string
          owner_user_id?: string
          owner_user_uuid?: string | null
          pinned?: boolean
          source?: string | null
          source_url?: string | null
          updated_at?: string
          value?: string
        }
        Relationships: [
          {
            foreignKeyName: "crm_contact_facts_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_contact_intel: {
        Row: {
          ai_summary: string | null
          brief_md: string
          confidence: number | null
          contact_id: string
          created_at: string
          drivers: string[]
          evidence: Json
          expires_at: string | null
          id: string
          last_touch_at: string | null
          last_touch_type: string | null
          next_actions: Json
          next_touch_due_at: string | null
          overdue_tasks_count: number
          owner_user_id: string
          owner_user_uuid: string | null
          personality: Json
          relationship: Json
          relationship_score: number
          relationship_trend_30d: number
          risk_flags: string[]
          source: string | null
          source_url: string | null
          touch_frequency_30d: number
          unanswered_inbound_count: number
          updated_at: string
          version: number
        }
        Insert: {
          ai_summary?: string | null
          brief_md?: string
          confidence?: number | null
          contact_id: string
          created_at?: string
          drivers?: string[]
          evidence?: Json
          expires_at?: string | null
          id?: string
          last_touch_at?: string | null
          last_touch_type?: string | null
          next_actions?: Json
          next_touch_due_at?: string | null
          overdue_tasks_count?: number
          owner_user_id: string
          owner_user_uuid?: string | null
          personality?: Json
          relationship?: Json
          relationship_score?: number
          relationship_trend_30d?: number
          risk_flags?: string[]
          source?: string | null
          source_url?: string | null
          touch_frequency_30d?: number
          unanswered_inbound_count?: number
          updated_at?: string
          version?: number
        }
        Update: {
          ai_summary?: string | null
          brief_md?: string
          confidence?: number | null
          contact_id?: string
          created_at?: string
          drivers?: string[]
          evidence?: Json
          expires_at?: string | null
          id?: string
          last_touch_at?: string | null
          last_touch_type?: string | null
          next_actions?: Json
          next_touch_due_at?: string | null
          overdue_tasks_count?: number
          owner_user_id?: string
          owner_user_uuid?: string | null
          personality?: Json
          relationship?: Json
          relationship_score?: number
          relationship_trend_30d?: number
          risk_flags?: string[]
          source?: string | null
          source_url?: string | null
          touch_frequency_30d?: number
          unanswered_inbound_count?: number
          updated_at?: string
          version?: number
        }
        Relationships: [
          {
            foreignKeyName: "crm_contact_intel_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_contact_intel_sources: {
        Row: {
          brave_rank: number | null
          captured_at: string
          contact_id: string
          content: string | null
          created_at: string
          id: string
          match_evidence: Json
          match_score: number
          owner_user_id: string | null
          owner_user_uuid: string | null
          published_at: string | null
          query: string | null
          seen_at: string
          snippet: string | null
          source_domain: string | null
          source_type: string
          source_url: string | null
          title: string | null
        }
        Insert: {
          brave_rank?: number | null
          captured_at?: string
          contact_id: string
          content?: string | null
          created_at?: string
          id?: string
          match_evidence?: Json
          match_score?: number
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          published_at?: string | null
          query?: string | null
          seen_at?: string
          snippet?: string | null
          source_domain?: string | null
          source_type: string
          source_url?: string | null
          title?: string | null
        }
        Update: {
          brave_rank?: number | null
          captured_at?: string
          contact_id?: string
          content?: string | null
          created_at?: string
          id?: string
          match_evidence?: Json
          match_score?: number
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          published_at?: string | null
          query?: string | null
          seen_at?: string
          snippet?: string | null
          source_domain?: string | null
          source_type?: string
          source_url?: string | null
          title?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "crm_contact_intel_sources_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_contact_org_links: {
        Row: {
          contact_id: string
          created_at: string | null
          id: string
          organization_id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          role: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          contact_id: string
          created_at?: string | null
          id?: string
          organization_id: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          role?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          contact_id?: string
          created_at?: string | null
          id?: string
          organization_id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          role?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "crm_contact_org_links_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "crm_contact_org_links_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "crm_organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "crm_contact_org_links_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_crm_contact_org_links__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_contact_photo_candidates: {
        Row: {
          caption: string | null
          confidence: number
          contact_id: string
          created_at: string
          id: string
          image_url: string
          source_domain: string | null
          source_url: string
        }
        Insert: {
          caption?: string | null
          confidence?: number
          contact_id: string
          created_at?: string
          id?: string
          image_url: string
          source_domain?: string | null
          source_url: string
        }
        Update: {
          caption?: string | null
          confidence?: number
          contact_id?: string
          created_at?: string
          id?: string
          image_url?: string
          source_domain?: string | null
          source_url?: string
        }
        Relationships: [
          {
            foreignKeyName: "crm_contact_photo_candidates_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_contacts: {
        Row: {
          company_name: string | null
          created_at: string | null
          display_name: string | null
          first_name: string | null
          full_name: string
          id: string
          intel_summary: string | null
          job_title: string | null
          last_name: string | null
          merged_into_contact_id: string | null
          nickname: string | null
          normalized_email: string | null
          normalized_full_name: string | null
          normalized_phone: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          photo_confidence: number | null
          photo_source_url: string | null
          photo_updated_at: string | null
          photo_url: string | null
          primary_email: string | null
          primary_phone: string | null
          relationship_importance: number | null
          status: string | null
          tags: string[] | null
          tb_node_id: string | null
          timezone: string | null
          title: string | null
          type: string | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          company_name?: string | null
          created_at?: string | null
          display_name?: string | null
          first_name?: string | null
          full_name: string
          id?: string
          intel_summary?: string | null
          job_title?: string | null
          last_name?: string | null
          merged_into_contact_id?: string | null
          nickname?: string | null
          normalized_email?: string | null
          normalized_full_name?: string | null
          normalized_phone?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          photo_confidence?: number | null
          photo_source_url?: string | null
          photo_updated_at?: string | null
          photo_url?: string | null
          primary_email?: string | null
          primary_phone?: string | null
          relationship_importance?: number | null
          status?: string | null
          tags?: string[] | null
          tb_node_id?: string | null
          timezone?: string | null
          title?: string | null
          type?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          company_name?: string | null
          created_at?: string | null
          display_name?: string | null
          first_name?: string | null
          full_name?: string
          id?: string
          intel_summary?: string | null
          job_title?: string | null
          last_name?: string | null
          merged_into_contact_id?: string | null
          nickname?: string | null
          normalized_email?: string | null
          normalized_full_name?: string | null
          normalized_phone?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          photo_confidence?: number | null
          photo_source_url?: string | null
          photo_updated_at?: string | null
          photo_url?: string | null
          primary_email?: string | null
          primary_phone?: string | null
          relationship_importance?: number | null
          status?: string | null
          tags?: string[] | null
          tb_node_id?: string | null
          timezone?: string | null
          title?: string | null
          type?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "crm_contacts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_crm_contacts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_deal_contacts: {
        Row: {
          contact_id: string
          created_at: string | null
          deal_id: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          role: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          contact_id: string
          created_at?: string | null
          deal_id: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          role?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          contact_id?: string
          created_at?: string | null
          deal_id?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          role?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "crm_deal_contacts_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "crm_deal_contacts_deal_id_fkey"
            columns: ["deal_id"]
            isOneToOne: false
            referencedRelation: "crm_deals"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "crm_deal_contacts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_crm_deal_contacts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_deal_health: {
        Row: {
          created_at: string | null
          days_stalled: number | null
          deal_id: string
          id: string
          last_interaction_at: string | null
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          risk_level: number
          score: number
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          days_stalled?: number | null
          deal_id: string
          id?: string
          last_interaction_at?: string | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          risk_level: number
          score: number
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          days_stalled?: number | null
          deal_id?: string
          id?: string
          last_interaction_at?: string | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          risk_level?: number
          score?: number
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "crm_deal_health_deal_id_fkey"
            columns: ["deal_id"]
            isOneToOne: false
            referencedRelation: "crm_deals"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "crm_deal_health_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_crm_deal_health__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_deals: {
        Row: {
          amount: number | null
          close_date: string | null
          created_at: string | null
          currency: string | null
          id: string
          name: string
          organization_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          pipeline: string | null
          primary_contact_id: string | null
          probability: number | null
          source: string | null
          stage: string
          tags: string[] | null
          tb_node_id: string | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          amount?: number | null
          close_date?: string | null
          created_at?: string | null
          currency?: string | null
          id?: string
          name: string
          organization_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          pipeline?: string | null
          primary_contact_id?: string | null
          probability?: number | null
          source?: string | null
          stage: string
          tags?: string[] | null
          tb_node_id?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          amount?: number | null
          close_date?: string | null
          created_at?: string | null
          currency?: string | null
          id?: string
          name?: string
          organization_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          pipeline?: string | null
          primary_contact_id?: string | null
          probability?: number | null
          source?: string | null
          stage?: string
          tags?: string[] | null
          tb_node_id?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "crm_deals_organization_id_fkey"
            columns: ["organization_id"]
            isOneToOne: false
            referencedRelation: "crm_organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "crm_deals_primary_contact_id_fkey"
            columns: ["primary_contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "crm_deals_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_crm_deals__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_followups: {
        Row: {
          completed_at: string | null
          contact_id: string
          created_at: string
          due_at: string
          id: string
          owner_user_id: string
          reason: string | null
          snoozed_until: string | null
          source: string
          status: string
          suggested_action: string | null
        }
        Insert: {
          completed_at?: string | null
          contact_id: string
          created_at?: string
          due_at: string
          id?: string
          owner_user_id: string
          reason?: string | null
          snoozed_until?: string | null
          source?: string
          status?: string
          suggested_action?: string | null
        }
        Update: {
          completed_at?: string | null
          contact_id?: string
          created_at?: string
          due_at?: string
          id?: string
          owner_user_id?: string
          reason?: string | null
          snoozed_until?: string | null
          source?: string
          status?: string
          suggested_action?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "crm_followups_contact_fk"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_influence_events: {
        Row: {
          contact_id: string
          created_at: string
          id: string
          impact_score: number
          meta: Json
          notes: string | null
          occurred_at: string
          owner_user_id: string
          type: string
        }
        Insert: {
          contact_id: string
          created_at?: string
          id?: string
          impact_score?: number
          meta?: Json
          notes?: string | null
          occurred_at?: string
          owner_user_id: string
          type: string
        }
        Update: {
          contact_id?: string
          created_at?: string
          id?: string
          impact_score?: number
          meta?: Json
          notes?: string | null
          occurred_at?: string
          owner_user_id?: string
          type?: string
        }
        Relationships: [
          {
            foreignKeyName: "crm_influence_events_contact_fk"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_interactions: {
        Row: {
          channel: string | null
          contact_id: string | null
          created_at: string | null
          deal_id: string | null
          id: string
          importance: number | null
          occurred_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          sentiment: string | null
          subject: string | null
          summary: string | null
          type: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          channel?: string | null
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          id?: string
          importance?: number | null
          occurred_at: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          sentiment?: string | null
          subject?: string | null
          summary?: string | null
          type: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          channel?: string | null
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          id?: string
          importance?: number | null
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          sentiment?: string | null
          subject?: string | null
          summary?: string | null
          type?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "crm_interactions_contact_fk"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "crm_interactions_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "crm_interactions_deal_id_fkey"
            columns: ["deal_id"]
            isOneToOne: false
            referencedRelation: "crm_deals"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "crm_interactions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_crm_interactions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_organizations: {
        Row: {
          created_at: string | null
          id: string
          industry: string | null
          intel_summary: string | null
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          size: string | null
          tags: string[] | null
          tb_node_id: string | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
          website: string | null
        }
        Insert: {
          created_at?: string | null
          id?: string
          industry?: string | null
          intel_summary?: string | null
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          size?: string | null
          tags?: string[] | null
          tb_node_id?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
          website?: string | null
        }
        Update: {
          created_at?: string | null
          id?: string
          industry?: string | null
          intel_summary?: string | null
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          size?: string | null
          tags?: string[] | null
          tb_node_id?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
          website?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "crm_organizations_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_crm_organizations__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_relationship_health: {
        Row: {
          contact_id: string
          created_at: string | null
          id: string
          last_interaction_at: string | null
          momentum: string | null
          next_suggested_checkin_at: string | null
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          score: number
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          contact_id: string
          created_at?: string | null
          id?: string
          last_interaction_at?: string | null
          momentum?: string | null
          next_suggested_checkin_at?: string | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          score: number
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          contact_id?: string
          created_at?: string | null
          id?: string
          last_interaction_at?: string | null
          momentum?: string | null
          next_suggested_checkin_at?: string | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          score?: number
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "crm_relationship_health_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "crm_relationship_health_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_crm_relationship_health__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_relationship_scores: {
        Row: {
          contact_id: string
          days_since_last_interaction: number | null
          last_interaction_at: string | null
          notes: string | null
          open_followups: number
          owner_user_id: string
          risk_level: string
          score: number
          updated_at: string
        }
        Insert: {
          contact_id: string
          days_since_last_interaction?: number | null
          last_interaction_at?: string | null
          notes?: string | null
          open_followups?: number
          owner_user_id: string
          risk_level?: string
          score?: number
          updated_at?: string
        }
        Update: {
          contact_id?: string
          days_since_last_interaction?: number | null
          last_interaction_at?: string | null
          notes?: string | null
          open_followups?: number
          owner_user_id?: string
          risk_level?: string
          score?: number
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_crs_contact"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
        ]
      }
      crm_tasks: {
        Row: {
          contact_id: string | null
          created_at: string
          deal_id: string | null
          description: string | null
          due_at: string | null
          id: string
          org_id: string | null
          owner_user_id: string
          owner_user_uuid: string | null
          priority: number
          source_id: string | null
          source_table: string | null
          status: string
          title: string
          updated_at: string
        }
        Insert: {
          contact_id?: string | null
          created_at?: string
          deal_id?: string | null
          description?: string | null
          due_at?: string | null
          id?: string
          org_id?: string | null
          owner_user_id: string
          owner_user_uuid?: string | null
          priority?: number
          source_id?: string | null
          source_table?: string | null
          status?: string
          title: string
          updated_at?: string
        }
        Update: {
          contact_id?: string | null
          created_at?: string
          deal_id?: string | null
          description?: string | null
          due_at?: string | null
          id?: string
          org_id?: string | null
          owner_user_id?: string
          owner_user_uuid?: string | null
          priority?: number
          source_id?: string | null
          source_table?: string | null
          status?: string
          title?: string
          updated_at?: string
        }
        Relationships: []
      }
      cron_locks: {
        Row: {
          created_at: string
          holder: string | null
          key: string
          locked_until: string
          updated_at: string
        }
        Insert: {
          created_at?: string
          holder?: string | null
          key: string
          locked_until: string
          updated_at?: string
        }
        Update: {
          created_at?: string
          holder?: string | null
          key?: string
          locked_until?: string
          updated_at?: string
        }
        Relationships: []
      }
      cultural_domains: {
        Row: {
          description: string
          display_name: string
          id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
        }
        Insert: {
          description: string
          display_name: string
          id: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Update: {
          description?: string
          display_name?: string
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Relationships: []
      }
      cultural_highlights: {
        Row: {
          created_at: string
          description: string
          domain: string
          id: string
          importance: number
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          suggestion: Json | null
          title: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          description: string
          domain: string
          id?: string
          importance?: number
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          suggestion?: Json | null
          title: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          description?: string
          domain?: string
          id?: string
          importance?: number
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          suggestion?: Json | null
          title?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "cultural_highlights_domain_fkey"
            columns: ["domain"]
            isOneToOne: false
            referencedRelation: "cultural_domains"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "cultural_highlights_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cultural_highlights__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cultural_inference_snapshots: {
        Row: {
          confidence: number
          domain: string
          evidence: Json | null
          id: string
          inferred_profile: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          snapshot_time: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          confidence: number
          domain: string
          evidence?: Json | null
          id?: string
          inferred_profile?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          snapshot_time?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          confidence?: number
          domain?: string
          evidence?: Json | null
          id?: string
          inferred_profile?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          snapshot_time?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "cultural_inference_snapshots_domain_fkey"
            columns: ["domain"]
            isOneToOne: false
            referencedRelation: "cultural_domains"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "cultural_inference_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cultural_inference_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cultural_predictions: {
        Row: {
          confidence: number | null
          context: Json | null
          created_at: string
          domain: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          predicted_response: Json | null
          recommended_strategy: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          confidence?: number | null
          context?: Json | null
          created_at?: string
          domain: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          predicted_response?: Json | null
          recommended_strategy?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          confidence?: number | null
          context?: Json | null
          created_at?: string
          domain?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          predicted_response?: Json | null
          recommended_strategy?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "cultural_predictions_domain_fkey"
            columns: ["domain"]
            isOneToOne: false
            referencedRelation: "cultural_domains"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "cultural_predictions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cultural_predictions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cultural_profiles: {
        Row: {
          approval_dynamics: Json | null
          communication_style: Json | null
          created_at: string
          cultural_opportunities: Json | null
          cultural_red_flags: Json | null
          cultural_rules: Json | null
          decision_patterns: Json | null
          domain: string
          id: string
          norms: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          risk_tolerance: Json | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          approval_dynamics?: Json | null
          communication_style?: Json | null
          created_at?: string
          cultural_opportunities?: Json | null
          cultural_red_flags?: Json | null
          cultural_rules?: Json | null
          decision_patterns?: Json | null
          domain: string
          id?: string
          norms?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          risk_tolerance?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          approval_dynamics?: Json | null
          communication_style?: Json | null
          created_at?: string
          cultural_opportunities?: Json | null
          cultural_red_flags?: Json | null
          cultural_rules?: Json | null
          decision_patterns?: Json | null
          domain?: string
          id?: string
          norms?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          risk_tolerance?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "cultural_profiles_domain_fkey"
            columns: ["domain"]
            isOneToOne: false
            referencedRelation: "cultural_domains"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "cultural_profiles_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cultural_profiles__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      cultural_signals: {
        Row: {
          content: Json | null
          created_at: string
          domain: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string
          user_id_text: string | null
          user_id_uuid: string
          weight: number
        }
        Insert: {
          content?: Json | null
          created_at?: string
          domain: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source: string
          user_id_text?: string | null
          user_id_uuid: string
          weight?: number
        }
        Update: {
          content?: Json | null
          created_at?: string
          domain?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string
          user_id_text?: string | null
          user_id_uuid?: string
          weight?: number
        }
        Relationships: [
          {
            foreignKeyName: "cultural_signals_domain_fkey"
            columns: ["domain"]
            isOneToOne: false
            referencedRelation: "cultural_domains"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "cultural_signals_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_cultural_signals__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      culture_alignment_log: {
        Row: {
          alignment_overall: number
          context_id: string
          evaluated_at: string
          friction_points: Json | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          risk_areas: Json | null
          strengths: Json | null
          suggestions: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          alignment_overall: number
          context_id: string
          evaluated_at?: string
          friction_points?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          risk_areas?: Json | null
          strengths?: Json | null
          suggestions?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          alignment_overall?: number
          context_id?: string
          evaluated_at?: string
          friction_points?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          risk_areas?: Json | null
          strengths?: Json | null
          suggestions?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "culture_alignment_log_context_id_fkey"
            columns: ["context_id"]
            isOneToOne: false
            referencedRelation: "culture_contexts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "culture_alignment_log_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_culture_alignment_log__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      culture_contexts: {
        Row: {
          created_at: string
          description: string | null
          id: string
          key: string
          kind: string
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority: number
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          id?: string
          key: string
          kind: string
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority?: number
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          description?: string | null
          id?: string
          key?: string
          kind?: string
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority?: number
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "culture_contexts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_culture_contexts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      culture_norm_logs: {
        Row: {
          context_id: string
          created_at: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string | null
          summary: string | null
          tags: string[] | null
          user_id_text: string | null
          user_id_uuid: string
          weight: number
        }
        Insert: {
          context_id: string
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source?: string | null
          summary?: string | null
          tags?: string[] | null
          user_id_text?: string | null
          user_id_uuid: string
          weight?: number
        }
        Update: {
          context_id?: string
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string | null
          summary?: string | null
          tags?: string[] | null
          user_id_text?: string | null
          user_id_uuid?: string
          weight?: number
        }
        Relationships: [
          {
            foreignKeyName: "culture_norm_logs_context_id_fkey"
            columns: ["context_id"]
            isOneToOne: false
            referencedRelation: "culture_contexts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "culture_norm_logs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_culture_norm_logs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      culture_profiles: {
        Row: {
          communication_style: Json | null
          context_id: string
          created_at: string
          decision_making_style: Json | null
          hidden_rules: Json | null
          id: string
          language_patterns: Json | null
          norms: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          political_sensitivities: Json | null
          success_markers: Json | null
          summary: string | null
          taboo_behaviors: Json | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          communication_style?: Json | null
          context_id: string
          created_at?: string
          decision_making_style?: Json | null
          hidden_rules?: Json | null
          id?: string
          language_patterns?: Json | null
          norms?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          political_sensitivities?: Json | null
          success_markers?: Json | null
          summary?: string | null
          taboo_behaviors?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          communication_style?: Json | null
          context_id?: string
          created_at?: string
          decision_making_style?: Json | null
          hidden_rules?: Json | null
          id?: string
          language_patterns?: Json | null
          norms?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          political_sensitivities?: Json | null
          success_markers?: Json | null
          summary?: string | null
          taboo_behaviors?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "culture_profiles_context_id_fkey"
            columns: ["context_id"]
            isOneToOne: false
            referencedRelation: "culture_contexts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "culture_profiles_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_culture_profiles__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      daily_briefs: {
        Row: {
          content: string
          created_at: string
          day: string
          id: string
          meta: Json
          title: string
          user_id_uuid: string
        }
        Insert: {
          content?: string
          created_at?: string
          day: string
          id?: string
          meta?: Json
          title?: string
          user_id_uuid: string
        }
        Update: {
          content?: string
          created_at?: string
          day?: string
          id?: string
          meta?: Json
          title?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "daily_briefs_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_daily_briefs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      daily_quest_generation_runs: {
        Row: {
          algo_version: string
          created_at: string
          id: string
          owner_user_id: string
          quest_date: string
          selections: Json
          signals: Json
          user_id_uuid: string
        }
        Insert: {
          algo_version?: string
          created_at?: string
          id?: string
          owner_user_id: string
          quest_date: string
          selections?: Json
          signals?: Json
          user_id_uuid: string
        }
        Update: {
          algo_version?: string
          created_at?: string
          id?: string
          owner_user_id?: string
          quest_date?: string
          selections?: Json
          signals?: Json
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "daily_quest_generation_runs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_daily_quest_generation_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      daily_quests: {
        Row: {
          completed_at: string | null
          created_at: string
          description: string | null
          id: string
          is_completed: boolean
          meta: Json
          owner_user_id: string
          progress: number
          quest_date: string
          quest_key: string
          reward_xp: number
          target: number
          title: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          completed_at?: string | null
          created_at?: string
          description?: string | null
          id?: string
          is_completed?: boolean
          meta?: Json
          owner_user_id: string
          progress?: number
          quest_date: string
          quest_key: string
          reward_xp?: number
          target?: number
          title: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          completed_at?: string | null
          created_at?: string
          description?: string | null
          id?: string
          is_completed?: boolean
          meta?: Json
          owner_user_id?: string
          progress?: number
          quest_date?: string
          quest_key?: string
          reward_xp?: number
          target?: number
          title?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "daily_quests_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_daily_quests__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      daily_timeline_views: {
        Row: {
          branch_run_id: string | null
          created_at: string | null
          date: string
          id: string
          key_metrics: Json | null
          mode: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          suggested_actions: Json | null
          summary: string | null
          timeline_id: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          branch_run_id?: string | null
          created_at?: string | null
          date: string
          id?: string
          key_metrics?: Json | null
          mode?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          suggested_actions?: Json | null
          summary?: string | null
          timeline_id?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          branch_run_id?: string | null
          created_at?: string | null
          date?: string
          id?: string
          key_metrics?: Json | null
          mode?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          suggested_actions?: Json | null
          summary?: string | null
          timeline_id?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "daily_timeline_views_branch_run_id_fkey"
            columns: ["branch_run_id"]
            isOneToOne: false
            referencedRelation: "branch_simulation_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "daily_timeline_views_timeline_id_fkey"
            columns: ["timeline_id"]
            isOneToOne: false
            referencedRelation: "destiny_timelines"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "daily_timeline_views_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_daily_timeline_views__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      dash_layouts: {
        Row: {
          created_at: string
          hidden_panels: string[]
          id: string
          layout_mode: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          pinned_panels: string[]
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          hidden_panels?: string[]
          id?: string
          layout_mode?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          pinned_panels?: string[]
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          hidden_panels?: string[]
          id?: string
          layout_mode?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          pinned_panels?: string[]
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "dash_layouts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_dash_layouts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      dash_panels: {
        Row: {
          config_schema: Json
          created_at: string
          default_weight: number
          description: string | null
          id: string
          key: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
        }
        Insert: {
          config_schema?: Json
          created_at?: string
          default_weight?: number
          description?: string | null
          id?: string
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Update: {
          config_schema?: Json
          created_at?: string
          default_weight?: number
          description?: string | null
          id?: string
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Relationships: []
      }
      dashboard_telemetry: {
        Row: {
          created_at: string | null
          event_type: string
          id: string
          metadata: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          user_id_uuid: string
          widget_key: string | null
        }
        Insert: {
          created_at?: string | null
          event_type: string
          id?: string
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          user_id_uuid: string
          widget_key?: string | null
        }
        Update: {
          created_at?: string | null
          event_type?: string
          id?: string
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          user_id_uuid?: string
          widget_key?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "dashboard_telemetry_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_dashboard_telemetry__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      dashboard_telemetry_events: {
        Row: {
          event_name: string
          id: string
          occurred_at: string
          owner_user_id: string
          payload: Json
          user_id_uuid: string
        }
        Insert: {
          event_name: string
          id?: string
          occurred_at?: string
          owner_user_id: string
          payload?: Json
          user_id_uuid: string
        }
        Update: {
          event_name?: string
          id?: string
          occurred_at?: string
          owner_user_id?: string
          payload?: Json
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "dashboard_telemetry_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_dashboard_telemetry_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      day_plans: {
        Row: {
          created_at: string
          date: string
          energy_notes: string | null
          focus_areas: Json | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          summary: string | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          date: string
          energy_notes?: string | null
          focus_areas?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          summary?: string | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          date?: string
          energy_notes?: string | null
          focus_areas?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          summary?: string | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "day_plans_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_day_plans__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      deal_archetype_runs: {
        Row: {
          archetype_id: string
          confidence: number | null
          created_at: string | null
          deal_id: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          recommended_strategy: string | null
          signals: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          archetype_id: string
          confidence?: number | null
          created_at?: string | null
          deal_id: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          recommended_strategy?: string | null
          signals?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          archetype_id?: string
          confidence?: number | null
          created_at?: string | null
          deal_id?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          recommended_strategy?: string | null
          signals?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "deal_archetype_runs_archetype_id_fkey"
            columns: ["archetype_id"]
            isOneToOne: false
            referencedRelation: "mythic_archetypes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "deal_archetype_runs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_deal_archetype_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      deal_archetypes: {
        Row: {
          archetype_id: string | null
          created_at: string | null
          description: string | null
          financial_behavior: Json | null
          id: string
          name: string
          negotiation_style: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          psychological_tells: Json | null
          recommended_counterplays: Json | null
          slug: string
        }
        Insert: {
          archetype_id?: string | null
          created_at?: string | null
          description?: string | null
          financial_behavior?: Json | null
          id?: string
          name: string
          negotiation_style?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          psychological_tells?: Json | null
          recommended_counterplays?: Json | null
          slug: string
        }
        Update: {
          archetype_id?: string | null
          created_at?: string | null
          description?: string | null
          financial_behavior?: Json | null
          id?: string
          name?: string
          negotiation_style?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          psychological_tells?: Json | null
          recommended_counterplays?: Json | null
          slug?: string
        }
        Relationships: [
          {
            foreignKeyName: "deal_archetypes_archetype_id_fkey"
            columns: ["archetype_id"]
            isOneToOne: false
            referencedRelation: "mythic_archetypes"
            referencedColumns: ["id"]
          },
        ]
      }
      deal_intelligence: {
        Row: {
          blockers: Json | null
          confidence: number | null
          deal_id: string | null
          generated_at: string | null
          id: string
          momentum_score: number | null
          next_steps: Json | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          risk_summary: string | null
          stall_indicators: Json | null
        }
        Insert: {
          blockers?: Json | null
          confidence?: number | null
          deal_id?: string | null
          generated_at?: string | null
          id?: string
          momentum_score?: number | null
          next_steps?: Json | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          risk_summary?: string | null
          stall_indicators?: Json | null
        }
        Update: {
          blockers?: Json | null
          confidence?: number | null
          deal_id?: string | null
          generated_at?: string | null
          id?: string
          momentum_score?: number | null
          next_steps?: Json | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          risk_summary?: string | null
          stall_indicators?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "deal_intelligence_deal_id_fkey"
            columns: ["deal_id"]
            isOneToOne: false
            referencedRelation: "deals"
            referencedColumns: ["id"]
          },
        ]
      }
      deal_participants: {
        Row: {
          contact_id: string | null
          created_at: string | null
          deal_id: string
          id: string
          importance: number | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          role: string | null
        }
        Insert: {
          contact_id?: string | null
          created_at?: string | null
          deal_id: string
          id?: string
          importance?: number | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          role?: string | null
        }
        Update: {
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string
          id?: string
          importance?: number | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          role?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "deal_participants_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "deal_participants_deal_id_fkey"
            columns: ["deal_id"]
            isOneToOne: false
            referencedRelation: "deals"
            referencedColumns: ["id"]
          },
        ]
      }
      deal_stages: {
        Row: {
          created_at: string
          id: string
          key: string
          label: string
          meta: Json
          sort_order: number
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          key: string
          label: string
          meta?: Json
          sort_order?: number
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          key?: string
          label?: string
          meta?: Json
          sort_order?: number
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "deal_stages_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_deal_stages__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      deals: {
        Row: {
          close_date: string | null
          company: string | null
          contact_email: string | null
          contact_name: string | null
          contact_phone: string | null
          created_at: string | null
          id: string
          last_contact: string | null
          loan_type: string | null
          name: string
          next_action: string | null
          next_action_date: string | null
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          probability: number | null
          stage: string | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
          value: number | null
        }
        Insert: {
          close_date?: string | null
          company?: string | null
          contact_email?: string | null
          contact_name?: string | null
          contact_phone?: string | null
          created_at?: string | null
          id?: string
          last_contact?: string | null
          loan_type?: string | null
          name: string
          next_action?: string | null
          next_action_date?: string | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          probability?: number | null
          stage?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
          value?: number | null
        }
        Update: {
          close_date?: string | null
          company?: string | null
          contact_email?: string | null
          contact_name?: string | null
          contact_phone?: string | null
          created_at?: string | null
          id?: string
          last_contact?: string | null
          loan_type?: string | null
          name?: string
          next_action?: string | null
          next_action_date?: string | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          probability?: number | null
          stage?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
          value?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "deals_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "deals_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_deals__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      decision_options: {
        Row: {
          created_at: string | null
          decision_id: string
          description: string | null
          id: string
          is_default: boolean | null
          label: string
          owner_user_id: string | null
          owner_user_uuid: string | null
        }
        Insert: {
          created_at?: string | null
          decision_id: string
          description?: string | null
          id?: string
          is_default?: boolean | null
          label: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Update: {
          created_at?: string | null
          decision_id?: string
          description?: string | null
          id?: string
          is_default?: boolean | null
          label?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "decision_options_decision_id_fkey"
            columns: ["decision_id"]
            isOneToOne: false
            referencedRelation: "decisions"
            referencedColumns: ["id"]
          },
        ]
      }
      decision_scenarios: {
        Row: {
          created_at: string | null
          decision_id: string
          id: string
          name: string
          narrative_summary: string | null
          option_id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          parameters: Json | null
          risk_score: number | null
          simulated_outcomes: Json | null
        }
        Insert: {
          created_at?: string | null
          decision_id: string
          id?: string
          name: string
          narrative_summary?: string | null
          option_id: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          parameters?: Json | null
          risk_score?: number | null
          simulated_outcomes?: Json | null
        }
        Update: {
          created_at?: string | null
          decision_id?: string
          id?: string
          name?: string
          narrative_summary?: string | null
          option_id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          parameters?: Json | null
          risk_score?: number | null
          simulated_outcomes?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "decision_scenarios_decision_id_fkey"
            columns: ["decision_id"]
            isOneToOne: false
            referencedRelation: "decisions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "decision_scenarios_option_id_fkey"
            columns: ["option_id"]
            isOneToOne: false
            referencedRelation: "decision_options"
            referencedColumns: ["id"]
          },
        ]
      }
      decision_tree_edges: {
        Row: {
          created_at: string | null
          description: string | null
          from_node_id: string
          id: string
          label: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          to_node_id: string
          tree_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          from_node_id: string
          id?: string
          label?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          to_node_id: string
          tree_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          description?: string | null
          from_node_id?: string
          id?: string
          label?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          to_node_id?: string
          tree_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "decision_tree_edges_from_node_id_fkey"
            columns: ["from_node_id"]
            isOneToOne: false
            referencedRelation: "decision_tree_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "decision_tree_edges_to_node_id_fkey"
            columns: ["to_node_id"]
            isOneToOne: false
            referencedRelation: "decision_tree_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "decision_tree_edges_tree_id_fkey"
            columns: ["tree_id"]
            isOneToOne: false
            referencedRelation: "decision_trees"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "decision_tree_edges_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_decision_tree_edges__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      decision_tree_nodes: {
        Row: {
          created_at: string | null
          depth: number
          description: string | null
          id: string
          label: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          parent_node_id: string | null
          pivot_at_date: string | null
          related_decision_option_id: string | null
          related_timeline_id: string | null
          tree_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          depth?: number
          description?: string | null
          id?: string
          label: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          parent_node_id?: string | null
          pivot_at_date?: string | null
          related_decision_option_id?: string | null
          related_timeline_id?: string | null
          tree_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          depth?: number
          description?: string | null
          id?: string
          label?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          parent_node_id?: string | null
          pivot_at_date?: string | null
          related_decision_option_id?: string | null
          related_timeline_id?: string | null
          tree_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "decision_tree_nodes_parent_node_id_fkey"
            columns: ["parent_node_id"]
            isOneToOne: false
            referencedRelation: "decision_tree_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "decision_tree_nodes_related_decision_option_id_fkey"
            columns: ["related_decision_option_id"]
            isOneToOne: false
            referencedRelation: "decision_options"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "decision_tree_nodes_related_timeline_id_fkey"
            columns: ["related_timeline_id"]
            isOneToOne: false
            referencedRelation: "destiny_timelines"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "decision_tree_nodes_tree_id_fkey"
            columns: ["tree_id"]
            isOneToOne: false
            referencedRelation: "decision_trees"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "decision_tree_nodes_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_decision_tree_nodes__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      decision_trees: {
        Row: {
          created_at: string | null
          decision_id: string
          description: string | null
          id: string
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          decision_id: string
          description?: string | null
          id?: string
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          decision_id?: string
          description?: string | null
          id?: string
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "decision_trees_decision_id_fkey"
            columns: ["decision_id"]
            isOneToOne: false
            referencedRelation: "decisions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "decision_trees_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_decision_trees__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      decisions: {
        Row: {
          chosen_option: string | null
          context: Json | null
          created_at: string | null
          decided_at: string | null
          description: string | null
          domain_id: string | null
          id: string
          importance: number | null
          objective_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          status: string
          title: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          chosen_option?: string | null
          context?: Json | null
          created_at?: string | null
          decided_at?: string | null
          description?: string | null
          domain_id?: string | null
          id?: string
          importance?: number | null
          objective_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          status?: string
          title: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          chosen_option?: string | null
          context?: Json | null
          created_at?: string | null
          decided_at?: string | null
          description?: string | null
          domain_id?: string | null
          id?: string
          importance?: number | null
          objective_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          status?: string
          title?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "decisions_domain_id_fkey"
            columns: ["domain_id"]
            isOneToOne: false
            referencedRelation: "strategic_domains"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "decisions_objective_id_fkey"
            columns: ["objective_id"]
            isOneToOne: false
            referencedRelation: "strategic_objectives"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "decisions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_decisions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      delegated_drafts: {
        Row: {
          auto_generated: boolean | null
          body: string
          context: Json | null
          created_at: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          related_event_id: string | null
          related_insight_id: string | null
          status: string | null
          subject: string | null
          target: string | null
          type: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          auto_generated?: boolean | null
          body: string
          context?: Json | null
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          related_event_id?: string | null
          related_insight_id?: string | null
          status?: string | null
          subject?: string | null
          target?: string | null
          type: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          auto_generated?: boolean | null
          body?: string
          context?: Json | null
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          related_event_id?: string | null
          related_insight_id?: string | null
          status?: string | null
          subject?: string | null
          target?: string | null
          type?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "delegated_drafts_related_event_id_fkey"
            columns: ["related_event_id"]
            isOneToOne: false
            referencedRelation: "third_brain_events"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "delegated_drafts_related_insight_id_fkey"
            columns: ["related_insight_id"]
            isOneToOne: false
            referencedRelation: "third_brain_insights"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "delegated_drafts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_delegated_drafts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      desire_profiles: {
        Row: {
          avoidance_triggers: Json | null
          created_at: string
          entity_id: string
          entity_type: string
          id: string
          last_refreshed_at: string
          long_term_desires: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          preferred_styles: Json | null
          priorities: Json | null
          reward_signals: Json | null
          short_term_preferences: Json | null
          summary: string | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          avoidance_triggers?: Json | null
          created_at?: string
          entity_id: string
          entity_type: string
          id?: string
          last_refreshed_at?: string
          long_term_desires?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          preferred_styles?: Json | null
          priorities?: Json | null
          reward_signals?: Json | null
          short_term_preferences?: Json | null
          summary?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          avoidance_triggers?: Json | null
          created_at?: string
          entity_id?: string
          entity_type?: string
          id?: string
          last_refreshed_at?: string
          long_term_desires?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          preferred_styles?: Json | null
          priorities?: Json | null
          reward_signals?: Json | null
          short_term_preferences?: Json | null
          summary?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "desire_profiles_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_desire_profiles__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      desire_signals: {
        Row: {
          context: string | null
          created_at: string
          description: string | null
          entity_id: string
          entity_type: string
          features: Json | null
          id: string
          kind: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          signal_time: string
          source: string
          user_id_text: string | null
          user_id_uuid: string
          valence: number | null
          weight: number | null
        }
        Insert: {
          context?: string | null
          created_at?: string
          description?: string | null
          entity_id: string
          entity_type: string
          features?: Json | null
          id?: string
          kind: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          signal_time?: string
          source: string
          user_id_text?: string | null
          user_id_uuid: string
          valence?: number | null
          weight?: number | null
        }
        Update: {
          context?: string | null
          created_at?: string
          description?: string | null
          entity_id?: string
          entity_type?: string
          features?: Json | null
          id?: string
          kind?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          signal_time?: string
          source?: string
          user_id_text?: string | null
          user_id_uuid?: string
          valence?: number | null
          weight?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "desire_signals_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_desire_signals__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      destiny_alignment_log: {
        Row: {
          alignment_by_domain: Json | null
          alignment_overall: number
          arc_id: string | null
          course_correction_suggestions: Json | null
          evaluated_at: string
          id: string
          narrative_consistency: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          tension_notes: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          alignment_by_domain?: Json | null
          alignment_overall: number
          arc_id?: string | null
          course_correction_suggestions?: Json | null
          evaluated_at?: string
          id?: string
          narrative_consistency?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          tension_notes?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          alignment_by_domain?: Json | null
          alignment_overall?: number
          arc_id?: string | null
          course_correction_suggestions?: Json | null
          evaluated_at?: string
          id?: string
          narrative_consistency?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          tension_notes?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "destiny_alignment_log_arc_id_fkey"
            columns: ["arc_id"]
            isOneToOne: false
            referencedRelation: "destiny_arcs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "destiny_alignment_log_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_destiny_alignment_log__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      destiny_anchor_choices: {
        Row: {
          chosen_at: string
          created_at: string | null
          id: string
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          strength: string
          timeline_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          chosen_at?: string
          created_at?: string | null
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          strength?: string
          timeline_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          chosen_at?: string
          created_at?: string | null
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          strength?: string
          timeline_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "destiny_anchor_choices_timeline_id_fkey"
            columns: ["timeline_id"]
            isOneToOne: false
            referencedRelation: "destiny_timelines"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "destiny_anchor_choices_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_destiny_anchor_choices__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      destiny_arcs: {
        Row: {
          arc_end: string
          arc_start: string
          blueprint_id: string
          created_at: string
          focus_domains: Json | null
          guiding_principles: Json | null
          id: string
          is_current: boolean
          logline: string | null
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          status: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          arc_end: string
          arc_start: string
          blueprint_id: string
          created_at?: string
          focus_domains?: Json | null
          guiding_principles?: Json | null
          id?: string
          is_current?: boolean
          logline?: string | null
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          status?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          arc_end?: string
          arc_start?: string
          blueprint_id?: string
          created_at?: string
          focus_domains?: Json | null
          guiding_principles?: Json | null
          id?: string
          is_current?: boolean
          logline?: string | null
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          status?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "destiny_arcs_blueprint_id_fkey"
            columns: ["blueprint_id"]
            isOneToOne: false
            referencedRelation: "destiny_blueprints"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "destiny_arcs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_destiny_arcs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      destiny_blueprints: {
        Row: {
          created_at: string
          description: string | null
          domain_targets: Json | null
          horizon_years: number
          id: string
          identity_themes: Json | null
          is_archived: boolean
          is_primary: boolean
          key: string
          name: string
          non_negotiables: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          tagline: string | null
          tradeoff_philosophy: Json | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          domain_targets?: Json | null
          horizon_years: number
          id?: string
          identity_themes?: Json | null
          is_archived?: boolean
          is_primary?: boolean
          key: string
          name: string
          non_negotiables?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          tagline?: string | null
          tradeoff_philosophy?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          description?: string | null
          domain_targets?: Json | null
          horizon_years?: number
          id?: string
          identity_themes?: Json | null
          is_archived?: boolean
          is_primary?: boolean
          key?: string
          name?: string
          non_negotiables?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          tagline?: string | null
          tradeoff_philosophy?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "destiny_blueprints_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_destiny_blueprints__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      destiny_checkpoints: {
        Row: {
          arc_id: string
          created_at: string
          description: string | null
          domain: string | null
          id: string
          importance: number
          label: string
          metrics: Json | null
          missed_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          reached_at: string | null
          status: string
          target_date: string | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          arc_id: string
          created_at?: string
          description?: string | null
          domain?: string | null
          id?: string
          importance?: number
          label: string
          metrics?: Json | null
          missed_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          reached_at?: string | null
          status?: string
          target_date?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          arc_id?: string
          created_at?: string
          description?: string | null
          domain?: string | null
          id?: string
          importance?: number
          label?: string
          metrics?: Json | null
          missed_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          reached_at?: string | null
          status?: string
          target_date?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "destiny_checkpoints_arc_id_fkey"
            columns: ["arc_id"]
            isOneToOne: false
            referencedRelation: "destiny_arcs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "destiny_checkpoints_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_destiny_checkpoints__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      destiny_milestones: {
        Row: {
          created_at: string | null
          description: string | null
          id: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          status: string
          target_date: string | null
          updated_at: string | null
          waypoint_id: string
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          id?: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          status?: string
          target_date?: string | null
          updated_at?: string | null
          waypoint_id: string
        }
        Update: {
          created_at?: string | null
          description?: string | null
          id?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          status?: string
          target_date?: string | null
          updated_at?: string | null
          waypoint_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "destiny_milestones_waypoint_id_fkey"
            columns: ["waypoint_id"]
            isOneToOne: false
            referencedRelation: "destiny_waypoints"
            referencedColumns: ["id"]
          },
        ]
      }
      destiny_simulation_runs: {
        Row: {
          created_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          parameters: Json | null
          results: Json | null
          run_at: string
          timeline_id: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          parameters?: Json | null
          results?: Json | null
          run_at?: string
          timeline_id: string
        }
        Update: {
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          parameters?: Json | null
          results?: Json | null
          run_at?: string
          timeline_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "destiny_simulation_runs_timeline_id_fkey"
            columns: ["timeline_id"]
            isOneToOne: false
            referencedRelation: "destiny_timelines"
            referencedColumns: ["id"]
          },
        ]
      }
      destiny_timeline_scores: {
        Row: {
          alignment_score: number | null
          created_at: string | null
          emotional_fit_score: number | null
          feasibility_score: number | null
          id: string
          narrative_summary: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          risk_score: number | null
          simulation_summary: Json | null
          snapshot_at: string
          timeline_id: string
        }
        Insert: {
          alignment_score?: number | null
          created_at?: string | null
          emotional_fit_score?: number | null
          feasibility_score?: number | null
          id?: string
          narrative_summary?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          risk_score?: number | null
          simulation_summary?: Json | null
          snapshot_at?: string
          timeline_id: string
        }
        Update: {
          alignment_score?: number | null
          created_at?: string | null
          emotional_fit_score?: number | null
          feasibility_score?: number | null
          id?: string
          narrative_summary?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          risk_score?: number | null
          simulation_summary?: Json | null
          snapshot_at?: string
          timeline_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "destiny_timeline_scores_timeline_id_fkey"
            columns: ["timeline_id"]
            isOneToOne: false
            referencedRelation: "destiny_timelines"
            referencedColumns: ["id"]
          },
        ]
      }
      destiny_timelines: {
        Row: {
          archetype: string | null
          created_at: string | null
          description: string | null
          id: string
          is_active: boolean
          key: string | null
          mythic_frame: string | null
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          primary_domains: string[] | null
          time_horizon_years: number | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          archetype?: string | null
          created_at?: string | null
          description?: string | null
          id?: string
          is_active?: boolean
          key?: string | null
          mythic_frame?: string | null
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          primary_domains?: string[] | null
          time_horizon_years?: number | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          archetype?: string | null
          created_at?: string | null
          description?: string | null
          id?: string
          is_active?: boolean
          key?: string | null
          mythic_frame?: string | null
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          primary_domains?: string[] | null
          time_horizon_years?: number | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "destiny_timelines_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_destiny_timelines__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      destiny_waypoints: {
        Row: {
          created_at: string | null
          description: string | null
          id: string
          name: string
          ordering: number
          owner_user_id: string | null
          owner_user_uuid: string | null
          related_node_id: string | null
          strategic_objective_id: string | null
          target_date: string | null
          timeline_id: string
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          id?: string
          name: string
          ordering: number
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          related_node_id?: string | null
          strategic_objective_id?: string | null
          target_date?: string | null
          timeline_id: string
        }
        Update: {
          created_at?: string | null
          description?: string | null
          id?: string
          name?: string
          ordering?: number
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          related_node_id?: string | null
          strategic_objective_id?: string | null
          target_date?: string | null
          timeline_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "destiny_waypoints_related_node_id_fkey"
            columns: ["related_node_id"]
            isOneToOne: false
            referencedRelation: "knowledge_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "destiny_waypoints_strategic_objective_id_fkey"
            columns: ["strategic_objective_id"]
            isOneToOne: false
            referencedRelation: "strategic_objectives"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "destiny_waypoints_timeline_id_fkey"
            columns: ["timeline_id"]
            isOneToOne: false
            referencedRelation: "destiny_timelines"
            referencedColumns: ["id"]
          },
        ]
      }
      domain_kpis: {
        Row: {
          created_at: string
          domain_key: string
          id: string
          metrics: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          period_end: string
          period_start: string
          score: number | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          domain_key: string
          id?: string
          metrics?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          period_end: string
          period_start: string
          score?: number | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          domain_key?: string
          id?: string
          metrics?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          period_end?: string
          period_start?: string
          score?: number | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "domain_kpis_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_domain_kpis__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      efc_action_sequences: {
        Row: {
          action_ids: string[]
          completed: boolean
          completed_at: string | null
          created_at: string
          energy_flow: string[] | null
          id: string
          metadata: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          sequence_type: string
          title: string
          total_minutes: number
          user_id_uuid: string
          valid_until: string | null
        }
        Insert: {
          action_ids: string[]
          completed?: boolean
          completed_at?: string | null
          created_at?: string
          energy_flow?: string[] | null
          id?: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          sequence_type: string
          title: string
          total_minutes: number
          user_id_uuid: string
          valid_until?: string | null
        }
        Update: {
          action_ids?: string[]
          completed?: boolean
          completed_at?: string | null
          created_at?: string
          energy_flow?: string[] | null
          id?: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          sequence_type?: string
          title?: string
          total_minutes?: number
          user_id_uuid?: string
          valid_until?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "efc_action_sequences_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_efc_action_sequences__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      efc_commitments: {
        Row: {
          check_ins: Json
          commitment_type: string
          created_at: string
          description: string | null
          due_at: string | null
          id: string
          made_at: string
          made_to: string | null
          made_to_entity_id: string | null
          metadata: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          progress: number
          related_entity_ids: string[] | null
          source_fragment_ids: string[] | null
          status: string
          title: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          check_ins?: Json
          commitment_type: string
          created_at?: string
          description?: string | null
          due_at?: string | null
          id?: string
          made_at?: string
          made_to?: string | null
          made_to_entity_id?: string | null
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          progress?: number
          related_entity_ids?: string[] | null
          source_fragment_ids?: string[] | null
          status?: string
          title: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          check_ins?: Json
          commitment_type?: string
          created_at?: string
          description?: string | null
          due_at?: string | null
          id?: string
          made_at?: string
          made_to?: string | null
          made_to_entity_id?: string | null
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          progress?: number
          related_entity_ids?: string[] | null
          source_fragment_ids?: string[] | null
          status?: string
          title?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "efc_commitments_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_efc_commitments__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      efc_energy_states: {
        Row: {
          avoid_task_types: string[] | null
          energy_level: string
          factors: Json
          id: string
          notes: string | null
          optimal_task_types: string[] | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          recorded_at: string
          trend: string | null
          user_id_uuid: string
        }
        Insert: {
          avoid_task_types?: string[] | null
          energy_level: string
          factors?: Json
          id?: string
          notes?: string | null
          optimal_task_types?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          recorded_at?: string
          trend?: string | null
          user_id_uuid: string
        }
        Update: {
          avoid_task_types?: string[] | null
          energy_level?: string
          factors?: Json
          id?: string
          notes?: string | null
          optimal_task_types?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          recorded_at?: string
          trend?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "efc_energy_states_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_efc_energy_states__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      efc_execution_log: {
        Row: {
          action_id: string | null
          created_at: string
          duration_minutes: number | null
          energy_after: string | null
          energy_before: string | null
          event_type: string
          id: string
          metadata: Json
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          satisfaction_score: number | null
          user_id_uuid: string
        }
        Insert: {
          action_id?: string | null
          created_at?: string
          duration_minutes?: number | null
          energy_after?: string | null
          energy_before?: string | null
          event_type: string
          id?: string
          metadata?: Json
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          satisfaction_score?: number | null
          user_id_uuid: string
        }
        Update: {
          action_id?: string | null
          created_at?: string
          duration_minutes?: number | null
          energy_after?: string | null
          energy_before?: string | null
          event_type?: string
          id?: string
          metadata?: Json
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          satisfaction_score?: number | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "efc_execution_log_action_id_fkey"
            columns: ["action_id"]
            isOneToOne: false
            referencedRelation: "efc_generated_actions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "efc_execution_log_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_efc_execution_log__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      efc_generated_actions: {
        Row: {
          accepted_at: string | null
          action_type: string
          best_time_block: string | null
          completed_at: string | null
          confidence: number
          created_at: string
          dependencies: string[] | null
          description: string | null
          energy_required: string
          estimated_minutes: number
          expires_at: string | null
          id: string
          importance: string
          metadata: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority_score: number
          reasoning: string
          related_entity_ids: string[] | null
          related_fragment_ids: string[] | null
          status: string
          title: string
          urgency: string
          user_id_uuid: string
        }
        Insert: {
          accepted_at?: string | null
          action_type: string
          best_time_block?: string | null
          completed_at?: string | null
          confidence?: number
          created_at?: string
          dependencies?: string[] | null
          description?: string | null
          energy_required?: string
          estimated_minutes?: number
          expires_at?: string | null
          id?: string
          importance: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority_score?: number
          reasoning: string
          related_entity_ids?: string[] | null
          related_fragment_ids?: string[] | null
          status?: string
          title: string
          urgency: string
          user_id_uuid: string
        }
        Update: {
          accepted_at?: string | null
          action_type?: string
          best_time_block?: string | null
          completed_at?: string | null
          confidence?: number
          created_at?: string
          dependencies?: string[] | null
          description?: string | null
          energy_required?: string
          estimated_minutes?: number
          expires_at?: string | null
          id?: string
          importance?: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority_score?: number
          reasoning?: string
          related_entity_ids?: string[] | null
          related_fragment_ids?: string[] | null
          status?: string
          title?: string
          urgency?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "efc_generated_actions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_efc_generated_actions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      efc_nudges: {
        Row: {
          acknowledged: boolean
          acknowledged_at: string | null
          action_id: string | null
          commitment_id: string | null
          created_at: string
          id: string
          message: string
          nudge_type: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          snoozed_until: string | null
          suggested_action_data: Json | null
          urgency: string
          user_id_uuid: string
        }
        Insert: {
          acknowledged?: boolean
          acknowledged_at?: string | null
          action_id?: string | null
          commitment_id?: string | null
          created_at?: string
          id?: string
          message: string
          nudge_type: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          snoozed_until?: string | null
          suggested_action_data?: Json | null
          urgency?: string
          user_id_uuid: string
        }
        Update: {
          acknowledged?: boolean
          acknowledged_at?: string | null
          action_id?: string | null
          commitment_id?: string | null
          created_at?: string
          id?: string
          message?: string
          nudge_type?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          snoozed_until?: string | null
          suggested_action_data?: Json | null
          urgency?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "efc_nudges_action_id_fkey"
            columns: ["action_id"]
            isOneToOne: false
            referencedRelation: "efc_generated_actions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "efc_nudges_commitment_id_fkey"
            columns: ["commitment_id"]
            isOneToOne: false
            referencedRelation: "efc_commitments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "efc_nudges_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_efc_nudges__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      email_accounts: {
        Row: {
          access_token: string | null
          created_at: string | null
          email_address: string
          id: string
          is_primary: boolean
          last_synced_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          provider: string
          provider_user_id: string
          refresh_token: string | null
          sync_cursor: string | null
          token_expires_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          access_token?: string | null
          created_at?: string | null
          email_address: string
          id?: string
          is_primary?: boolean
          last_synced_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          provider: string
          provider_user_id: string
          refresh_token?: string | null
          sync_cursor?: string | null
          token_expires_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          access_token?: string | null
          created_at?: string | null
          email_address?: string
          id?: string
          is_primary?: boolean
          last_synced_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          provider?: string
          provider_user_id?: string
          refresh_token?: string | null
          sync_cursor?: string | null
          token_expires_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_accounts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_email_accounts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      email_actions: {
        Row: {
          action_owner: string | null
          action_type: string
          completed_at: string | null
          contact_id: string | null
          created_at: string | null
          deal_id: string | null
          deal_name: string | null
          deal_value: number | null
          description: string
          due_date: string | null
          email_id: string | null
          from_email: string | null
          from_name: string | null
          id: string
          message_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority: string | null
          snoozed_until: string | null
          status: string | null
          subject: string | null
          urgency: string | null
          user_id_uuid: string
        }
        Insert: {
          action_owner?: string | null
          action_type: string
          completed_at?: string | null
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          deal_name?: string | null
          deal_value?: number | null
          description: string
          due_date?: string | null
          email_id?: string | null
          from_email?: string | null
          from_name?: string | null
          id?: string
          message_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority?: string | null
          snoozed_until?: string | null
          status?: string | null
          subject?: string | null
          urgency?: string | null
          user_id_uuid: string
        }
        Update: {
          action_owner?: string | null
          action_type?: string
          completed_at?: string | null
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          deal_name?: string | null
          deal_value?: number | null
          description?: string
          due_date?: string | null
          email_id?: string | null
          from_email?: string | null
          from_name?: string | null
          id?: string
          message_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority?: string | null
          snoozed_until?: string | null
          status?: string | null
          subject?: string | null
          urgency?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_actions_email_id_fkey"
            columns: ["email_id"]
            isOneToOne: false
            referencedRelation: "email_items"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_actions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_email_actions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      email_daily_briefs: {
        Row: {
          brief_date: string
          commitments_due_count: number | null
          deals_at_risk: Json | null
          generated_at: string | null
          id: string
          key_actions: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          response_needed_count: number | null
          summary: string | null
          urgent_count: number | null
          user_id_uuid: string
        }
        Insert: {
          brief_date?: string
          commitments_due_count?: number | null
          deals_at_risk?: Json | null
          generated_at?: string | null
          id?: string
          key_actions?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          response_needed_count?: number | null
          summary?: string | null
          urgent_count?: number | null
          user_id_uuid: string
        }
        Update: {
          brief_date?: string
          commitments_due_count?: number | null
          deals_at_risk?: Json | null
          generated_at?: string | null
          id?: string
          key_actions?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          response_needed_count?: number | null
          summary?: string | null
          urgent_count?: number | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_daily_briefs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_email_daily_briefs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      email_drafts: {
        Row: {
          body_text: string
          created_at: string
          email_thread_id: string
          evidence: Json
          id: string
          intent: string
          model_info: Json
          owner_user_id: string
          status: string
          subject: string | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          body_text: string
          created_at?: string
          email_thread_id: string
          evidence?: Json
          id?: string
          intent?: string
          model_info?: Json
          owner_user_id: string
          status?: string
          subject?: string | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          body_text?: string
          created_at?: string
          email_thread_id?: string
          evidence?: Json
          id?: string
          intent?: string
          model_info?: Json
          owner_user_id?: string
          status?: string
          subject?: string | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_drafts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_email_drafts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      email_events: {
        Row: {
          created_at: string
          direction: string
          from_email: string | null
          id: string
          in_reply_to: string | null
          message_id: string | null
          owner_user_id: string
          received_at: string | null
          references: string[] | null
          snippet: string | null
          subject: string | null
          thread_id: string | null
          to_email: string | null
          triage_confidence: number | null
          triage_label: string | null
          triage_payload: Json | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          direction: string
          from_email?: string | null
          id?: string
          in_reply_to?: string | null
          message_id?: string | null
          owner_user_id: string
          received_at?: string | null
          references?: string[] | null
          snippet?: string | null
          subject?: string | null
          thread_id?: string | null
          to_email?: string | null
          triage_confidence?: number | null
          triage_label?: string | null
          triage_payload?: Json | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          direction?: string
          from_email?: string | null
          id?: string
          in_reply_to?: string | null
          message_id?: string | null
          owner_user_id?: string
          received_at?: string | null
          references?: string[] | null
          snippet?: string | null
          subject?: string | null
          thread_id?: string | null
          to_email?: string | null
          triage_confidence?: number | null
          triage_label?: string | null
          triage_payload?: Json | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_email_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      email_followups: {
        Row: {
          created_at: string
          due_at: string
          email_thread_id: string
          id: string
          note: string | null
          owner_user_id: string
          state: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          due_at: string
          email_thread_id: string
          id?: string
          note?: string | null
          owner_user_id: string
          state?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          due_at?: string
          email_thread_id?: string
          id?: string
          note?: string | null
          owner_user_id?: string
          state?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_followups_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_email_followups__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      email_items: {
        Row: {
          ai_summary: string | null
          body_text: string | null
          category: string | null
          contact_id: string | null
          created_at: string | null
          deal_id: string | null
          deal_value: number | null
          extracted_actions: Json | null
          from_email: string | null
          from_name: string | null
          has_action: boolean | null
          id: string
          is_forwarded: boolean | null
          is_read: boolean | null
          message_id: string
          needs_response: boolean | null
          original_sender_email: string | null
          original_sender_name: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority_score: number | null
          received_at: string | null
          responded_at: string | null
          response_urgency: string | null
          snippet: string | null
          subject: string | null
          thread_id: string | null
          to_emails: Json | null
          updated_at: string | null
          user_id_uuid: string
          waiting_since: string | null
        }
        Insert: {
          ai_summary?: string | null
          body_text?: string | null
          category?: string | null
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          deal_value?: number | null
          extracted_actions?: Json | null
          from_email?: string | null
          from_name?: string | null
          has_action?: boolean | null
          id?: string
          is_forwarded?: boolean | null
          is_read?: boolean | null
          message_id: string
          needs_response?: boolean | null
          original_sender_email?: string | null
          original_sender_name?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority_score?: number | null
          received_at?: string | null
          responded_at?: string | null
          response_urgency?: string | null
          snippet?: string | null
          subject?: string | null
          thread_id?: string | null
          to_emails?: Json | null
          updated_at?: string | null
          user_id_uuid: string
          waiting_since?: string | null
        }
        Update: {
          ai_summary?: string | null
          body_text?: string | null
          category?: string | null
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          deal_value?: number | null
          extracted_actions?: Json | null
          from_email?: string | null
          from_name?: string | null
          has_action?: boolean | null
          id?: string
          is_forwarded?: boolean | null
          is_read?: boolean | null
          message_id?: string
          needs_response?: boolean | null
          original_sender_email?: string | null
          original_sender_name?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority_score?: number | null
          received_at?: string | null
          responded_at?: string | null
          response_urgency?: string | null
          snippet?: string | null
          subject?: string | null
          thread_id?: string | null
          to_emails?: Json | null
          updated_at?: string | null
          user_id_uuid?: string
          waiting_since?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "email_items_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_email_items__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      email_messages: {
        Row: {
          bcc_addresses: string[]
          body_html: string | null
          body_text: string | null
          cc_addresses: string[]
          created_at: string | null
          email_account_id: string
          from_address: string
          id: string
          is_read: boolean
          owner_user_id: string | null
          owner_user_uuid: string | null
          remote_message_id: string
          sent_at: string | null
          snippet: string | null
          subject: string | null
          thread_id: string
          to_addresses: string[]
        }
        Insert: {
          bcc_addresses?: string[]
          body_html?: string | null
          body_text?: string | null
          cc_addresses?: string[]
          created_at?: string | null
          email_account_id: string
          from_address: string
          id?: string
          is_read?: boolean
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          remote_message_id: string
          sent_at?: string | null
          snippet?: string | null
          subject?: string | null
          thread_id: string
          to_addresses?: string[]
        }
        Update: {
          bcc_addresses?: string[]
          body_html?: string | null
          body_text?: string | null
          cc_addresses?: string[]
          created_at?: string | null
          email_account_id?: string
          from_address?: string
          id?: string
          is_read?: boolean
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          remote_message_id?: string
          sent_at?: string | null
          snippet?: string | null
          subject?: string | null
          thread_id?: string
          to_addresses?: string[]
        }
        Relationships: [
          {
            foreignKeyName: "email_messages_email_account_id_fkey"
            columns: ["email_account_id"]
            isOneToOne: false
            referencedRelation: "email_accounts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_messages_thread_id_fkey"
            columns: ["thread_id"]
            isOneToOne: false
            referencedRelation: "email_threads"
            referencedColumns: ["id"]
          },
        ]
      }
      email_outbox: {
        Row: {
          approval_status: string
          approved_at: string | null
          approved_by_user: boolean | null
          attempt_count: number
          auto_fix_payload: Json | null
          auto_fix_suggested: boolean
          body_text: string
          cancel_reason: string | null
          created_at: string
          decision_note: string | null
          defer_until: string | null
          dismissed_at: string | null
          email_thread_id: string
          error: string | null
          evidence: Json
          failure_code: string | null
          id: string
          include_quote: boolean
          last_error: string | null
          lease_expires_at: string | null
          leased_at: string | null
          leased_by: string | null
          max_attempts: number
          next_attempt_at: string | null
          owner_user_id: string | null
          quoted_message: string | null
          safe_checksum: string
          safe_mode: boolean
          scheduled_send_at: string | null
          send_intent: string | null
          source_draft_id: string | null
          status: string
          subject: string
          to_email: string
          trace_id: string | null
          undo_until: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          approval_status?: string
          approved_at?: string | null
          approved_by_user?: boolean | null
          attempt_count?: number
          auto_fix_payload?: Json | null
          auto_fix_suggested?: boolean
          body_text: string
          cancel_reason?: string | null
          created_at?: string
          decision_note?: string | null
          defer_until?: string | null
          dismissed_at?: string | null
          email_thread_id: string
          error?: string | null
          evidence?: Json
          failure_code?: string | null
          id?: string
          include_quote?: boolean
          last_error?: string | null
          lease_expires_at?: string | null
          leased_at?: string | null
          leased_by?: string | null
          max_attempts?: number
          next_attempt_at?: string | null
          owner_user_id?: string | null
          quoted_message?: string | null
          safe_checksum: string
          safe_mode?: boolean
          scheduled_send_at?: string | null
          send_intent?: string | null
          source_draft_id?: string | null
          status?: string
          subject: string
          to_email: string
          trace_id?: string | null
          undo_until?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          approval_status?: string
          approved_at?: string | null
          approved_by_user?: boolean | null
          attempt_count?: number
          auto_fix_payload?: Json | null
          auto_fix_suggested?: boolean
          body_text?: string
          cancel_reason?: string | null
          created_at?: string
          decision_note?: string | null
          defer_until?: string | null
          dismissed_at?: string | null
          email_thread_id?: string
          error?: string | null
          evidence?: Json
          failure_code?: string | null
          id?: string
          include_quote?: boolean
          last_error?: string | null
          lease_expires_at?: string | null
          leased_at?: string | null
          leased_by?: string | null
          max_attempts?: number
          next_attempt_at?: string | null
          owner_user_id?: string | null
          quoted_message?: string | null
          safe_checksum?: string
          safe_mode?: boolean
          scheduled_send_at?: string | null
          send_intent?: string | null
          source_draft_id?: string | null
          status?: string
          subject?: string
          to_email?: string
          trace_id?: string | null
          undo_until?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_outbox_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_email_outbox__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      email_resolution: {
        Row: {
          confidence: number
          created_at: string
          email_thread_id: string
          evidence: Json
          id: string
          linked_task_id: string | null
          next_action_at: string | null
          owner_user_id: string
          state: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
          why: string
        }
        Insert: {
          confidence?: number
          created_at?: string
          email_thread_id: string
          evidence?: Json
          id?: string
          linked_task_id?: string | null
          next_action_at?: string | null
          owner_user_id: string
          state: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
          why: string
        }
        Update: {
          confidence?: number
          created_at?: string
          email_thread_id?: string
          evidence?: Json
          id?: string
          linked_task_id?: string | null
          next_action_at?: string | null
          owner_user_id?: string
          state?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
          why?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_resolution_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_email_resolution__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      email_send_audit: {
        Row: {
          action: string
          created_at: string
          detail: Json | null
          id: string
          outbox_id: string
          owner_user_id: string
          user_id_uuid: string
        }
        Insert: {
          action: string
          created_at?: string
          detail?: Json | null
          id?: string
          outbox_id: string
          owner_user_id: string
          user_id_uuid: string
        }
        Update: {
          action?: string
          created_at?: string
          detail?: Json | null
          id?: string
          outbox_id?: string
          owner_user_id?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_send_audit_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_email_send_audit__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      email_suggested_drafts: {
        Row: {
          active: boolean
          body: string
          context: Json | null
          created_at: string
          id: string
          kind: string
          owner_user_id: string
          prompt_hash: string | null
          safe_checksum: string
          source_event_id: string | null
          subject: string
          thread_id: string | null
          to_email: string
          user_id_uuid: string
          why: string | null
        }
        Insert: {
          active?: boolean
          body: string
          context?: Json | null
          created_at?: string
          id?: string
          kind: string
          owner_user_id: string
          prompt_hash?: string | null
          safe_checksum: string
          source_event_id?: string | null
          subject: string
          thread_id?: string | null
          to_email: string
          user_id_uuid: string
          why?: string | null
        }
        Update: {
          active?: boolean
          body?: string
          context?: Json | null
          created_at?: string
          id?: string
          kind?: string
          owner_user_id?: string
          prompt_hash?: string | null
          safe_checksum?: string
          source_event_id?: string | null
          subject?: string
          thread_id?: string | null
          to_email?: string
          user_id_uuid?: string
          why?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "email_suggested_drafts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_email_suggested_drafts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      email_threads: {
        Row: {
          category: string | null
          contact_email: string | null
          contact_name: string | null
          created_at: string | null
          days_since_activity: number | null
          deal_id: string | null
          deal_name: string | null
          deal_value: number | null
          email_count: number | null
          health: string | null
          id: string
          importance: string | null
          last_activity_at: string | null
          last_email_at: string | null
          last_message_at: string | null
          last_message_from: string | null
          last_message_to: string | null
          needs_response: boolean | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          snippet: string | null
          starred: boolean | null
          subject: string | null
          thread_id: string
          unread: boolean | null
          updated_at: string | null
          user_id_uuid: string
          waiting_on: string | null
        }
        Insert: {
          category?: string | null
          contact_email?: string | null
          contact_name?: string | null
          created_at?: string | null
          days_since_activity?: number | null
          deal_id?: string | null
          deal_name?: string | null
          deal_value?: number | null
          email_count?: number | null
          health?: string | null
          id?: string
          importance?: string | null
          last_activity_at?: string | null
          last_email_at?: string | null
          last_message_at?: string | null
          last_message_from?: string | null
          last_message_to?: string | null
          needs_response?: boolean | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          snippet?: string | null
          starred?: boolean | null
          subject?: string | null
          thread_id: string
          unread?: boolean | null
          updated_at?: string | null
          user_id_uuid: string
          waiting_on?: string | null
        }
        Update: {
          category?: string | null
          contact_email?: string | null
          contact_name?: string | null
          created_at?: string | null
          days_since_activity?: number | null
          deal_id?: string | null
          deal_name?: string | null
          deal_value?: number | null
          email_count?: number | null
          health?: string | null
          id?: string
          importance?: string | null
          last_activity_at?: string | null
          last_email_at?: string | null
          last_message_at?: string | null
          last_message_from?: string | null
          last_message_to?: string | null
          needs_response?: boolean | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          snippet?: string | null
          starred?: boolean | null
          subject?: string | null
          thread_id?: string
          unread?: boolean | null
          updated_at?: string | null
          user_id_uuid?: string
          waiting_on?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "email_threads_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_email_threads__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      email_triage_items: {
        Row: {
          created_at: string
          email_thread_id: string
          evidence: Json
          id: string
          next_action_at: string | null
          owner_user_id: string
          score: number
          state: string
          suggested_action: string
          updated_at: string
          urgency: string
          user_id_text: string | null
          user_id_uuid: string
          why: string
        }
        Insert: {
          created_at?: string
          email_thread_id: string
          evidence?: Json
          id?: string
          next_action_at?: string | null
          owner_user_id: string
          score?: number
          state?: string
          suggested_action?: string
          updated_at?: string
          urgency?: string
          user_id_text?: string | null
          user_id_uuid: string
          why: string
        }
        Update: {
          created_at?: string
          email_thread_id?: string
          evidence?: Json
          id?: string
          next_action_at?: string | null
          owner_user_id?: string
          score?: number
          state?: string
          suggested_action?: string
          updated_at?: string
          urgency?: string
          user_id_text?: string | null
          user_id_uuid?: string
          why?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_triage_items_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_email_triage_items__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emails: {
        Row: {
          category: string | null
          contact_id: string | null
          created_at: string | null
          deal_id: string | null
          from_email: string | null
          from_name: string | null
          gmail_id: string | null
          has_attachments: boolean | null
          id: string
          is_read: boolean | null
          is_starred: boolean | null
          labels: string[] | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          received_at: string | null
          snippet: string | null
          subject: string | null
          thread_id: string | null
          to_emails: string[] | null
          user_id_uuid: string
        }
        Insert: {
          category?: string | null
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          from_email?: string | null
          from_name?: string | null
          gmail_id?: string | null
          has_attachments?: boolean | null
          id?: string
          is_read?: boolean | null
          is_starred?: boolean | null
          labels?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          received_at?: string | null
          snippet?: string | null
          subject?: string | null
          thread_id?: string | null
          to_emails?: string[] | null
          user_id_uuid: string
        }
        Update: {
          category?: string | null
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          from_email?: string | null
          from_name?: string | null
          gmail_id?: string | null
          has_attachments?: boolean | null
          id?: string
          is_read?: boolean | null
          is_starred?: boolean | null
          labels?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          received_at?: string | null
          snippet?: string | null
          subject?: string | null
          thread_id?: string | null
          to_emails?: string[] | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "emails_deal_id_fkey"
            columns: ["deal_id"]
            isOneToOne: false
            referencedRelation: "deals"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "emails_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emails__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emo_adaptive_responses: {
        Row: {
          created_at: string
          emotion_state: string
          enabled: boolean
          id: string
          intensity_threshold: number
          last_triggered_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          response_config: Json
          response_type: string
          times_triggered: number
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          emotion_state: string
          enabled?: boolean
          id?: string
          intensity_threshold?: number
          last_triggered_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          response_config?: Json
          response_type: string
          times_triggered?: number
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          emotion_state?: string
          enabled?: boolean
          id?: string
          intensity_threshold?: number
          last_triggered_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          response_config?: Json
          response_type?: string
          times_triggered?: number
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "emo_adaptive_responses_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emo_adaptive_responses__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emo_checkins: {
        Row: {
          checkin_type: string
          context_tags: string[] | null
          created_at: string
          emotion: string
          energy_level: number | null
          id: string
          intensity: number
          location: string | null
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          photo_url: string | null
          user_id_uuid: string
          weather: Json | null
        }
        Insert: {
          checkin_type?: string
          context_tags?: string[] | null
          created_at?: string
          emotion: string
          energy_level?: number | null
          id?: string
          intensity: number
          location?: string | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          photo_url?: string | null
          user_id_uuid: string
          weather?: Json | null
        }
        Update: {
          checkin_type?: string
          context_tags?: string[] | null
          created_at?: string
          emotion?: string
          energy_level?: number | null
          id?: string
          intensity?: number
          location?: string | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          photo_url?: string | null
          user_id_uuid?: string
          weather?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "emo_checkins_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emo_checkins__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emo_goals: {
        Row: {
          created_at: string
          current_baseline: number | null
          goal_type: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          progress_notes: string | null
          status: string
          strategies: string[] | null
          target_emotion: string
          target_intensity: number | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          current_baseline?: number | null
          goal_type: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          progress_notes?: string | null
          status?: string
          strategies?: string[] | null
          target_emotion: string
          target_intensity?: number | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          current_baseline?: number | null
          goal_type?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          progress_notes?: string | null
          status?: string
          strategies?: string[] | null
          target_emotion?: string
          target_intensity?: number | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "emo_goals_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emo_goals__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emo_interventions: {
        Row: {
          average_shift: number | null
          created_at: string
          effectiveness_score: number | null
          id: string
          intervention_name: string
          intervention_type: string
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          target_emotion: string | null
          times_effective: number
          times_used: number
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          average_shift?: number | null
          created_at?: string
          effectiveness_score?: number | null
          id?: string
          intervention_name: string
          intervention_type: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          target_emotion?: string | null
          times_effective?: number
          times_used?: number
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          average_shift?: number | null
          created_at?: string
          effectiveness_score?: number | null
          id?: string
          intervention_name?: string
          intervention_type?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          target_emotion?: string | null
          times_effective?: number
          times_used?: number
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "emo_interventions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emo_interventions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emo_profiles: {
        Row: {
          baselines: Json
          created_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          patterns: Json
          regulators: Json
          triggers: Json
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          baselines?: Json
          created_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          patterns?: Json
          regulators?: Json
          triggers?: Json
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          baselines?: Json
          created_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          patterns?: Json
          regulators?: Json
          triggers?: Json
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "emo_profiles_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emo_profiles__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emo_states: {
        Row: {
          arousal: number | null
          confidence: number
          context_summary: string | null
          created_at: string
          detected_emotion: string
          id: string
          intensity: number
          occurred_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          raw_signal: Json
          source: string
          source_id: string | null
          tags: string[] | null
          user_id_uuid: string
          valence: number | null
        }
        Insert: {
          arousal?: number | null
          confidence: number
          context_summary?: string | null
          created_at?: string
          detected_emotion: string
          id?: string
          intensity: number
          occurred_at: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          raw_signal?: Json
          source: string
          source_id?: string | null
          tags?: string[] | null
          user_id_uuid: string
          valence?: number | null
        }
        Update: {
          arousal?: number | null
          confidence?: number
          context_summary?: string | null
          created_at?: string
          detected_emotion?: string
          id?: string
          intensity?: number
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          raw_signal?: Json
          source?: string
          source_id?: string | null
          tags?: string[] | null
          user_id_uuid?: string
          valence?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "emo_states_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emo_states__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emo_transitions: {
        Row: {
          created_at: string
          duration_minutes: number | null
          from_emotion: string
          from_intensity: number
          id: string
          intervention_used: string | null
          occurred_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          to_emotion: string
          to_intensity: number
          trigger_description: string | null
          trigger_type: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          duration_minutes?: number | null
          from_emotion: string
          from_intensity: number
          id?: string
          intervention_used?: string | null
          occurred_at: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          to_emotion: string
          to_intensity: number
          trigger_description?: string | null
          trigger_type?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          duration_minutes?: number | null
          from_emotion?: string
          from_intensity?: number
          id?: string
          intervention_used?: string | null
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          to_emotion?: string
          to_intensity?: number
          trigger_description?: string | null
          trigger_type?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "emo_transitions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emo_transitions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emotion_channel_settings: {
        Row: {
          channel: string
          context: string | null
          created_at: string
          id: string
          interruption_rules: Json | null
          length_preferences: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          sensitivity_rules: Json | null
          tone_preferences: Json | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          channel: string
          context?: string | null
          created_at?: string
          id?: string
          interruption_rules?: Json | null
          length_preferences?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          sensitivity_rules?: Json | null
          tone_preferences?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          channel?: string
          context?: string | null
          created_at?: string
          id?: string
          interruption_rules?: Json | null
          length_preferences?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          sensitivity_rules?: Json | null
          tone_preferences?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "emotion_channel_settings_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emotion_channel_settings__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emotion_interaction_log: {
        Row: {
          channel: string
          context: string | null
          id: string
          input_emotion_state: Json | null
          input_somatic_state: Json | null
          intervention_kind: string | null
          occurred_at: string
          outcome_emotion_state: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          resonance_score: number | null
          response_style: Json | null
          user_feedback: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          channel: string
          context?: string | null
          id?: string
          input_emotion_state?: Json | null
          input_somatic_state?: Json | null
          intervention_kind?: string | null
          occurred_at?: string
          outcome_emotion_state?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          resonance_score?: number | null
          response_style?: Json | null
          user_feedback?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          channel?: string
          context?: string | null
          id?: string
          input_emotion_state?: Json | null
          input_somatic_state?: Json | null
          intervention_kind?: string | null
          occurred_at?: string
          outcome_emotion_state?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          resonance_score?: number | null
          response_style?: Json | null
          user_feedback?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "emotion_interaction_log_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emotion_interaction_log__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emotion_resonance_events: {
        Row: {
          created_at: string
          direction: string
          id: string
          interaction_id: string | null
          magnitude: number
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          pattern_tags: Json | null
          summary: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          direction: string
          id?: string
          interaction_id?: string | null
          magnitude: number
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          pattern_tags?: Json | null
          summary: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          direction?: string
          id?: string
          interaction_id?: string | null
          magnitude?: number
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          pattern_tags?: Json | null
          summary?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "emotion_resonance_events_interaction_id_fkey"
            columns: ["interaction_id"]
            isOneToOne: false
            referencedRelation: "emotion_interaction_log"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "emotion_resonance_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emotion_resonance_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emotion_samples: {
        Row: {
          arousal: number | null
          confidence: number | null
          id: string
          labels: string[] | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          payload: Json | null
          sampled_at: string
          source: string
          user_id_text: string | null
          user_id_uuid: string
          valence: number | null
        }
        Insert: {
          arousal?: number | null
          confidence?: number | null
          id?: string
          labels?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          payload?: Json | null
          sampled_at?: string
          source: string
          user_id_text?: string | null
          user_id_uuid: string
          valence?: number | null
        }
        Update: {
          arousal?: number | null
          confidence?: number | null
          id?: string
          labels?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          payload?: Json | null
          sampled_at?: string
          source?: string
          user_id_text?: string | null
          user_id_uuid?: string
          valence?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "emotion_samples_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emotion_samples__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emotion_state_daily: {
        Row: {
          avg_arousal: number | null
          avg_valence: number | null
          created_at: string
          dominant_labels: string[] | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          resilience_score: number | null
          state_date: string
          stress_score: number | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          avg_arousal?: number | null
          avg_valence?: number | null
          created_at?: string
          dominant_labels?: string[] | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          resilience_score?: number | null
          state_date: string
          stress_score?: number | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          avg_arousal?: number | null
          avg_valence?: number | null
          created_at?: string
          dominant_labels?: string[] | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          resilience_score?: number | null
          state_date?: string
          stress_score?: number | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "emotion_state_daily_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emotion_state_daily__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emotion_style_profile: {
        Row: {
          baseline_style: Json | null
          boundaries: Json | null
          created_at: string
          crisis_style: Json | null
          emotion_to_style_map: Json | null
          hype_style: Json | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          persona_preferences: Json | null
          reflective_style: Json | null
          summary: string | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          baseline_style?: Json | null
          boundaries?: Json | null
          created_at?: string
          crisis_style?: Json | null
          emotion_to_style_map?: Json | null
          hype_style?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          persona_preferences?: Json | null
          reflective_style?: Json | null
          summary?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          baseline_style?: Json | null
          boundaries?: Json | null
          created_at?: string
          crisis_style?: Json | null
          emotion_to_style_map?: Json | null
          hype_style?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          persona_preferences?: Json | null
          reflective_style?: Json | null
          summary?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "emotion_style_profile_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emotion_style_profile__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emotional_checkins: {
        Row: {
          ai_insight: string | null
          category: string | null
          checked_in_at: string | null
          created_at: string | null
          energy: number
          id: string
          mood: number
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          stress: number
          user_id_uuid: string
        }
        Insert: {
          ai_insight?: string | null
          category?: string | null
          checked_in_at?: string | null
          created_at?: string | null
          energy: number
          id?: string
          mood: number
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          stress: number
          user_id_uuid: string
        }
        Update: {
          ai_insight?: string | null
          category?: string | null
          checked_in_at?: string | null
          created_at?: string | null
          energy?: number
          id?: string
          mood?: number
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          stress?: number
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "emotional_checkins_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emotional_checkins__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emotional_patterns: {
        Row: {
          confidence: number | null
          data: Json | null
          description: string | null
          first_detected_at: string
          id: string
          last_confirmed_at: string
          occurrences: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          pattern_type: string
          title: string
          user_id_uuid: string
        }
        Insert: {
          confidence?: number | null
          data?: Json | null
          description?: string | null
          first_detected_at?: string
          id?: string
          last_confirmed_at?: string
          occurrences?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          pattern_type: string
          title: string
          user_id_uuid: string
        }
        Update: {
          confidence?: number | null
          data?: Json | null
          description?: string | null
          first_detected_at?: string
          id?: string
          last_confirmed_at?: string
          occurrences?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          pattern_type?: string
          title?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "emotional_patterns_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emotional_patterns__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      emotional_support_logs: {
        Row: {
          content: string | null
          created_at: string
          id: string
          intervention_type: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          trigger: string | null
          user_feedback: string | null
          user_id_uuid: string
        }
        Insert: {
          content?: string | null
          created_at?: string
          id?: string
          intervention_type?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          trigger?: string | null
          user_feedback?: string | null
          user_id_uuid: string
        }
        Update: {
          content?: string | null
          created_at?: string
          id?: string
          intervention_type?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          trigger?: string | null
          user_feedback?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "emotional_support_logs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_emotional_support_logs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      empathic_events: {
        Row: {
          chosen_style: Json | null
          context: Json | null
          created_at: string
          detected_other_state: Json | null
          detected_user_state: Json | null
          id: string
          outcome: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string
          suggested_message: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          chosen_style?: Json | null
          context?: Json | null
          created_at?: string
          detected_other_state?: Json | null
          detected_user_state?: Json | null
          id?: string
          outcome?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source: string
          suggested_message?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          chosen_style?: Json | null
          context?: Json | null
          created_at?: string
          detected_other_state?: Json | null
          detected_user_state?: Json | null
          id?: string
          outcome?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string
          suggested_message?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "empathic_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_empathic_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      ethical_policies: {
        Row: {
          created_at: string
          description: string | null
          domain: string | null
          id: string
          is_active: boolean
          key: string
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          priority: number
          rule: Json | null
          scope: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          domain?: string | null
          id?: string
          is_active?: boolean
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          priority?: number
          rule?: Json | null
          scope: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          description?: string | null
          domain?: string | null
          id?: string
          is_active?: boolean
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          priority?: number
          rule?: Json | null
          scope?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "ethical_policies_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_ethical_policies__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      execution_logs: {
        Row: {
          created_at: string
          execution_id: string
          id: string
          level: string
          message: string
          meta: Json
          owner_user_id: string
          trace_id: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          execution_id: string
          id?: string
          level?: string
          message: string
          meta?: Json
          owner_user_id: string
          trace_id?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          execution_id?: string
          id?: string
          level?: string
          message?: string
          meta?: Json
          owner_user_id?: string
          trace_id?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "execution_logs_execution_id_fkey"
            columns: ["execution_id"]
            isOneToOne: false
            referencedRelation: "executions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "execution_logs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_execution_logs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      execution_runs: {
        Row: {
          attempt: number
          error: string | null
          execution_id: string
          finished_at: string | null
          id: string
          output: Json
          owner_user_id: string
          started_at: string
          status: string
          trace_id: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          attempt: number
          error?: string | null
          execution_id: string
          finished_at?: string | null
          id?: string
          output?: Json
          owner_user_id: string
          started_at?: string
          status: string
          trace_id?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          attempt?: number
          error?: string | null
          execution_id?: string
          finished_at?: string | null
          id?: string
          output?: Json
          owner_user_id?: string
          started_at?: string
          status?: string
          trace_id?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "execution_runs_execution_id_fkey"
            columns: ["execution_id"]
            isOneToOne: false
            referencedRelation: "executions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "execution_runs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_execution_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      executions: {
        Row: {
          attempts: number
          cancel_reason: string | null
          cancelled_at: string | null
          created_at: string
          dedupe_key: string | null
          id: string
          kind: string
          last_error: string | null
          max_attempts: number
          next_retry_at: string | null
          payload: Json
          priority: number
          run_at: string
          status: string
          updated_at: string
          user_id_text: string | null
        }
        Insert: {
          attempts?: number
          cancel_reason?: string | null
          cancelled_at?: string | null
          created_at?: string
          dedupe_key?: string | null
          id?: string
          kind: string
          last_error?: string | null
          max_attempts?: number
          next_retry_at?: string | null
          payload?: Json
          priority?: number
          run_at?: string
          status?: string
          updated_at?: string
          user_id_text?: string | null
        }
        Update: {
          attempts?: number
          cancel_reason?: string | null
          cancelled_at?: string | null
          created_at?: string
          dedupe_key?: string | null
          id?: string
          kind?: string
          last_error?: string | null
          max_attempts?: number
          next_retry_at?: string | null
          payload?: Json
          priority?: number
          run_at?: string
          status?: string
          updated_at?: string
          user_id_text?: string | null
        }
        Relationships: []
      }
      executive_council_members: {
        Row: {
          archetype_tags: Json | null
          created_at: string | null
          description: string | null
          id: string
          is_active: boolean
          is_system_default: boolean
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          role: string | null
          slug: string
          user_id_text: string | null
          user_id_uuid: string
          voice_profile_id: string | null
        }
        Insert: {
          archetype_tags?: Json | null
          created_at?: string | null
          description?: string | null
          id?: string
          is_active?: boolean
          is_system_default?: boolean
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          role?: string | null
          slug: string
          user_id_text?: string | null
          user_id_uuid: string
          voice_profile_id?: string | null
        }
        Update: {
          archetype_tags?: Json | null
          created_at?: string | null
          description?: string | null
          id?: string
          is_active?: boolean
          is_system_default?: boolean
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          role?: string | null
          slug?: string
          user_id_text?: string | null
          user_id_uuid?: string
          voice_profile_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "executive_council_members_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_executive_council_members__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      executive_council_votes: {
        Row: {
          concerns: Json | null
          confidence: number | null
          created_at: string | null
          decision_id: string
          id: string
          member_id: string
          option_id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          rationale: string | null
        }
        Insert: {
          concerns?: Json | null
          confidence?: number | null
          created_at?: string | null
          decision_id: string
          id?: string
          member_id: string
          option_id: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          rationale?: string | null
        }
        Update: {
          concerns?: Json | null
          confidence?: number | null
          created_at?: string | null
          decision_id?: string
          id?: string
          member_id?: string
          option_id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          rationale?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "executive_council_votes_decision_id_fkey"
            columns: ["decision_id"]
            isOneToOne: false
            referencedRelation: "decisions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "executive_council_votes_member_id_fkey"
            columns: ["member_id"]
            isOneToOne: false
            referencedRelation: "executive_council_members"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "executive_council_votes_option_id_fkey"
            columns: ["option_id"]
            isOneToOne: false
            referencedRelation: "decision_options"
            referencedColumns: ["id"]
          },
        ]
      }
      executive_summaries: {
        Row: {
          concerns: Json | null
          created_at: string
          domain_scores: Json | null
          highlights: Json | null
          id: string
          overall_score: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          period_end: string
          period_start: string
          period_type: string
          recommendations: Json | null
          summary: string | null
          user_id_uuid: string
        }
        Insert: {
          concerns?: Json | null
          created_at?: string
          domain_scores?: Json | null
          highlights?: Json | null
          id?: string
          overall_score?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          period_end: string
          period_start: string
          period_type: string
          recommendations?: Json | null
          summary?: string | null
          user_id_uuid: string
        }
        Update: {
          concerns?: Json | null
          created_at?: string
          domain_scores?: Json | null
          highlights?: Json | null
          id?: string
          overall_score?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          period_end?: string
          period_start?: string
          period_type?: string
          recommendations?: Json | null
          summary?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "executive_summaries_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_executive_summaries__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      experience_events: {
        Row: {
          context: Json | null
          created_at: string
          description: string | null
          evaluation: Json | null
          expectation: Json | null
          id: string
          kind: string
          occurred_at: string
          outcome: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          ref_id: string | null
          ref_type: string | null
          source: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          context?: Json | null
          created_at?: string
          description?: string | null
          evaluation?: Json | null
          expectation?: Json | null
          id?: string
          kind: string
          occurred_at?: string
          outcome?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          ref_id?: string | null
          ref_type?: string | null
          source: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          context?: Json | null
          created_at?: string
          description?: string | null
          evaluation?: Json | null
          expectation?: Json | null
          id?: string
          kind?: string
          occurred_at?: string
          outcome?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          ref_id?: string | null
          ref_type?: string | null
          source?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "experience_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_experience_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      experiment_metrics: {
        Row: {
          created_at: string
          description: string | null
          id: string
          key: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          source_module: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          id?: string
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          source_module: string
        }
        Update: {
          created_at?: string
          description?: string | null
          id?: string
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          source_module?: string
        }
        Relationships: []
      }
      experiment_templates: {
        Row: {
          config: Json
          created_at: string
          description: string | null
          domain: string
          id: string
          key: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
        }
        Insert: {
          config?: Json
          created_at?: string
          description?: string | null
          domain: string
          id?: string
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Update: {
          config?: Json
          created_at?: string
          description?: string | null
          domain?: string
          id?: string
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Relationships: []
      }
      feedback: {
        Row: {
          category: string | null
          comment: string | null
          correction: string | null
          created_at: string
          id: string
          message_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          rating: string
          user_id_uuid: string
        }
        Insert: {
          category?: string | null
          comment?: string | null
          correction?: string | null
          created_at?: string
          id?: string
          message_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          rating: string
          user_id_uuid: string
        }
        Update: {
          category?: string | null
          comment?: string | null
          correction?: string | null
          created_at?: string
          id?: string
          message_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          rating?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "feedback_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_feedback__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      finance_accounts: {
        Row: {
          balance: number | null
          created_at: string | null
          currency: string
          id: string
          institution: string | null
          is_active: boolean
          last_synced_at: string | null
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          type: string
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          balance?: number | null
          created_at?: string | null
          currency?: string
          id?: string
          institution?: string | null
          is_active?: boolean
          last_synced_at?: string | null
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          type: string
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          balance?: number | null
          created_at?: string | null
          currency?: string
          id?: string
          institution?: string | null
          is_active?: boolean
          last_synced_at?: string | null
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          type?: string
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "finance_accounts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_finance_accounts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      finance_alerts: {
        Row: {
          body: string
          created_at: string | null
          dismissed_at: string | null
          id: string
          is_positive: boolean | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          seen_at: string | null
          severity: number | null
          title: string
          type: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          body: string
          created_at?: string | null
          dismissed_at?: string | null
          id?: string
          is_positive?: boolean | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          seen_at?: string | null
          severity?: number | null
          title: string
          type: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          body?: string
          created_at?: string | null
          dismissed_at?: string | null
          id?: string
          is_positive?: boolean | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          seen_at?: string | null
          severity?: number | null
          title?: string
          type?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "finance_alerts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_finance_alerts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      finance_budgets: {
        Row: {
          amount: number
          category: string
          created_at: string | null
          id: string
          month: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          amount: number
          category: string
          created_at?: string | null
          id?: string
          month: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          amount?: number
          category?: string
          created_at?: string | null
          id?: string
          month?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "finance_budgets_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_finance_budgets__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      finance_goals: {
        Row: {
          created_at: string | null
          current_amount: number | null
          deadline: string | null
          id: string
          linked_account_id: string | null
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          status: string
          target_amount: number | null
          type: string
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          current_amount?: number | null
          deadline?: string | null
          id?: string
          linked_account_id?: string | null
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          status?: string
          target_amount?: number | null
          type: string
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          current_amount?: number | null
          deadline?: string | null
          id?: string
          linked_account_id?: string | null
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          status?: string
          target_amount?: number | null
          type?: string
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "finance_goals_linked_account_id_fkey"
            columns: ["linked_account_id"]
            isOneToOne: false
            referencedRelation: "finance_accounts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_goals_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_finance_goals__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      finance_snapshots: {
        Row: {
          created_at: string | null
          debt_paydown: number | null
          expenses: number | null
          id: string
          income: number | null
          net_cashflow: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          period_start: string
          period_type: string
          savings: number | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          debt_paydown?: number | null
          expenses?: number | null
          id?: string
          income?: number | null
          net_cashflow?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          period_start: string
          period_type: string
          savings?: number | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          debt_paydown?: number | null
          expenses?: number | null
          id?: string
          income?: number | null
          net_cashflow?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          period_start?: string
          period_type?: string
          savings?: number | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "finance_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_finance_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      finance_transactions: {
        Row: {
          account_id: string
          amount: number
          category: string | null
          created_at: string | null
          date: string
          description: string | null
          id: string
          is_transfer: boolean | null
          metadata: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          subcategory: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          account_id: string
          amount: number
          category?: string | null
          created_at?: string | null
          date: string
          description?: string | null
          id?: string
          is_transfer?: boolean | null
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          subcategory?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          account_id?: string
          amount?: number
          category?: string | null
          created_at?: string | null
          date?: string
          description?: string | null
          id?: string
          is_transfer?: boolean | null
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          subcategory?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "finance_transactions_account_id_fkey"
            columns: ["account_id"]
            isOneToOne: false
            referencedRelation: "finance_accounts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_transactions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_finance_transactions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      financial_accounts: {
        Row: {
          code: string | null
          created_at: string
          entity_id: string
          id: string
          is_active: boolean
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          subtype: string | null
          type: string
        }
        Insert: {
          code?: string | null
          created_at?: string
          entity_id: string
          id?: string
          is_active?: boolean
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          subtype?: string | null
          type: string
        }
        Update: {
          code?: string | null
          created_at?: string
          entity_id?: string
          id?: string
          is_active?: boolean
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          subtype?: string | null
          type?: string
        }
        Relationships: [
          {
            foreignKeyName: "financial_accounts_entity_id_fkey"
            columns: ["entity_id"]
            isOneToOne: false
            referencedRelation: "financial_entities"
            referencedColumns: ["id"]
          },
        ]
      }
      financial_budget_envelopes: {
        Row: {
          account_id: string | null
          budget_id: string
          created_at: string
          id: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          target_amount: number
        }
        Insert: {
          account_id?: string | null
          budget_id: string
          created_at?: string
          id?: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          target_amount: number
        }
        Update: {
          account_id?: string | null
          budget_id?: string
          created_at?: string
          id?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          target_amount?: number
        }
        Relationships: [
          {
            foreignKeyName: "financial_budget_envelopes_account_id_fkey"
            columns: ["account_id"]
            isOneToOne: false
            referencedRelation: "financial_accounts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "financial_budget_envelopes_budget_id_fkey"
            columns: ["budget_id"]
            isOneToOne: false
            referencedRelation: "financial_budgets"
            referencedColumns: ["id"]
          },
        ]
      }
      financial_budgets: {
        Row: {
          created_at: string
          end_date: string | null
          entity_id: string
          id: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          period: string
          start_date: string | null
        }
        Insert: {
          created_at?: string
          end_date?: string | null
          entity_id: string
          id?: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          period: string
          start_date?: string | null
        }
        Update: {
          created_at?: string
          end_date?: string | null
          entity_id?: string
          id?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          period?: string
          start_date?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "financial_budgets_entity_id_fkey"
            columns: ["entity_id"]
            isOneToOne: false
            referencedRelation: "financial_entities"
            referencedColumns: ["id"]
          },
        ]
      }
      financial_connections: {
        Row: {
          created_at: string
          entity_id: string | null
          id: string
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          provider: string
          status: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          entity_id?: string | null
          id?: string
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          provider: string
          status?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          entity_id?: string | null
          id?: string
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          provider?: string
          status?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "financial_connections_entity_id_fkey"
            columns: ["entity_id"]
            isOneToOne: false
            referencedRelation: "financial_entities"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "financial_connections_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_financial_connections__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      financial_entities: {
        Row: {
          created_at: string
          description: string | null
          household_id: string | null
          id: string
          name: string
          org_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          scope: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          household_id?: string | null
          id?: string
          name: string
          org_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          scope?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          description?: string | null
          household_id?: string | null
          id?: string
          name?: string
          org_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          scope?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "financial_entities_household_id_fkey"
            columns: ["household_id"]
            isOneToOne: false
            referencedRelation: "households"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "financial_entities_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "financial_entities_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_financial_entities__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      financial_imported_transactions: {
        Row: {
          amount: number
          connection_id: string
          created_at: string
          currency: string
          description: string | null
          id: string
          ledger_entry_id: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          posted_at: string
          raw: Json
          raw_id: string | null
        }
        Insert: {
          amount: number
          connection_id: string
          created_at?: string
          currency?: string
          description?: string | null
          id?: string
          ledger_entry_id?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          posted_at: string
          raw?: Json
          raw_id?: string | null
        }
        Update: {
          amount?: number
          connection_id?: string
          created_at?: string
          currency?: string
          description?: string | null
          id?: string
          ledger_entry_id?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          posted_at?: string
          raw?: Json
          raw_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "financial_imported_transactions_connection_id_fkey"
            columns: ["connection_id"]
            isOneToOne: false
            referencedRelation: "financial_connections"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "financial_imported_transactions_ledger_entry_id_fkey"
            columns: ["ledger_entry_id"]
            isOneToOne: false
            referencedRelation: "financial_ledger_entries"
            referencedColumns: ["id"]
          },
        ]
      }
      financial_ledger_entries: {
        Row: {
          created_at: string
          description: string | null
          entity_id: string
          event_date: string
          id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          source: Json
        }
        Insert: {
          created_at?: string
          description?: string | null
          entity_id: string
          event_date: string
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          source?: Json
        }
        Update: {
          created_at?: string
          description?: string | null
          entity_id?: string
          event_date?: string
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          source?: Json
        }
        Relationships: [
          {
            foreignKeyName: "financial_ledger_entries_entity_id_fkey"
            columns: ["entity_id"]
            isOneToOne: false
            referencedRelation: "financial_entities"
            referencedColumns: ["id"]
          },
        ]
      }
      financial_ledger_lines: {
        Row: {
          account_id: string
          created_at: string
          credit: number
          debit: number
          entry_id: string
          id: string
          memo: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
        }
        Insert: {
          account_id: string
          created_at?: string
          credit?: number
          debit?: number
          entry_id: string
          id?: string
          memo?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Update: {
          account_id?: string
          created_at?: string
          credit?: number
          debit?: number
          entry_id?: string
          id?: string
          memo?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "financial_ledger_lines_account_id_fkey"
            columns: ["account_id"]
            isOneToOne: false
            referencedRelation: "financial_accounts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "financial_ledger_lines_entry_id_fkey"
            columns: ["entry_id"]
            isOneToOne: false
            referencedRelation: "financial_ledger_entries"
            referencedColumns: ["id"]
          },
        ]
      }
      financial_snapshots: {
        Row: {
          as_of_date: string
          cash_balance: number | null
          created_at: string
          data: Json
          entity_id: string
          id: string
          net_worth: number | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          total_debt: number | null
          trailing_30d_income: number | null
          trailing_30d_spend: number | null
        }
        Insert: {
          as_of_date: string
          cash_balance?: number | null
          created_at?: string
          data?: Json
          entity_id: string
          id?: string
          net_worth?: number | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          total_debt?: number | null
          trailing_30d_income?: number | null
          trailing_30d_spend?: number | null
        }
        Update: {
          as_of_date?: string
          cash_balance?: number | null
          created_at?: string
          data?: Json
          entity_id?: string
          id?: string
          net_worth?: number | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          total_debt?: number | null
          trailing_30d_income?: number | null
          trailing_30d_spend?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "financial_snapshots_entity_id_fkey"
            columns: ["entity_id"]
            isOneToOne: false
            referencedRelation: "financial_entities"
            referencedColumns: ["id"]
          },
        ]
      }
      focus_locks: {
        Row: {
          created_at: string
          ends_at: string
          id: string
          minutes: number
          owner_user_id: string
          playbook_do: string | null
          playbook_title: string | null
          started_at: string
          status: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          ends_at: string
          id?: string
          minutes: number
          owner_user_id: string
          playbook_do?: string | null
          playbook_title?: string | null
          started_at?: string
          status?: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          ends_at?: string
          id?: string
          minutes?: number
          owner_user_id?: string
          playbook_do?: string | null
          playbook_title?: string | null
          started_at?: string
          status?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_focus_locks__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "focus_locks_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      focus_sessions: {
        Row: {
          completed_at: string | null
          duration_minutes: number | null
          id: string
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          session_type: string | null
          started_at: string | null
          status: string | null
          user_id_uuid: string
        }
        Insert: {
          completed_at?: string | null
          duration_minutes?: number | null
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          session_type?: string | null
          started_at?: string | null
          status?: string | null
          user_id_uuid: string
        }
        Update: {
          completed_at?: string | null
          duration_minutes?: number | null
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          session_type?: string | null
          started_at?: string | null
          status?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_focus_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "focus_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      follow_ups: {
        Row: {
          body: string
          company: string | null
          contact_id: string | null
          created_at: string | null
          deal_id: string | null
          due_at: string | null
          due_date: string | null
          email: string | null
          id: string
          last_action: string | null
          last_action_date: string | null
          meta: Json
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          person_name: string
          phone: string | null
          priority: string | null
          source: string | null
          status: string | null
          subject: string | null
          title: string
          type: string | null
          updated_at: string | null
          user_id_uuid: string
        }
        Insert: {
          body?: string
          company?: string | null
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          due_at?: string | null
          due_date?: string | null
          email?: string | null
          id?: string
          last_action?: string | null
          last_action_date?: string | null
          meta?: Json
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          person_name: string
          phone?: string | null
          priority?: string | null
          source?: string | null
          status?: string | null
          subject?: string | null
          title?: string
          type?: string | null
          updated_at?: string | null
          user_id_uuid: string
        }
        Update: {
          body?: string
          company?: string | null
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          due_at?: string | null
          due_date?: string | null
          email?: string | null
          id?: string
          last_action?: string | null
          last_action_date?: string | null
          meta?: Json
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          person_name?: string
          phone?: string | null
          priority?: string | null
          source?: string | null
          status?: string | null
          subject?: string | null
          title?: string
          type?: string | null
          updated_at?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_follow_ups__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "follow_ups_deal_id_fkey"
            columns: ["deal_id"]
            isOneToOne: false
            referencedRelation: "deals"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "follow_ups_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "follow_ups_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      gift_ideas: {
        Row: {
          contact_id: string
          created_at: string
          id: string
          idea: string
          occasion: string | null
          owner_user_id: string
          price_range: string | null
          status: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
          why: string | null
        }
        Insert: {
          contact_id: string
          created_at?: string
          id?: string
          idea: string
          occasion?: string | null
          owner_user_id: string
          price_range?: string | null
          status?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
          why?: string | null
        }
        Update: {
          contact_id?: string
          created_at?: string
          id?: string
          idea?: string
          occasion?: string | null
          owner_user_id?: string
          price_range?: string | null
          status?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
          why?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_gift_ideas__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "gift_ideas_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "gift_ideas_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      goal_hierarchy: {
        Row: {
          alignment: Json | null
          blockers: Json | null
          created_at: string | null
          dependencies: Json | null
          description: string | null
          feasibility: Json | null
          id: string
          importance: number
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          status: string | null
          timescale: string
          title: string
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          alignment?: Json | null
          blockers?: Json | null
          created_at?: string | null
          dependencies?: Json | null
          description?: string | null
          feasibility?: Json | null
          id?: string
          importance: number
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          status?: string | null
          timescale: string
          title: string
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          alignment?: Json | null
          blockers?: Json | null
          created_at?: string | null
          dependencies?: Json | null
          description?: string | null
          feasibility?: Json | null
          id?: string
          importance?: number
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          status?: string | null
          timescale?: string
          title?: string
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_goal_hierarchy__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "goal_hierarchy_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      goals: {
        Row: {
          category: string | null
          created_at: string | null
          current_value: number | null
          description: string | null
          due_date: string | null
          id: string
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          status: string | null
          target_value: number | null
          unit: string | null
          updated_at: string | null
          user_id_uuid: string
        }
        Insert: {
          category?: string | null
          created_at?: string | null
          current_value?: number | null
          description?: string | null
          due_date?: string | null
          id?: string
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          status?: string | null
          target_value?: number | null
          unit?: string | null
          updated_at?: string | null
          user_id_uuid: string
        }
        Update: {
          category?: string | null
          created_at?: string | null
          current_value?: number | null
          description?: string | null
          due_date?: string | null
          id?: string
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          status?: string | null
          target_value?: number | null
          unit?: string | null
          updated_at?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_goals__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "goals_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      guardrail_events: {
        Row: {
          action: string
          context_id: string | null
          context_type: string
          created_at: string
          details: Json | null
          id: string
          message_to_user: string | null
          occurred_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          policy_keys: string[] | null
          source: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          action: string
          context_id?: string | null
          context_type: string
          created_at?: string
          details?: Json | null
          id?: string
          message_to_user?: string | null
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          policy_keys?: string[] | null
          source: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          action?: string
          context_id?: string | null
          context_type?: string
          created_at?: string
          details?: Json | null
          id?: string
          message_to_user?: string | null
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          policy_keys?: string[] | null
          source?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_guardrail_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "guardrail_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      habit_completions: {
        Row: {
          completed_at: string | null
          count: number | null
          habit_id: string | null
          id: string
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          user_id_uuid: string
        }
        Insert: {
          completed_at?: string | null
          count?: number | null
          habit_id?: string | null
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          user_id_uuid: string
        }
        Update: {
          completed_at?: string | null
          count?: number | null
          habit_id?: string | null
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_habit_completions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "habit_completions_habit_id_fkey"
            columns: ["habit_id"]
            isOneToOne: false
            referencedRelation: "habits"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "habit_completions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      habit_logs: {
        Row: {
          count: number
          created_at: string
          habit_id: string
          id: string
          occurred_at: string | null
          occurred_on: string
          owner_user_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          count?: number
          created_at?: string
          habit_id: string
          id?: string
          occurred_at?: string | null
          occurred_on: string
          owner_user_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          count?: number
          created_at?: string
          habit_id?: string
          id?: string
          occurred_at?: string | null
          occurred_on?: string
          owner_user_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_habit_logs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "habit_logs_habit_id_fkey"
            columns: ["habit_id"]
            isOneToOne: false
            referencedRelation: "habits"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "habit_logs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      habit_streaks: {
        Row: {
          created_at: string | null
          current_streak: number | null
          habit_id: string | null
          habit_name: string
          id: string
          last_completed: string | null
          longest_streak: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          updated_at: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          current_streak?: number | null
          habit_id?: string | null
          habit_name: string
          id?: string
          last_completed?: string | null
          longest_streak?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          updated_at?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          current_streak?: number | null
          habit_id?: string | null
          habit_name?: string
          id?: string
          last_completed?: string | null
          longest_streak?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          updated_at?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_habit_streaks__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "habit_streaks_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      habits: {
        Row: {
          best_streak: number | null
          color: string | null
          created_at: string | null
          description: string | null
          frequency: string | null
          icon: string | null
          id: string
          is_active: boolean | null
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          streak: number | null
          target_count: number | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
          xp_per_completion: number | null
        }
        Insert: {
          best_streak?: number | null
          color?: string | null
          created_at?: string | null
          description?: string | null
          frequency?: string | null
          icon?: string | null
          id?: string
          is_active?: boolean | null
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          streak?: number | null
          target_count?: number | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
          xp_per_completion?: number | null
        }
        Update: {
          best_streak?: number | null
          color?: string | null
          created_at?: string | null
          description?: string | null
          frequency?: string | null
          icon?: string | null
          id?: string
          is_active?: boolean | null
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          streak?: number | null
          target_count?: number | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
          xp_per_completion?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_habits__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "habits_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      household_members: {
        Row: {
          created_at: string | null
          household_id: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          permissions: Json | null
          role: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          household_id?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          permissions?: Json | null
          role?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          household_id?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          permissions?: Json | null
          role?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_household_members__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "household_members_household_id_fkey"
            columns: ["household_id"]
            isOneToOne: false
            referencedRelation: "households"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "household_members_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      households: {
        Row: {
          created_at: string | null
          id: string
          name: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
        }
        Insert: {
          created_at?: string | null
          id?: string
          name?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Update: {
          created_at?: string | null
          id?: string
          name?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Relationships: []
      }
      id_aspirations: {
        Row: {
          aspiration_type: string
          blockers: string[] | null
          created_at: string
          description: string | null
          id: string
          importance: number
          milestones: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          progress: number
          status: string
          time_horizon: string | null
          title: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          aspiration_type: string
          blockers?: string[] | null
          created_at?: string
          description?: string | null
          id?: string
          importance?: number
          milestones?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          progress?: number
          status?: string
          time_horizon?: string | null
          title: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          aspiration_type?: string
          blockers?: string[] | null
          created_at?: string
          description?: string | null
          id?: string
          importance?: number
          milestones?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          progress?: number
          status?: string
          time_horizon?: string | null
          title?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_id_aspirations__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "id_aspirations_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      id_beliefs: {
        Row: {
          belief_statement: string
          category: string | null
          challenges: string[] | null
          confidence: number
          created_at: string
          id: string
          is_empowering: boolean | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          belief_statement: string
          category?: string | null
          challenges?: string[] | null
          confidence?: number
          created_at?: string
          id?: string
          is_empowering?: boolean | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source?: string | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          belief_statement?: string
          category?: string | null
          challenges?: string[] | null
          confidence?: number
          created_at?: string
          id?: string
          is_empowering?: boolean | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_id_beliefs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "id_beliefs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      id_growth_areas: {
        Row: {
          area_name: string
          category: string | null
          created_at: string
          current_level: number | null
          description: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority: string
          progress_notes: string | null
          status: string
          strategies: string[] | null
          target_level: number | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          area_name: string
          category?: string | null
          created_at?: string
          current_level?: number | null
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority?: string
          progress_notes?: string | null
          status?: string
          strategies?: string[] | null
          target_level?: number | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          area_name?: string
          category?: string | null
          created_at?: string
          current_level?: number | null
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority?: string
          progress_notes?: string | null
          status?: string
          strategies?: string[] | null
          target_level?: number | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_id_growth_areas__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "id_growth_areas_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      id_momentum_daily: {
        Row: {
          actions_count: number | null
          alignment_score: number | null
          created_at: string | null
          date: string
          id: string
          identity_id: string | null
          net_momentum: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          user_id_uuid: string
        }
        Insert: {
          actions_count?: number | null
          alignment_score?: number | null
          created_at?: string | null
          date: string
          id?: string
          identity_id?: string | null
          net_momentum?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          user_id_uuid: string
        }
        Update: {
          actions_count?: number | null
          alignment_score?: number | null
          created_at?: string | null
          date?: string
          id?: string
          identity_id?: string | null
          net_momentum?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_id_momentum_daily__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "id_momentum_daily_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      id_narrative_chapters: {
        Row: {
          chapter_order: number | null
          chapter_title: string
          created_at: string
          defining_moments: string[] | null
          emotional_tone: string | null
          end_date: string | null
          id: string
          key_events: string[] | null
          lessons_learned: string[] | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          start_date: string | null
          summary: string
          time_period: string | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          chapter_order?: number | null
          chapter_title: string
          created_at?: string
          defining_moments?: string[] | null
          emotional_tone?: string | null
          end_date?: string | null
          id?: string
          key_events?: string[] | null
          lessons_learned?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          start_date?: string | null
          summary: string
          time_period?: string | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          chapter_order?: number | null
          chapter_title?: string
          created_at?: string
          defining_moments?: string[] | null
          emotional_tone?: string | null
          end_date?: string | null
          id?: string
          key_events?: string[] | null
          lessons_learned?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          start_date?: string | null
          summary?: string
          time_period?: string | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_id_narrative_chapters__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "id_narrative_chapters_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      id_roles: {
        Row: {
          aspirations: string | null
          created_at: string
          description: string | null
          id: string
          importance: number
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          role_name: string
          satisfaction: number | null
          tensions: string[] | null
          time_allocation: number | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          aspirations?: string | null
          created_at?: string
          description?: string | null
          id?: string
          importance?: number
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          role_name: string
          satisfaction?: number | null
          tensions?: string[] | null
          time_allocation?: number | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          aspirations?: string | null
          created_at?: string
          description?: string | null
          id?: string
          importance?: number
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          role_name?: string
          satisfaction?: number | null
          tensions?: string[] | null
          time_allocation?: number | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_id_roles__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "id_roles_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      id_snapshots: {
        Row: {
          authenticity_score: number | null
          biggest_challenge: string | null
          biggest_win: string | null
          created_at: string
          current_roles: string[] | null
          growth_focus: string | null
          id: string
          life_satisfaction: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          reflections: string | null
          snapshot_date: string
          top_values: string[] | null
          user_id_uuid: string
        }
        Insert: {
          authenticity_score?: number | null
          biggest_challenge?: string | null
          biggest_win?: string | null
          created_at?: string
          current_roles?: string[] | null
          growth_focus?: string | null
          id?: string
          life_satisfaction?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          reflections?: string | null
          snapshot_date: string
          top_values?: string[] | null
          user_id_uuid: string
        }
        Update: {
          authenticity_score?: number | null
          biggest_challenge?: string | null
          biggest_win?: string | null
          created_at?: string
          current_roles?: string[] | null
          growth_focus?: string | null
          id?: string
          life_satisfaction?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          reflections?: string | null
          snapshot_date?: string
          top_values?: string[] | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_id_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "id_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      id_strengths: {
        Row: {
          category: string | null
          confidence: number
          created_at: string
          description: string | null
          evidence_count: number
          id: string
          last_demonstrated_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string | null
          strength_name: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          category?: string | null
          confidence?: number
          created_at?: string
          description?: string | null
          evidence_count?: number
          id?: string
          last_demonstrated_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source?: string | null
          strength_name: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          category?: string | null
          confidence?: number
          created_at?: string
          description?: string | null
          evidence_count?: number
          id?: string
          last_demonstrated_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string | null
          strength_name?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_id_strengths__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "id_strengths_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      id_values: {
        Row: {
          active: boolean
          confidence: number
          created_at: string
          description: string | null
          evidence_fragments: string[] | null
          id: string
          importance_rank: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string | null
          updated_at: string
          user_id_uuid: string
          value_name: string
        }
        Insert: {
          active?: boolean
          confidence?: number
          created_at?: string
          description?: string | null
          evidence_fragments?: string[] | null
          id?: string
          importance_rank?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source?: string | null
          updated_at?: string
          user_id_uuid: string
          value_name: string
        }
        Update: {
          active?: boolean
          confidence?: number
          created_at?: string
          description?: string | null
          evidence_fragments?: string[] | null
          id?: string
          importance_rank?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string | null
          updated_at?: string
          user_id_uuid?: string
          value_name?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_id_values__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "id_values_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      identity_arcs: {
        Row: {
          associated_roles: string[] | null
          created_at: string
          description: string | null
          driving_values: string[] | null
          evidence: Json | null
          id: string
          key: string
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          progress: number | null
          projected_end_date: string | null
          related_theme_keys: string[] | null
          start_date: string | null
          status: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          associated_roles?: string[] | null
          created_at?: string
          description?: string | null
          driving_values?: string[] | null
          evidence?: Json | null
          id?: string
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          progress?: number | null
          projected_end_date?: string | null
          related_theme_keys?: string[] | null
          start_date?: string | null
          status?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          associated_roles?: string[] | null
          created_at?: string
          description?: string | null
          driving_values?: string[] | null
          evidence?: Json | null
          id?: string
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          progress?: number | null
          projected_end_date?: string | null
          related_theme_keys?: string[] | null
          start_date?: string | null
          status?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_identity_arcs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "identity_arcs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      identity_events: {
        Row: {
          created_at: string
          event_type: string
          id: string
          occurred_at: string
          owner_user_id: string
          payload: Json
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          event_type: string
          id?: string
          occurred_at?: string
          owner_user_id: string
          payload?: Json
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          event_type?: string
          id?: string
          occurred_at?: string
          owner_user_id?: string
          payload?: Json
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_identity_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "identity_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      identity_transforms: {
        Row: {
          catalysts: Json | null
          emotions: Json | null
          id: string
          narrative_explanation: string | null
          new_identity: Json | null
          occurred_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          previous_identity: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          catalysts?: Json | null
          emotions?: Json | null
          id?: string
          narrative_explanation?: string | null
          new_identity?: Json | null
          occurred_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          previous_identity?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          catalysts?: Json | null
          emotions?: Json | null
          id?: string
          narrative_explanation?: string | null
          new_identity?: Json | null
          occurred_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          previous_identity?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_identity_transforms__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "identity_transforms_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      identity_users: {
        Row: {
          archived_at: string | null
          clerk_user_id: string
          created_at: string
          email: string | null
          id: string
          identity_kind: string
          is_archived: boolean
          updated_at: string
        }
        Insert: {
          archived_at?: string | null
          clerk_user_id: string
          created_at?: string
          email?: string | null
          id?: string
          identity_kind?: string
          is_archived?: boolean
          updated_at?: string
        }
        Update: {
          archived_at?: string | null
          clerk_user_id?: string
          created_at?: string
          email?: string | null
          id?: string
          identity_kind?: string
          is_archived?: boolean
          updated_at?: string
        }
        Relationships: []
      }
      inbox_actions: {
        Row: {
          action_type: string
          created_at: string
          id: string
          inbox_item_id: string
          payload: Json
          target_id: string | null
          target_table: string | null
          user_id_uuid: string
        }
        Insert: {
          action_type: string
          created_at?: string
          id?: string
          inbox_item_id: string
          payload?: Json
          target_id?: string | null
          target_table?: string | null
          user_id_uuid: string
        }
        Update: {
          action_type?: string
          created_at?: string
          id?: string
          inbox_item_id?: string
          payload?: Json
          target_id?: string | null
          target_table?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_inbox_actions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inbox_actions_inbox_item_id_fkey"
            columns: ["inbox_item_id"]
            isOneToOne: false
            referencedRelation: "inbox_items"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inbox_actions_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      inbox_items: {
        Row: {
          body: string | null
          created_at: string
          from_email: string | null
          from_name: string | null
          id: string
          is_archived: boolean
          is_unread: boolean
          meta: Json
          received_at: string | null
          snippet: string | null
          source: string
          source_message_id: string | null
          source_thread_id: string | null
          subject: string | null
          suggested_action: string | null
          suggested_due_at: string | null
          triage_meta: Json
          triage_priority: string
          triage_status: string
          triaged_at: string | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          body?: string | null
          created_at?: string
          from_email?: string | null
          from_name?: string | null
          id?: string
          is_archived?: boolean
          is_unread?: boolean
          meta?: Json
          received_at?: string | null
          snippet?: string | null
          source?: string
          source_message_id?: string | null
          source_thread_id?: string | null
          subject?: string | null
          suggested_action?: string | null
          suggested_due_at?: string | null
          triage_meta?: Json
          triage_priority?: string
          triage_status?: string
          triaged_at?: string | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          body?: string | null
          created_at?: string
          from_email?: string | null
          from_name?: string | null
          id?: string
          is_archived?: boolean
          is_unread?: boolean
          meta?: Json
          received_at?: string | null
          snippet?: string | null
          source?: string
          source_message_id?: string | null
          source_thread_id?: string | null
          subject?: string | null
          suggested_action?: string | null
          suggested_due_at?: string | null
          triage_meta?: Json
          triage_priority?: string
          triage_status?: string
          triaged_at?: string | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_inbox_items__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inbox_items_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      inbox_rule_outcomes: {
        Row: {
          action_type: string | null
          created_at: string
          id: string
          inbox_item_id: string
          matched: boolean
          note: string | null
          rule_id: string | null
          run_id: string
          target_id: string | null
          target_table: string | null
          user_id_uuid: string
        }
        Insert: {
          action_type?: string | null
          created_at?: string
          id?: string
          inbox_item_id: string
          matched?: boolean
          note?: string | null
          rule_id?: string | null
          run_id: string
          target_id?: string | null
          target_table?: string | null
          user_id_uuid: string
        }
        Update: {
          action_type?: string | null
          created_at?: string
          id?: string
          inbox_item_id?: string
          matched?: boolean
          note?: string | null
          rule_id?: string | null
          run_id?: string
          target_id?: string | null
          target_table?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_inbox_rule_outcomes__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inbox_rule_outcomes_inbox_item_id_fkey"
            columns: ["inbox_item_id"]
            isOneToOne: false
            referencedRelation: "inbox_items"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inbox_rule_outcomes_rule_id_fkey"
            columns: ["rule_id"]
            isOneToOne: false
            referencedRelation: "inbox_rules"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inbox_rule_outcomes_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "inbox_rule_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inbox_rule_outcomes_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      inbox_rule_runs: {
        Row: {
          actions_count: number
          error: string | null
          finished_at: string | null
          id: string
          matched_count: number
          meta: Json
          processed_count: number
          started_at: string
          status: string
          user_id_uuid: string
        }
        Insert: {
          actions_count?: number
          error?: string | null
          finished_at?: string | null
          id?: string
          matched_count?: number
          meta?: Json
          processed_count?: number
          started_at?: string
          status?: string
          user_id_uuid: string
        }
        Update: {
          actions_count?: number
          error?: string | null
          finished_at?: string | null
          id?: string
          matched_count?: number
          meta?: Json
          processed_count?: number
          started_at?: string
          status?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_inbox_rule_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inbox_rule_runs_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      inbox_rules: {
        Row: {
          action_archive: boolean
          action_due_minutes: number | null
          action_mark_read: boolean
          action_status: string | null
          action_title_template: string | null
          action_type: string
          created_at: string
          enabled: boolean
          id: string
          match_body_contains: string | null
          match_from_email: string | null
          match_snippet_contains: string | null
          match_subject_contains: string | null
          meta: Json
          priority: number
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          action_archive?: boolean
          action_due_minutes?: number | null
          action_mark_read?: boolean
          action_status?: string | null
          action_title_template?: string | null
          action_type: string
          created_at?: string
          enabled?: boolean
          id?: string
          match_body_contains?: string | null
          match_from_email?: string | null
          match_snippet_contains?: string | null
          match_subject_contains?: string | null
          meta?: Json
          priority?: number
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          action_archive?: boolean
          action_due_minutes?: number | null
          action_mark_read?: boolean
          action_status?: string | null
          action_title_template?: string | null
          action_type?: string
          created_at?: string
          enabled?: boolean
          id?: string
          match_body_contains?: string | null
          match_from_email?: string | null
          match_snippet_contains?: string | null
          match_subject_contains?: string | null
          meta?: Json
          priority?: number
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_inbox_rules__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inbox_rules_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      inbox_triage_events: {
        Row: {
          created_at: string
          event_type: string
          from_value: string | null
          id: string
          inbox_item_id: string
          meta: Json
          to_value: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          event_type: string
          from_value?: string | null
          id?: string
          inbox_item_id: string
          meta?: Json
          to_value?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          event_type?: string
          from_value?: string | null
          id?: string
          inbox_item_id?: string
          meta?: Json
          to_value?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_inbox_triage_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inbox_triage_events_inbox_item_id_fkey"
            columns: ["inbox_item_id"]
            isOneToOne: false
            referencedRelation: "inbox_items"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inbox_triage_events_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      industries: {
        Row: {
          created_at: string | null
          icon: string | null
          id: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          sort_order: number | null
        }
        Insert: {
          created_at?: string | null
          icon?: string | null
          id?: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          sort_order?: number | null
        }
        Update: {
          created_at?: string | null
          icon?: string | null
          id?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          sort_order?: number | null
        }
        Relationships: []
      }
      inner_monologue_entries: {
        Row: {
          annotations: Json | null
          content: string
          created_at: string
          created_from: Json | null
          id: string
          importance: number
          kind: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string
          state_date: string | null
          thread_ids: string[] | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          annotations?: Json | null
          content: string
          created_at?: string
          created_from?: Json | null
          id?: string
          importance?: number
          kind: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source: string
          state_date?: string | null
          thread_ids?: string[] | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          annotations?: Json | null
          content?: string
          created_at?: string
          created_from?: Json | null
          id?: string
          importance?: number
          kind?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string
          state_date?: string | null
          thread_ids?: string[] | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_inner_monologue_entries__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inner_monologue_entries_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      inner_monologue_turns: {
        Row: {
          content: string
          created_at: string
          derived_actions: Json | null
          emotional_tone: Json | null
          focus_item_id: string | null
          frame_id: string | null
          id: string
          mode: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          referenced_subsystems: string[] | null
          step_index: number
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          content: string
          created_at?: string
          derived_actions?: Json | null
          emotional_tone?: Json | null
          focus_item_id?: string | null
          frame_id?: string | null
          id?: string
          mode: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          referenced_subsystems?: string[] | null
          step_index: number
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          content?: string
          created_at?: string
          derived_actions?: Json | null
          emotional_tone?: Json | null
          focus_item_id?: string | null
          frame_id?: string | null
          id?: string
          mode?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          referenced_subsystems?: string[] | null
          step_index?: number
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_inner_monologue_turns__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inner_monologue_turns_focus_item_id_fkey"
            columns: ["focus_item_id"]
            isOneToOne: false
            referencedRelation: "conscious_items"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inner_monologue_turns_frame_id_fkey"
            columns: ["frame_id"]
            isOneToOne: false
            referencedRelation: "conscious_frames"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inner_monologue_turns_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      interaction_events: {
        Row: {
          contact_id: string | null
          created_at: string
          extracted_fact_ids: string[] | null
          id: string
          occurred_at: string
          owner_user_id: string
          payload_ref: Json | null
          summary: string
          type: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          contact_id?: string | null
          created_at?: string
          extracted_fact_ids?: string[] | null
          id?: string
          occurred_at?: string
          owner_user_id: string
          payload_ref?: Json | null
          summary: string
          type: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          contact_id?: string | null
          created_at?: string
          extracted_fact_ids?: string[] | null
          id?: string
          occurred_at?: string
          owner_user_id?: string
          payload_ref?: Json | null
          summary?: string
          type?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_interaction_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "interaction_events_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "crm_contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "interaction_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      interactions: {
        Row: {
          contact_id: string | null
          created_at: string | null
          id: string
          metadata: Json | null
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          summary: string | null
          type: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          contact_id?: string | null
          created_at?: string | null
          id?: string
          metadata?: Json | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          summary?: string | null
          type: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          contact_id?: string | null
          created_at?: string | null
          id?: string
          metadata?: Json | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          summary?: string | null
          type?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_interactions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "interactions_contact_id_fkey"
            columns: ["contact_id"]
            isOneToOne: false
            referencedRelation: "contacts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "interactions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_categories: {
        Row: {
          created_at: string | null
          icon: string | null
          id: string
          industry_id: string | null
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          sort_order: number | null
        }
        Insert: {
          created_at?: string | null
          icon?: string | null
          id?: string
          industry_id?: string | null
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          sort_order?: number | null
        }
        Update: {
          created_at?: string | null
          icon?: string | null
          id?: string
          industry_id?: string | null
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          sort_order?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "job_categories_industry_id_fkey"
            columns: ["industry_id"]
            isOneToOne: false
            referencedRelation: "industries"
            referencedColumns: ["id"]
          },
        ]
      }
      job_graph_nodes: {
        Row: {
          created_at: string | null
          description: string | null
          id: string
          industry_id: string | null
          is_active: boolean | null
          is_leaf: boolean | null
          job_title_id: string | null
          label: string
          level: number | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          parent_id: string | null
          path: string | null
          updated_at: string | null
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          id?: string
          industry_id?: string | null
          is_active?: boolean | null
          is_leaf?: boolean | null
          job_title_id?: string | null
          label: string
          level?: number | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          parent_id?: string | null
          path?: string | null
          updated_at?: string | null
        }
        Update: {
          created_at?: string | null
          description?: string | null
          id?: string
          industry_id?: string | null
          is_active?: boolean | null
          is_leaf?: boolean | null
          job_title_id?: string | null
          label?: string
          level?: number | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          parent_id?: string | null
          path?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "job_graph_nodes_industry_id_fkey"
            columns: ["industry_id"]
            isOneToOne: false
            referencedRelation: "industries"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_graph_nodes_job_title_id_fkey"
            columns: ["job_title_id"]
            isOneToOne: false
            referencedRelation: "job_titles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_graph_nodes_parent_id_fkey"
            columns: ["parent_id"]
            isOneToOne: false
            referencedRelation: "job_graph_nodes"
            referencedColumns: ["id"]
          },
        ]
      }
      job_kpis: {
        Row: {
          created_at: string | null
          description: string | null
          id: string
          job_graph_node_id: string | null
          kpi_key: string
          label: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          target_period: string | null
          target_value: number | null
          weight: number | null
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          id?: string
          job_graph_node_id?: string | null
          kpi_key: string
          label: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          target_period?: string | null
          target_value?: number | null
          weight?: number | null
        }
        Update: {
          created_at?: string | null
          description?: string | null
          id?: string
          job_graph_node_id?: string | null
          kpi_key?: string
          label?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          target_period?: string | null
          target_value?: number | null
          weight?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "job_kpis_job_graph_node_id_fkey"
            columns: ["job_graph_node_id"]
            isOneToOne: false
            referencedRelation: "job_graph_nodes"
            referencedColumns: ["id"]
          },
        ]
      }
      job_metrics: {
        Row: {
          duration_ms: number
          error: string | null
          job_name: string
          run_at: string
          success: boolean
        }
        Insert: {
          duration_ms: number
          error?: string | null
          job_name: string
          run_at?: string
          success: boolean
        }
        Update: {
          duration_ms?: number
          error?: string | null
          job_name?: string
          run_at?: string
          success?: boolean
        }
        Relationships: []
      }
      job_provider_health: {
        Row: {
          base_delay_seconds: number
          completed: number
          failed: number
          failure_rate: number
          max_delay_seconds: number
          multiplier: number
          provider: string
          status: string
          total: number
          updated_at: string
          window_minutes: number
        }
        Insert: {
          base_delay_seconds?: number
          completed?: number
          failed?: number
          failure_rate?: number
          max_delay_seconds?: number
          multiplier?: number
          provider: string
          status?: string
          total?: number
          updated_at?: string
          window_minutes?: number
        }
        Update: {
          base_delay_seconds?: number
          completed?: number
          failed?: number
          failure_rate?: number
          max_delay_seconds?: number
          multiplier?: number
          provider?: string
          status?: string
          total?: number
          updated_at?: string
          window_minutes?: number
        }
        Relationships: []
      }
      job_provider_incidents: {
        Row: {
          at: string
          failure_rate: number | null
          id: number
          meta: Json | null
          provider: string
          sample_failed: number | null
          sample_total: number | null
          status: string
        }
        Insert: {
          at?: string
          failure_rate?: number | null
          id?: number
          meta?: Json | null
          provider: string
          sample_failed?: number | null
          sample_total?: number | null
          status: string
        }
        Update: {
          at?: string
          failure_rate?: number | null
          id?: number
          meta?: Json | null
          provider?: string
          sample_failed?: number | null
          sample_total?: number | null
          status?: string
        }
        Relationships: []
      }
      job_queue: {
        Row: {
          agent_id: string | null
          attempts: number
          correlation_id: string | null
          cost: number
          created_at: string
          deferral_count: number
          failed_at: string | null
          finished_at: string | null
          first_enqueued_at: string | null
          heartbeat_at: string | null
          id: string
          idempotency_key: string | null
          job_key: string | null
          job_type: string
          lane: string
          last_error: string | null
          lease_expires_at: string | null
          locked_at: string | null
          locked_by: string | null
          max_attempts: number
          next_run_at: string | null
          owner_user_id: string
          payload: Json
          priority: number
          run_after: string
          run_at: string
          scheduled_at: string
          sla_minutes: number | null
          started_at: string | null
          status: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          agent_id?: string | null
          attempts?: number
          correlation_id?: string | null
          cost?: number
          created_at?: string
          deferral_count?: number
          failed_at?: string | null
          finished_at?: string | null
          first_enqueued_at?: string | null
          heartbeat_at?: string | null
          id?: string
          idempotency_key?: string | null
          job_key?: string | null
          job_type: string
          lane?: string
          last_error?: string | null
          lease_expires_at?: string | null
          locked_at?: string | null
          locked_by?: string | null
          max_attempts?: number
          next_run_at?: string | null
          owner_user_id: string
          payload?: Json
          priority?: number
          run_after?: string
          run_at?: string
          scheduled_at?: string
          sla_minutes?: number | null
          started_at?: string | null
          status?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          agent_id?: string | null
          attempts?: number
          correlation_id?: string | null
          cost?: number
          created_at?: string
          deferral_count?: number
          failed_at?: string | null
          finished_at?: string | null
          first_enqueued_at?: string | null
          heartbeat_at?: string | null
          id?: string
          idempotency_key?: string | null
          job_key?: string | null
          job_type?: string
          lane?: string
          last_error?: string | null
          lease_expires_at?: string | null
          locked_at?: string | null
          locked_by?: string | null
          max_attempts?: number
          next_run_at?: string | null
          owner_user_id?: string
          payload?: Json
          priority?: number
          run_after?: string
          run_at?: string
          scheduled_at?: string
          sla_minutes?: number | null
          started_at?: string | null
          status?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_queue__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_queue_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_queue_agent_budgets: {
        Row: {
          agent_id: string
          burst_multiplier: number
          daily_budget: number
          decay_rate: number
          updated_at: string
        }
        Insert: {
          agent_id: string
          burst_multiplier?: number
          daily_budget?: number
          decay_rate?: number
          updated_at?: string
        }
        Update: {
          agent_id?: string
          burst_multiplier?: number
          daily_budget?: number
          decay_rate?: number
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_queue_agent_budgets_agent_id_fkey"
            columns: ["agent_id"]
            isOneToOne: true
            referencedRelation: "job_queue_agents"
            referencedColumns: ["id"]
          },
        ]
      }
      job_queue_agents: {
        Row: {
          created_at: string
          enabled: boolean
          id: string
          kind_allowlist: string[]
          lane: string
          max_concurrency: number
          name: string
          owner_user_id: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          enabled?: boolean
          id?: string
          kind_allowlist?: string[]
          lane?: string
          max_concurrency?: number
          name: string
          owner_user_id: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          enabled?: boolean
          id?: string
          kind_allowlist?: string[]
          lane?: string
          max_concurrency?: number
          name?: string
          owner_user_id?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_queue_agents__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_queue_agents_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_queue_alerts: {
        Row: {
          code: string
          created_at: string
          id: number
          message: string
          meta: Json
          severity: string
        }
        Insert: {
          code: string
          created_at?: string
          id?: number
          message: string
          meta?: Json
          severity: string
        }
        Update: {
          code?: string
          created_at?: string
          id?: number
          message?: string
          meta?: Json
          severity?: string
        }
        Relationships: []
      }
      job_queue_budget_ledger: {
        Row: {
          day: string
          delta: number
          id: string
          job_id: string | null
          meta: Json
          owner_user_id: string
          reason: string
          ts: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          day: string
          delta: number
          id?: string
          job_id?: string | null
          meta?: Json
          owner_user_id: string
          reason: string
          ts?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          day?: string
          delta?: number
          id?: string
          job_id?: string | null
          meta?: Json
          owner_user_id?: string
          reason?: string
          ts?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_queue_budget_ledger__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_queue_budget_ledger_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "job_queue"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_queue_budget_ledger_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_queue_budget_rollover: {
        Row: {
          carried_forward: number
          created_at: string
          day: string
          expires_at: string
          owner_user_id: string
          tier: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          carried_forward?: number
          created_at?: string
          day: string
          expires_at: string
          owner_user_id: string
          tier: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          carried_forward?: number
          created_at?: string
          day?: string
          expires_at?: string
          owner_user_id?: string
          tier?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_queue_budget_rollover__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_queue_budget_rollover_tier_fkey"
            columns: ["tier"]
            isOneToOne: false
            referencedRelation: "job_queue_tiers"
            referencedColumns: ["tier"]
          },
          {
            foreignKeyName: "job_queue_budget_rollover_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_queue_credit_balances: {
        Row: {
          balance: number
          owner_user_id: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          balance?: number
          owner_user_id: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          balance?: number
          owner_user_id?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_queue_credit_balances__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_queue_credit_balances_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_queue_credits_ledger: {
        Row: {
          created_at: string
          day: string
          delta: number
          id: number
          job_id: string | null
          meta: Json
          owner_user_id: string
          reason: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          day: string
          delta: number
          id?: number
          job_id?: string | null
          meta?: Json
          owner_user_id: string
          reason: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          day?: string
          delta?: number
          id?: number
          job_id?: string | null
          meta?: Json
          owner_user_id?: string
          reason?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_queue_credits_ledger__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_queue_credits_ledger_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_queue_daily_budget: {
        Row: {
          budget: number
          day: string
          owner_user_id: string
          spent: number
          tier: string | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          budget?: number
          day: string
          owner_user_id: string
          spent?: number
          tier?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          budget?: number
          day?: string
          owner_user_id?: string
          spent?: number
          tier?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_queue_daily_budget__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_queue_daily_budget_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_queue_events: {
        Row: {
          id: string
          job_id: string
          level: string
          message: string
          meta: Json
          ts: string
        }
        Insert: {
          id?: string
          job_id: string
          level?: string
          message: string
          meta?: Json
          ts?: string
        }
        Update: {
          id?: string
          job_id?: string
          level?: string
          message?: string
          meta?: Json
          ts?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_queue_events_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "job_queue"
            referencedColumns: ["id"]
          },
        ]
      }
      job_queue_fairness_ledger: {
        Row: {
          created_at: string
          id: string
          job_id: string | null
          lane: string | null
          owner_user_id: string
          reason: string
          score_delta: number
          ts: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          job_id?: string | null
          lane?: string | null
          owner_user_id: string
          reason: string
          score_delta: number
          ts?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          job_id?: string | null
          lane?: string | null
          owner_user_id?: string
          reason?: string
          score_delta?: number
          ts?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_queue_fairness_ledger__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_queue_fairness_ledger_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "job_queue"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_queue_fairness_ledger_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_queue_health_snapshots: {
        Row: {
          created_at: string
          id: number
          mean_wait_seconds: number | null
          p95_wait_seconds: number | null
          queue_depth: number
          retry_pressure: number | null
          score: number
          sla_breach_count: number
          starvation_count: number
          status: string
          warnings: string[]
          window_end: string
          window_start: string
        }
        Insert: {
          created_at?: string
          id?: number
          mean_wait_seconds?: number | null
          p95_wait_seconds?: number | null
          queue_depth: number
          retry_pressure?: number | null
          score: number
          sla_breach_count?: number
          starvation_count?: number
          status: string
          warnings?: string[]
          window_end: string
          window_start: string
        }
        Update: {
          created_at?: string
          id?: number
          mean_wait_seconds?: number | null
          p95_wait_seconds?: number | null
          queue_depth?: number
          retry_pressure?: number | null
          score?: number
          sla_breach_count?: number
          starvation_count?: number
          status?: string
          warnings?: string[]
          window_end?: string
          window_start?: string
        }
        Relationships: []
      }
      job_queue_lane_quota: {
        Row: {
          day: string
          lane: string
          owner_user_id: string
          quota: number
          updated_at: string
          used: number
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          day: string
          lane: string
          owner_user_id: string
          quota: number
          updated_at?: string
          used?: number
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          day?: string
          lane?: string
          owner_user_id?: string
          quota?: number
          updated_at?: string
          used?: number
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_queue_lane_quota__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_queue_lane_quota_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_queue_pricing: {
        Row: {
          base_cost: number
          burst_surcharge: number
          created_at: string
          id: number
          kind: string
          priority_surcharge: number
          tier: string
        }
        Insert: {
          base_cost?: number
          burst_surcharge?: number
          created_at?: string
          id?: number
          kind: string
          priority_surcharge?: number
          tier: string
        }
        Update: {
          base_cost?: number
          burst_surcharge?: number
          created_at?: string
          id?: number
          kind?: string
          priority_surcharge?: number
          tier?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_queue_pricing_tier_fkey"
            columns: ["tier"]
            isOneToOne: false
            referencedRelation: "job_queue_tiers"
            referencedColumns: ["tier"]
          },
        ]
      }
      job_queue_rate_window: {
        Row: {
          max_jobs: number
          owner_user_id: string
          spent: number
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
          window_seconds: number
          window_start: string
        }
        Insert: {
          max_jobs: number
          owner_user_id: string
          spent?: number
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
          window_seconds: number
          window_start: string
        }
        Update: {
          max_jobs?: number
          owner_user_id?: string
          spent?: number
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
          window_seconds?: number
          window_start?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_queue_rate_window__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_queue_rate_window_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_queue_results: {
        Row: {
          created_at: string
          error: string | null
          id: string
          job_id: string
          meta: Json
          output: Json | null
          status: string
        }
        Insert: {
          created_at?: string
          error?: string | null
          id?: string
          job_id: string
          meta?: Json
          output?: Json | null
          status: string
        }
        Update: {
          created_at?: string
          error?: string | null
          id?: string
          job_id?: string
          meta?: Json
          output?: Json | null
          status?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_queue_results_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "job_queue"
            referencedColumns: ["id"]
          },
        ]
      }
      job_queue_scheduler_decisions: {
        Row: {
          created_at: string
          decision: string
          id: number
          job_id: string | null
          lane: string | null
          meta: Json
          owner_user_id: string | null
          queue_depth: number
          reason: string
          sla_risk: boolean
          starvation_risk: boolean
          system_load_score: number | null
          user_budget_remaining: number | null
          user_effective_budget: number | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          decision: string
          id?: number
          job_id?: string | null
          lane?: string | null
          meta?: Json
          owner_user_id?: string | null
          queue_depth?: number
          reason: string
          sla_risk?: boolean
          starvation_risk?: boolean
          system_load_score?: number | null
          user_budget_remaining?: number | null
          user_effective_budget?: number | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          decision?: string
          id?: number
          job_id?: string | null
          lane?: string | null
          meta?: Json
          owner_user_id?: string | null
          queue_depth?: number
          reason?: string
          sla_risk?: boolean
          starvation_risk?: boolean
          system_load_score?: number | null
          user_budget_remaining?: number | null
          user_effective_budget?: number | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_queue_scheduler_decisions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_queue_scheduler_decisions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_queue_tiers: {
        Row: {
          burst_multiplier: number
          created_at: string
          daily_budget: number
          decay_rate: number
          tier: string
          updated_at: string
        }
        Insert: {
          burst_multiplier?: number
          created_at?: string
          daily_budget: number
          decay_rate?: number
          tier: string
          updated_at?: string
        }
        Update: {
          burst_multiplier?: number
          created_at?: string
          daily_budget?: number
          decay_rate?: number
          tier?: string
          updated_at?: string
        }
        Relationships: []
      }
      job_queue_user_tiers: {
        Row: {
          created_at: string
          effective_from: string
          owner_user_id: string
          tier: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          effective_from?: string
          owner_user_id: string
          tier: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          effective_from?: string
          owner_user_id?: string
          tier?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_queue_user_tiers__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_queue_user_tiers_tier_fkey"
            columns: ["tier"]
            isOneToOne: false
            referencedRelation: "job_queue_tiers"
            referencedColumns: ["tier"]
          },
          {
            foreignKeyName: "job_queue_user_tiers_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_requests: {
        Row: {
          admin_notes: string | null
          created_at: string | null
          description: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          status: string | null
          suggested_category: string | null
          suggested_industry: string | null
          suggested_title: string
          user_id_uuid: string
        }
        Insert: {
          admin_notes?: string | null
          created_at?: string | null
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          status?: string | null
          suggested_category?: string | null
          suggested_industry?: string | null
          suggested_title: string
          user_id_uuid: string
        }
        Update: {
          admin_notes?: string | null
          created_at?: string | null
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          status?: string | null
          suggested_category?: string | null
          suggested_industry?: string | null
          suggested_title?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_requests__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_requests_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_runs: {
        Row: {
          attempt: number
          created_at: string
          duration_ms: number | null
          error: string | null
          finished_at: string | null
          id: string
          job_id: string
          job_type: string
          owner_user_id: string
          result: Json | null
          started_at: string
          status: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          attempt: number
          created_at?: string
          duration_ms?: number | null
          error?: string | null
          finished_at?: string | null
          id?: string
          job_id: string
          job_type: string
          owner_user_id: string
          result?: Json | null
          started_at?: string
          status: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          attempt?: number
          created_at?: string
          duration_ms?: number | null
          error?: string | null
          finished_at?: string | null
          id?: string
          job_id?: string
          job_type?: string
          owner_user_id?: string
          result?: Json | null
          started_at?: string
          status?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_runs_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "job_queue"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_runs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_scorecards: {
        Row: {
          created_at: string | null
          date: string
          id: string
          job_graph_node_id: string | null
          kpi_scores: Json | null
          kpi_values: Json | null
          overall_score: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          date: string
          id?: string
          job_graph_node_id?: string | null
          kpi_scores?: Json | null
          kpi_values?: Json | null
          overall_score?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          date?: string
          id?: string
          job_graph_node_id?: string | null
          kpi_scores?: Json | null
          kpi_values?: Json | null
          overall_score?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_scorecards__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_scorecards_job_graph_node_id_fkey"
            columns: ["job_graph_node_id"]
            isOneToOne: false
            referencedRelation: "job_graph_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_scorecards_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_titles: {
        Row: {
          aliases: string[] | null
          category_id: string | null
          created_at: string | null
          description: string | null
          id: string
          is_active: boolean | null
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          typical_metrics: string[] | null
          user_count: number | null
        }
        Insert: {
          aliases?: string[] | null
          category_id?: string | null
          created_at?: string | null
          description?: string | null
          id?: string
          is_active?: boolean | null
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          typical_metrics?: string[] | null
          user_count?: number | null
        }
        Update: {
          aliases?: string[] | null
          category_id?: string | null
          created_at?: string | null
          description?: string | null
          id?: string
          is_active?: boolean | null
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          typical_metrics?: string[] | null
          user_count?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "job_titles_category_id_fkey"
            columns: ["category_id"]
            isOneToOne: false
            referencedRelation: "job_categories"
            referencedColumns: ["id"]
          },
        ]
      }
      job_verticals: {
        Row: {
          created_at: string | null
          id: string
          job_title: string
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          pack: Json
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          job_title: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          pack: Json
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          id?: string
          job_title?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          pack?: Json
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_job_verticals__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_verticals_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      journal_entries: {
        Row: {
          challenges: string[] | null
          created_at: string | null
          date: string | null
          entry_date: string | null
          gratitude: string[] | null
          id: string
          lessons: string[] | null
          mode: string | null
          mood: number | null
          occurred_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          primary_theme: string | null
          reflection_streak: number | null
          title: string
          tomorrow_focus: string | null
          transcript: string | null
          user_id_text: string | null
          user_id_uuid: string
          wins: string[] | null
          xp_earned: number | null
        }
        Insert: {
          challenges?: string[] | null
          created_at?: string | null
          date?: string | null
          entry_date?: string | null
          gratitude?: string[] | null
          id?: string
          lessons?: string[] | null
          mode?: string | null
          mood?: number | null
          occurred_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          primary_theme?: string | null
          reflection_streak?: number | null
          title: string
          tomorrow_focus?: string | null
          transcript?: string | null
          user_id_text?: string | null
          user_id_uuid: string
          wins?: string[] | null
          xp_earned?: number | null
        }
        Update: {
          challenges?: string[] | null
          created_at?: string | null
          date?: string | null
          entry_date?: string | null
          gratitude?: string[] | null
          id?: string
          lessons?: string[] | null
          mode?: string | null
          mood?: number | null
          occurred_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          primary_theme?: string | null
          reflection_streak?: number | null
          title?: string
          tomorrow_focus?: string | null
          transcript?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
          wins?: string[] | null
          xp_earned?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_journal_entries__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "journal_entries_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      knowledge_context_links: {
        Row: {
          context_id: string
          created_at: string | null
          edge_id: string | null
          id: string
          node_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          context_id: string
          created_at?: string | null
          edge_id?: string | null
          id?: string
          node_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          context_id?: string
          created_at?: string | null
          edge_id?: string | null
          id?: string
          node_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_knowledge_context_links__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "knowledge_context_links_context_id_fkey"
            columns: ["context_id"]
            isOneToOne: false
            referencedRelation: "knowledge_contexts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "knowledge_context_links_edge_id_fkey"
            columns: ["edge_id"]
            isOneToOne: false
            referencedRelation: "knowledge_edges"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "knowledge_context_links_node_id_fkey"
            columns: ["node_id"]
            isOneToOne: false
            referencedRelation: "knowledge_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "knowledge_context_links_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      knowledge_contexts: {
        Row: {
          created_at: string | null
          description: string | null
          ended_at: string | null
          id: string
          kind: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          started_at: string | null
          title: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          ended_at?: string | null
          id?: string
          kind: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          started_at?: string | null
          title?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          description?: string | null
          ended_at?: string | null
          id?: string
          kind?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          started_at?: string | null
          title?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_knowledge_contexts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "knowledge_contexts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      knowledge_edges: {
        Row: {
          created_at: string | null
          direction: string
          from_node_id: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          relation: string
          to_node_id: string
          user_id_text: string | null
          user_id_uuid: string
          weight: number | null
        }
        Insert: {
          created_at?: string | null
          direction?: string
          from_node_id: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          relation: string
          to_node_id: string
          user_id_text?: string | null
          user_id_uuid: string
          weight?: number | null
        }
        Update: {
          created_at?: string | null
          direction?: string
          from_node_id?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          relation?: string
          to_node_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
          weight?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_knowledge_edges__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "knowledge_edges_from_node_id_fkey"
            columns: ["from_node_id"]
            isOneToOne: false
            referencedRelation: "knowledge_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "knowledge_edges_to_node_id_fkey"
            columns: ["to_node_id"]
            isOneToOne: false
            referencedRelation: "knowledge_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "knowledge_edges_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      knowledge_nodes: {
        Row: {
          created_at: string | null
          external_ref: string | null
          id: string
          importance: number | null
          kind: string
          last_touched_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          summary: string | null
          tags: string[] | null
          title: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          external_ref?: string | null
          id?: string
          importance?: number | null
          kind: string
          last_touched_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          summary?: string | null
          tags?: string[] | null
          title: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          external_ref?: string | null
          id?: string
          importance?: number | null
          kind?: string
          last_touched_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          summary?: string | null
          tags?: string[] | null
          title?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_knowledge_nodes__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "knowledge_nodes_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      lb_daily_metrics: {
        Row: {
          created_at: string | null
          date: string
          id: string
          metrics: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          updated_at: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          date: string
          id?: string
          metrics?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          updated_at?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          date?: string
          id?: string
          metrics?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          updated_at?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_lb_daily_metrics__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "lb_daily_metrics_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      lb_insights: {
        Row: {
          content: string
          created_at: string | null
          id: string
          insight_type: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          significance: number | null
          source_data: Json | null
          status: string | null
          time_range: string | null
          title: string
          user_id_uuid: string
        }
        Insert: {
          content: string
          created_at?: string | null
          id?: string
          insight_type?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          significance?: number | null
          source_data?: Json | null
          status?: string | null
          time_range?: string | null
          title: string
          user_id_uuid: string
        }
        Update: {
          content?: string
          created_at?: string | null
          id?: string
          insight_type?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          significance?: number | null
          source_data?: Json | null
          status?: string | null
          time_range?: string | null
          title?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_lb_insights__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "lb_insights_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      league_members: {
        Row: {
          created_at: string
          display_mode: string
          id: string
          league_id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          public_handle: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          display_mode?: string
          id?: string
          league_id: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          public_handle?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          display_mode?: string
          id?: string
          league_id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          public_handle?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_league_members__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "league_members_league_id_fkey"
            columns: ["league_id"]
            isOneToOne: false
            referencedRelation: "leagues"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "league_members_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      league_scores: {
        Row: {
          components: Json
          id: string
          league_id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          rank: number | null
          score: number
          tier: string | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          components?: Json
          id?: string
          league_id: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          rank?: number | null
          score?: number
          tier?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          components?: Json
          id?: string
          league_id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          rank?: number | null
          score?: number
          tier?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_league_scores__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "league_scores_league_id_fkey"
            columns: ["league_id"]
            isOneToOne: false
            referencedRelation: "leagues"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "league_scores_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      leagues: {
        Row: {
          config: Json
          created_at: string
          description: string | null
          ends_at: string | null
          id: string
          key: string
          name: string
          org_id: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          scope: string
          season_key: string | null
          started_at: string
          vertical_key: string | null
        }
        Insert: {
          config?: Json
          created_at?: string
          description?: string | null
          ends_at?: string | null
          id?: string
          key: string
          name: string
          org_id?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          scope?: string
          season_key?: string | null
          started_at: string
          vertical_key?: string | null
        }
        Update: {
          config?: Json
          created_at?: string
          description?: string | null
          ends_at?: string | null
          id?: string
          key?: string
          name?: string
          org_id?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          scope?: string
          season_key?: string | null
          started_at?: string
          vertical_key?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "leagues_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
        ]
      }
      life_arc_autopilot_runs: {
        Row: {
          created_at: string | null
          details: Json | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          run_date: string
          run_type: string
          status: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          details?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          run_date: string
          run_type: string
          status?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          details?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          run_date?: string
          run_type?: string
          status?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_life_arc_autopilot_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_arc_autopilot_runs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      life_arc_autopilot_suggestions: {
        Row: {
          created_at: string
          detail: string
          entity_id: string | null
          entity_type: string | null
          id: string
          idempotency_key: string
          metadata: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          policy_id: string | null
          priority: string
          run_id: string | null
          snoozed_until: string | null
          status: string
          suggestion_type: string
          title: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          detail: string
          entity_id?: string | null
          entity_type?: string | null
          id?: string
          idempotency_key: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          policy_id?: string | null
          priority?: string
          run_id?: string | null
          snoozed_until?: string | null
          status?: string
          suggestion_type: string
          title: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          detail?: string
          entity_id?: string | null
          entity_type?: string | null
          id?: string
          idempotency_key?: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          policy_id?: string | null
          priority?: string
          run_id?: string | null
          snoozed_until?: string | null
          status?: string
          suggestion_type?: string
          title?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_life_arc_autopilot_suggestions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_arc_autopilot_suggestions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      life_arc_checkpoints: {
        Row: {
          arc_id: string
          created_at: string | null
          date: string
          id: string
          metadata: Json | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          progress_score: number | null
          risk_flags: string[] | null
          summary: string | null
        }
        Insert: {
          arc_id: string
          created_at?: string | null
          date?: string
          id?: string
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          progress_score?: number | null
          risk_flags?: string[] | null
          summary?: string | null
        }
        Update: {
          arc_id?: string
          created_at?: string | null
          date?: string
          id?: string
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          progress_score?: number | null
          risk_flags?: string[] | null
          summary?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "life_arc_checkpoints_arc_id_fkey"
            columns: ["arc_id"]
            isOneToOne: false
            referencedRelation: "life_arcs"
            referencedColumns: ["id"]
          },
        ]
      }
      life_arc_daily_focus: {
        Row: {
          arc_id: string
          autopilot_action_id: string | null
          created_at: string | null
          focus_date: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          quest_id: string | null
          status: string
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          arc_id: string
          autopilot_action_id?: string | null
          created_at?: string | null
          focus_date: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          quest_id?: string | null
          status?: string
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          arc_id?: string
          autopilot_action_id?: string | null
          created_at?: string | null
          focus_date?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          quest_id?: string | null
          status?: string
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_life_arc_daily_focus__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_arc_daily_focus_arc_id_fkey"
            columns: ["arc_id"]
            isOneToOne: false
            referencedRelation: "life_arcs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_arc_daily_focus_quest_id_fkey"
            columns: ["quest_id"]
            isOneToOne: false
            referencedRelation: "life_arc_quests"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_arc_daily_focus_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      life_arc_objectives: {
        Row: {
          arc_id: string
          created_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          summary: string
          target_quests: number | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
          week_start_date: string
        }
        Insert: {
          arc_id: string
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          summary: string
          target_quests?: number | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
          week_start_date: string
        }
        Update: {
          arc_id?: string
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          summary?: string
          target_quests?: number | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
          week_start_date?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_life_arc_objectives__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_arc_objectives_arc_id_fkey"
            columns: ["arc_id"]
            isOneToOne: false
            referencedRelation: "life_arcs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_arc_objectives_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      life_arc_quests: {
        Row: {
          arc_id: string
          created_at: string | null
          description: string | null
          difficulty: number | null
          due_date: string | null
          id: string
          impact: number | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          source_hint: string | null
          status: string
          title: string
          updated_at: string | null
        }
        Insert: {
          arc_id: string
          created_at?: string | null
          description?: string | null
          difficulty?: number | null
          due_date?: string | null
          id?: string
          impact?: number | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          source_hint?: string | null
          status?: string
          title: string
          updated_at?: string | null
        }
        Update: {
          arc_id?: string
          created_at?: string | null
          description?: string | null
          difficulty?: number | null
          due_date?: string | null
          id?: string
          impact?: number | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          source_hint?: string | null
          status?: string
          title?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "life_arc_quests_arc_id_fkey"
            columns: ["arc_id"]
            isOneToOne: false
            referencedRelation: "life_arcs"
            referencedColumns: ["id"]
          },
        ]
      }
      life_arc_risk_events: {
        Row: {
          arc_id: string
          created_at: string | null
          description: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          risk_type: string
          severity: number
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          arc_id: string
          created_at?: string | null
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          risk_type: string
          severity?: number
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          arc_id?: string
          created_at?: string | null
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          risk_type?: string
          severity?: number
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_life_arc_risk_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_arc_risk_events_arc_id_fkey"
            columns: ["arc_id"]
            isOneToOne: false
            referencedRelation: "life_arcs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_arc_risk_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      life_arc_sources: {
        Row: {
          arc_id: string
          created_at: string | null
          id: string
          metadata: Json | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          source_id: string | null
          source_type: string
          weight: number | null
        }
        Insert: {
          arc_id: string
          created_at?: string | null
          id?: string
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          source_id?: string | null
          source_type: string
          weight?: number | null
        }
        Update: {
          arc_id?: string
          created_at?: string | null
          id?: string
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          source_id?: string | null
          source_type?: string
          weight?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "life_arc_sources_arc_id_fkey"
            columns: ["arc_id"]
            isOneToOne: false
            referencedRelation: "life_arcs"
            referencedColumns: ["id"]
          },
        ]
      }
      life_arcs: {
        Row: {
          created_at: string | null
          description: string | null
          id: string
          key: string
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority: number
          start_date: string | null
          status: string
          target_date: string | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          id?: string
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority?: number
          start_date?: string | null
          status?: string
          target_date?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          description?: string | null
          id?: string
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority?: number
          start_date?: string | null
          status?: string
          target_date?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_life_arcs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_arcs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      life_canon_entries: {
        Row: {
          arc_id: string | null
          content: string
          created_at: string
          entry_type: string
          id: string
          metadata: Json
          owner_user_id: string
          session_id: string | null
          tags: string[]
          title: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          arc_id?: string | null
          content: string
          created_at?: string
          entry_type?: string
          id?: string
          metadata?: Json
          owner_user_id: string
          session_id?: string | null
          tags?: string[]
          title: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          arc_id?: string | null
          content?: string
          created_at?: string
          entry_type?: string
          id?: string
          metadata?: Json
          owner_user_id?: string
          session_id?: string | null
          tags?: string[]
          title?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_life_canon_entries__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_canon_entries_arc_id_fkey"
            columns: ["arc_id"]
            isOneToOne: false
            referencedRelation: "mythic_arcs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_canon_entries_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "mythic_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_canon_entries_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      life_canon_snapshots: {
        Row: {
          active_chapter: Json | null
          active_themes: Json | null
          id: string
          narrative_summary: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          predicted_next_chapter: Json | null
          recent_events: Json | null
          snapshot_time: string | null
          upcoming_turning_points: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          active_chapter?: Json | null
          active_themes?: Json | null
          id?: string
          narrative_summary?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          predicted_next_chapter?: Json | null
          recent_events?: Json | null
          snapshot_time?: string | null
          upcoming_turning_points?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          active_chapter?: Json | null
          active_themes?: Json | null
          id?: string
          narrative_summary?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          predicted_next_chapter?: Json | null
          recent_events?: Json | null
          snapshot_time?: string | null
          upcoming_turning_points?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_life_canon_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_canon_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      life_chapters: {
        Row: {
          chapter_index: number
          created_at: string
          dominant_themes: string[] | null
          emotional_tone: Json | null
          end_date: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          primary_roles: string[] | null
          start_date: string
          status: string
          summary: string | null
          tagline: string | null
          title: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          chapter_index: number
          created_at?: string
          dominant_themes?: string[] | null
          emotional_tone?: Json | null
          end_date?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          primary_roles?: string[] | null
          start_date: string
          status?: string
          summary?: string | null
          tagline?: string | null
          title: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          chapter_index?: number
          created_at?: string
          dominant_themes?: string[] | null
          emotional_tone?: Json | null
          end_date?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          primary_roles?: string[] | null
          start_date?: string
          status?: string
          summary?: string | null
          tagline?: string | null
          title?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_life_chapters__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_chapters_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      life_domains: {
        Row: {
          created_at: string
          id: string
          key: string
          label: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          updated_at: string
          user_id_uuid: string
          weight: number | null
        }
        Insert: {
          created_at?: string
          id?: string
          key: string
          label: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          updated_at?: string
          user_id_uuid: string
          weight?: number | null
        }
        Update: {
          created_at?: string
          id?: string
          key?: string
          label?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          updated_at?: string
          user_id_uuid?: string
          weight?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_life_domains__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_domains_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      life_events: {
        Row: {
          chapter_id: string | null
          created_at: string
          emotional_valence: number | null
          id: string
          impact: number
          kind: string
          occurred_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          ref_id: string | null
          ref_type: string | null
          source: string
          summary: string | null
          tags: string[] | null
          title: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          chapter_id?: string | null
          created_at?: string
          emotional_valence?: number | null
          id?: string
          impact?: number
          kind: string
          occurred_at: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          ref_id?: string | null
          ref_type?: string | null
          source: string
          summary?: string | null
          tags?: string[] | null
          title: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          chapter_id?: string | null
          created_at?: string
          emotional_valence?: number | null
          id?: string
          impact?: number
          kind?: string
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          ref_id?: string | null
          ref_type?: string | null
          source?: string
          summary?: string | null
          tags?: string[] | null
          title?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_life_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      life_evidence: {
        Row: {
          confidence: number
          created_at: string
          evidence_payload: Json
          evidence_type: string
          id: string
          life_event_id: string | null
          owner_user_id: string
          source: string
          trace_id: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          confidence?: number
          created_at?: string
          evidence_payload?: Json
          evidence_type: string
          id?: string
          life_event_id?: string | null
          owner_user_id: string
          source?: string
          trace_id?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          confidence?: number
          created_at?: string
          evidence_payload?: Json
          evidence_type?: string
          id?: string
          life_event_id?: string | null
          owner_user_id?: string
          source?: string
          trace_id?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_life_evidence__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_evidence_life_event_id_fkey"
            columns: ["life_event_id"]
            isOneToOne: false
            referencedRelation: "life_events"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_evidence_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      life_themes: {
        Row: {
          created_at: string
          description: string | null
          domain: string[] | null
          example_event_ids: string[] | null
          first_appeared_at: string | null
          id: string
          key: string
          last_active_at: string | null
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          strength: number | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          domain?: string[] | null
          example_event_ids?: string[] | null
          first_appeared_at?: string | null
          id?: string
          key: string
          last_active_at?: string | null
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          strength?: number | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          description?: string | null
          domain?: string[] | null
          example_event_ids?: string[] | null
          first_appeared_at?: string | null
          id?: string
          key?: string
          last_active_at?: string | null
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          strength?: number | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_life_themes__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "life_themes_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      long_chapters: {
        Row: {
          achievements: string[] | null
          avg_wellbeing: number | null
          challenges: string[] | null
          chapter_title: string
          closing_summary: string | null
          created_at: string
          end_date: string | null
          growth_areas: string[] | null
          id: string
          key_relationships: string[] | null
          lessons_learned: string[] | null
          opening_summary: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          primary_focus: string | null
          start_date: string
          status: string
          themes: string[] | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          achievements?: string[] | null
          avg_wellbeing?: number | null
          challenges?: string[] | null
          chapter_title: string
          closing_summary?: string | null
          created_at?: string
          end_date?: string | null
          growth_areas?: string[] | null
          id?: string
          key_relationships?: string[] | null
          lessons_learned?: string[] | null
          opening_summary?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          primary_focus?: string | null
          start_date: string
          status?: string
          themes?: string[] | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          achievements?: string[] | null
          avg_wellbeing?: number | null
          challenges?: string[] | null
          chapter_title?: string
          closing_summary?: string | null
          created_at?: string
          end_date?: string | null
          growth_areas?: string[] | null
          id?: string
          key_relationships?: string[] | null
          lessons_learned?: string[] | null
          opening_summary?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          primary_focus?: string | null
          start_date?: string
          status?: string
          themes?: string[] | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_long_chapters__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "long_chapters_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      long_milestones: {
        Row: {
          chapter_id: string | null
          created_at: string
          description: string | null
          emotional_impact: string | null
          id: string
          life_areas_affected: string[] | null
          long_term_effects: string | null
          milestone_type: string
          occurred_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          related_entity_ids: string[] | null
          significance_score: number
          title: string
          user_id_uuid: string
        }
        Insert: {
          chapter_id?: string | null
          created_at?: string
          description?: string | null
          emotional_impact?: string | null
          id?: string
          life_areas_affected?: string[] | null
          long_term_effects?: string | null
          milestone_type: string
          occurred_at: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          related_entity_ids?: string[] | null
          significance_score?: number
          title: string
          user_id_uuid: string
        }
        Update: {
          chapter_id?: string | null
          created_at?: string
          description?: string | null
          emotional_impact?: string | null
          id?: string
          life_areas_affected?: string[] | null
          long_term_effects?: string | null
          milestone_type?: string
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          related_entity_ids?: string[] | null
          significance_score?: number
          title?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_long_milestones__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "long_milestones_chapter_id_fkey"
            columns: ["chapter_id"]
            isOneToOne: false
            referencedRelation: "long_chapters"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "long_milestones_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      long_predictions: {
        Row: {
          actual_value: number | null
          basis: string | null
          confidence: number
          created_at: string
          current_value: number | null
          description: string
          id: string
          metric_name: string | null
          outcome_notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          predicted_date: string | null
          predicted_value: number | null
          prediction_type: string
          resolved_at: string | null
          status: string
          user_id_uuid: string
        }
        Insert: {
          actual_value?: number | null
          basis?: string | null
          confidence: number
          created_at?: string
          current_value?: number | null
          description: string
          id?: string
          metric_name?: string | null
          outcome_notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          predicted_date?: string | null
          predicted_value?: number | null
          prediction_type: string
          resolved_at?: string | null
          status?: string
          user_id_uuid: string
        }
        Update: {
          actual_value?: number | null
          basis?: string | null
          confidence?: number
          created_at?: string
          current_value?: number | null
          description?: string
          id?: string
          metric_name?: string | null
          outcome_notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          predicted_date?: string | null
          predicted_value?: number | null
          prediction_type?: string
          resolved_at?: string | null
          status?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_long_predictions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "long_predictions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      long_snapshots: {
        Row: {
          active_relationships: number | null
          active_roles: string[] | null
          active_values: string[] | null
          avg_emotional_valence: number | null
          avg_energy_level: number | null
          avg_productivity_score: number | null
          commitments_kept_rate: number | null
          created_at: string
          dominant_emotions: string[] | null
          emotional_volatility: number | null
          energy_pattern: Json | null
          goals_achieved: number | null
          id: string
          insights_generated: number | null
          interaction_count: number | null
          metrics_data: Json
          narrative_summary: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          patterns_identified: number | null
          period_end: string
          period_start: string
          snapshot_type: string
          strengths_demonstrated: string[] | null
          tasks_completed: number | null
          user_id_uuid: string
        }
        Insert: {
          active_relationships?: number | null
          active_roles?: string[] | null
          active_values?: string[] | null
          avg_emotional_valence?: number | null
          avg_energy_level?: number | null
          avg_productivity_score?: number | null
          commitments_kept_rate?: number | null
          created_at?: string
          dominant_emotions?: string[] | null
          emotional_volatility?: number | null
          energy_pattern?: Json | null
          goals_achieved?: number | null
          id?: string
          insights_generated?: number | null
          interaction_count?: number | null
          metrics_data?: Json
          narrative_summary?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          patterns_identified?: number | null
          period_end: string
          period_start: string
          snapshot_type: string
          strengths_demonstrated?: string[] | null
          tasks_completed?: number | null
          user_id_uuid: string
        }
        Update: {
          active_relationships?: number | null
          active_roles?: string[] | null
          active_values?: string[] | null
          avg_emotional_valence?: number | null
          avg_energy_level?: number | null
          avg_productivity_score?: number | null
          commitments_kept_rate?: number | null
          created_at?: string
          dominant_emotions?: string[] | null
          emotional_volatility?: number | null
          energy_pattern?: Json | null
          goals_achieved?: number | null
          id?: string
          insights_generated?: number | null
          interaction_count?: number | null
          metrics_data?: Json
          narrative_summary?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          patterns_identified?: number | null
          period_end?: string
          period_start?: string
          snapshot_type?: string
          strengths_demonstrated?: string[] | null
          tasks_completed?: number | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_long_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "long_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      long_trajectories: {
        Row: {
          accelerators: string[] | null
          attribute_name: string
          blockers: string[] | null
          category: string | null
          created_at: string
          current_level: number
          growth_rate: number | null
          history: Json
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          target_level: number | null
          time_to_target: number | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          accelerators?: string[] | null
          attribute_name: string
          blockers?: string[] | null
          category?: string | null
          created_at?: string
          current_level: number
          growth_rate?: number | null
          history?: Json
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          target_level?: number | null
          time_to_target?: number | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          accelerators?: string[] | null
          attribute_name?: string
          blockers?: string[] | null
          category?: string | null
          created_at?: string
          current_level?: number
          growth_rate?: number | null
          history?: Json
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          target_level?: number | null
          time_to_target?: number | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_long_trajectories__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "long_trajectories_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      long_trends: {
        Row: {
          confidence: number
          created_at: string
          data_points: Json
          description: string
          id: string
          metric_name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          seasonality: Json | null
          slope: number | null
          start_date: string | null
          trend_type: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          confidence: number
          created_at?: string
          data_points?: Json
          description: string
          id?: string
          metric_name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          seasonality?: Json | null
          slope?: number | null
          start_date?: string | null
          trend_type: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          confidence?: number
          created_at?: string
          data_points?: Json
          description?: string
          id?: string
          metric_name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          seasonality?: Json | null
          slope?: number | null
          start_date?: string | null
          trend_type?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_long_trends__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "long_trends_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mc_events: {
        Row: {
          created_at: string | null
          event_data: Json | null
          event_type: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          event_data?: Json | null
          event_type: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          event_data?: Json | null
          event_type?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mc_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mc_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mc_interventions: {
        Row: {
          acted_at: string | null
          created_at: string | null
          id: string
          intervention_type: string
          message: string | null
          outcome: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          status: string | null
          suggested_actions: Json | null
          trigger_data: Json | null
          trigger_type: string | null
          urgency: string | null
          user_id_uuid: string
        }
        Insert: {
          acted_at?: string | null
          created_at?: string | null
          id?: string
          intervention_type: string
          message?: string | null
          outcome?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          status?: string | null
          suggested_actions?: Json | null
          trigger_data?: Json | null
          trigger_type?: string | null
          urgency?: string | null
          user_id_uuid: string
        }
        Update: {
          acted_at?: string | null
          created_at?: string | null
          id?: string
          intervention_type?: string
          message?: string | null
          outcome?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          status?: string | null
          suggested_actions?: Json | null
          trigger_data?: Json | null
          trigger_type?: string | null
          urgency?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mc_interventions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mc_interventions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mc_strategy_profiles: {
        Row: {
          allowed_interventions: string[] | null
          created_at: string | null
          disallowed_interventions: string[] | null
          id: string
          nudge_frequency: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          preferred_channels: string[] | null
          quiet_hours_end: string | null
          quiet_hours_start: string | null
          updated_at: string | null
          user_id_uuid: string
        }
        Insert: {
          allowed_interventions?: string[] | null
          created_at?: string | null
          disallowed_interventions?: string[] | null
          id?: string
          nudge_frequency?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          preferred_channels?: string[] | null
          quiet_hours_end?: string | null
          quiet_hours_start?: string | null
          updated_at?: string | null
          user_id_uuid: string
        }
        Update: {
          allowed_interventions?: string[] | null
          created_at?: string | null
          disallowed_interventions?: string[] | null
          id?: string
          nudge_frequency?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          preferred_channels?: string[] | null
          quiet_hours_end?: string | null
          quiet_hours_start?: string | null
          updated_at?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mc_strategy_profiles__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mc_strategy_profiles_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mem_archives: {
        Row: {
          archived_at: string
          compression_id: string | null
          id: string
          original_fragments: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          user_id_uuid: string
        }
        Insert: {
          archived_at?: string
          compression_id?: string | null
          id?: string
          original_fragments: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          user_id_uuid: string
        }
        Update: {
          archived_at?: string
          compression_id?: string | null
          id?: string
          original_fragments?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mem_archives__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mem_archives_compression_id_fkey"
            columns: ["compression_id"]
            isOneToOne: false
            referencedRelation: "mem_compressed"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mem_archives_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mem_compressed: {
        Row: {
          compression_type: string
          created_at: string
          embedding: string | null
          emotional_tone: string | null
          entity_id: string | null
          id: string
          importance_score: number
          key_facts: string[] | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source_fragment_count: number
          source_fragment_ids: string[] | null
          summary: string
          time_period_end: string | null
          time_period_start: string | null
          topic: string | null
          user_id_uuid: string
        }
        Insert: {
          compression_type: string
          created_at?: string
          embedding?: string | null
          emotional_tone?: string | null
          entity_id?: string | null
          id?: string
          importance_score?: number
          key_facts?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source_fragment_count: number
          source_fragment_ids?: string[] | null
          summary: string
          time_period_end?: string | null
          time_period_start?: string | null
          topic?: string | null
          user_id_uuid: string
        }
        Update: {
          compression_type?: string
          created_at?: string
          embedding?: string | null
          emotional_tone?: string | null
          entity_id?: string | null
          id?: string
          importance_score?: number
          key_facts?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source_fragment_count?: number
          source_fragment_ids?: string[] | null
          summary?: string
          time_period_end?: string | null
          time_period_start?: string | null
          topic?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mem_compressed__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mem_compressed_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mem_compression_jobs: {
        Row: {
          completed_at: string | null
          compression_type: string
          compressions_created: number | null
          created_at: string
          error_message: string | null
          fragments_processed: number | null
          id: string
          job_type: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          started_at: string | null
          status: string
          user_id_uuid: string
        }
        Insert: {
          completed_at?: string | null
          compression_type: string
          compressions_created?: number | null
          created_at?: string
          error_message?: string | null
          fragments_processed?: number | null
          id?: string
          job_type: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          started_at?: string | null
          status?: string
          user_id_uuid: string
        }
        Update: {
          completed_at?: string | null
          compression_type?: string
          compressions_created?: number | null
          created_at?: string
          error_message?: string | null
          fragments_processed?: number | null
          id?: string
          job_type?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          started_at?: string | null
          status?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mem_compression_jobs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mem_compression_jobs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mem_compression_settings: {
        Row: {
          auto_compress_enabled: boolean
          created_at: string
          daily_compress_after_days: number
          importance_threshold: number
          min_fragments_for_compression: number
          monthly_compress_after_days: number
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          preserve_high_importance: boolean
          updated_at: string
          user_id_uuid: string
          weekly_compress_after_days: number
        }
        Insert: {
          auto_compress_enabled?: boolean
          created_at?: string
          daily_compress_after_days?: number
          importance_threshold?: number
          min_fragments_for_compression?: number
          monthly_compress_after_days?: number
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          preserve_high_importance?: boolean
          updated_at?: string
          user_id_uuid: string
          weekly_compress_after_days?: number
        }
        Update: {
          auto_compress_enabled?: boolean
          created_at?: string
          daily_compress_after_days?: number
          importance_threshold?: number
          min_fragments_for_compression?: number
          monthly_compress_after_days?: number
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          preserve_high_importance?: boolean
          updated_at?: string
          user_id_uuid?: string
          weekly_compress_after_days?: number
        }
        Relationships: [
          {
            foreignKeyName: "fk_mem_compression_settings__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mem_compression_settings_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      memories: {
        Row: {
          access_count: number | null
          category: string
          content: string
          context: string | null
          created_at: string
          embedding: string | null
          expires_at: string | null
          id: string
          importance: number | null
          last_accessed_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string | null
          source_id: string | null
          tags: string[] | null
          type: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          access_count?: number | null
          category: string
          content: string
          context?: string | null
          created_at?: string
          embedding?: string | null
          expires_at?: string | null
          id?: string
          importance?: number | null
          last_accessed_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source?: string | null
          source_id?: string | null
          tags?: string[] | null
          type: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          access_count?: number | null
          category?: string
          content?: string
          context?: string | null
          created_at?: string
          embedding?: string | null
          expires_at?: string | null
          id?: string
          importance?: number | null
          last_accessed_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string | null
          source_id?: string | null
          tags?: string[] | null
          type?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_memories__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "memories_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      memory_events: {
        Row: {
          action: string
          context_id: string | null
          created_at: string | null
          id: string
          node_id: string | null
          occurred_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string
          user_id_text: string | null
          user_id_uuid: string
          weight: number | null
        }
        Insert: {
          action: string
          context_id?: string | null
          created_at?: string | null
          id?: string
          node_id?: string | null
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source: string
          user_id_text?: string | null
          user_id_uuid: string
          weight?: number | null
        }
        Update: {
          action?: string
          context_id?: string | null
          created_at?: string | null
          id?: string
          node_id?: string | null
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string
          user_id_text?: string | null
          user_id_uuid?: string
          weight?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_memory_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "memory_events_context_id_fkey"
            columns: ["context_id"]
            isOneToOne: false
            referencedRelation: "knowledge_contexts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "memory_events_node_id_fkey"
            columns: ["node_id"]
            isOneToOne: false
            referencedRelation: "knowledge_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "memory_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      memory_patterns: {
        Row: {
          confidence: number | null
          created_at: string
          data: Json | null
          description: string
          frequency: number | null
          id: string
          last_occurred: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          pattern_type: string
          user_id_uuid: string
        }
        Insert: {
          confidence?: number | null
          created_at?: string
          data?: Json | null
          description: string
          frequency?: number | null
          id?: string
          last_occurred: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          pattern_type: string
          user_id_uuid: string
        }
        Update: {
          confidence?: number | null
          created_at?: string
          data?: Json | null
          description?: string
          frequency?: number | null
          id?: string
          last_occurred?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          pattern_type?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_memory_patterns__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "memory_patterns_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mind_models: {
        Row: {
          cognitive_style: Json | null
          conflict_pattern: Json | null
          constraints: Json | null
          created_at: string
          emotional_pattern: Json | null
          entity_id: string
          entity_type: string
          id: string
          last_refreshed_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          perception_of_user: Json | null
          summary: string | null
          trust_model: Json | null
          typical_reactions: Json | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          cognitive_style?: Json | null
          conflict_pattern?: Json | null
          constraints?: Json | null
          created_at?: string
          emotional_pattern?: Json | null
          entity_id: string
          entity_type: string
          id?: string
          last_refreshed_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          perception_of_user?: Json | null
          summary?: string | null
          trust_model?: Json | null
          typical_reactions?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          cognitive_style?: Json | null
          conflict_pattern?: Json | null
          constraints?: Json | null
          created_at?: string
          emotional_pattern?: Json | null
          entity_id?: string
          entity_type?: string
          id?: string
          last_refreshed_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          perception_of_user?: Json | null
          summary?: string | null
          trust_model?: Json | null
          typical_reactions?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mind_models__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mind_models_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      momentum_domains: {
        Row: {
          base_weight: number
          created_at: string | null
          id: string
          name: string
          slug: string
        }
        Insert: {
          base_weight?: number
          created_at?: string | null
          id?: string
          name: string
          slug: string
        }
        Update: {
          base_weight?: number
          created_at?: string | null
          id?: string
          name?: string
          slug?: string
        }
        Relationships: []
      }
      momentum_events: {
        Row: {
          created_at: string | null
          domain_slug: string
          id: string
          occurred_at: string
          owner_user_id: string
          signal_type: string
          signal_weight: number
          source_event_id: string | null
        }
        Insert: {
          created_at?: string | null
          domain_slug: string
          id?: string
          occurred_at: string
          owner_user_id: string
          signal_type: string
          signal_weight: number
          source_event_id?: string | null
        }
        Update: {
          created_at?: string | null
          domain_slug?: string
          id?: string
          occurred_at?: string
          owner_user_id?: string
          signal_type?: string
          signal_weight?: number
          source_event_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "momentum_events_domain_slug_fkey"
            columns: ["domain_slug"]
            isOneToOne: false
            referencedRelation: "momentum_domains"
            referencedColumns: ["slug"]
          },
        ]
      }
      momentum_snapshots: {
        Row: {
          day: string
          domain_slug: string
          event_count: number
          momentum_score: number
          owner_user_id: string
          streak: number
        }
        Insert: {
          day: string
          domain_slug: string
          event_count: number
          momentum_score: number
          owner_user_id: string
          streak: number
        }
        Update: {
          day?: string
          domain_slug?: string
          event_count?: number
          momentum_score?: number
          owner_user_id?: string
          streak?: number
        }
        Relationships: [
          {
            foreignKeyName: "momentum_snapshots_domain_slug_fkey"
            columns: ["domain_slug"]
            isOneToOne: false
            referencedRelation: "momentum_domains"
            referencedColumns: ["slug"]
          },
        ]
      }
      momentum_streaks: {
        Row: {
          current_streak: number
          domain_slug: string
          last_active_date: string | null
          longest_streak: number
          owner_user_id: string
          updated_at: string | null
        }
        Insert: {
          current_streak?: number
          domain_slug: string
          last_active_date?: string | null
          longest_streak?: number
          owner_user_id: string
          updated_at?: string | null
        }
        Update: {
          current_streak?: number
          domain_slug?: string
          last_active_date?: string | null
          longest_streak?: number
          owner_user_id?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "momentum_streaks_domain_slug_fkey"
            columns: ["domain_slug"]
            isOneToOne: false
            referencedRelation: "momentum_domains"
            referencedColumns: ["slug"]
          },
        ]
      }
      motor_routine_metrics: {
        Row: {
          avg_duration_ms: number | null
          avg_steps_executed: number | null
          executions_failed: number
          executions_partial: number
          executions_success: number
          executions_total: number
          id: string
          optimization_notes: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          routine_id: string
          updated_at: string
          user_feedback: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          avg_duration_ms?: number | null
          avg_steps_executed?: number | null
          executions_failed?: number
          executions_partial?: number
          executions_success?: number
          executions_total?: number
          id?: string
          optimization_notes?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          routine_id: string
          updated_at?: string
          user_feedback?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          avg_duration_ms?: number | null
          avg_steps_executed?: number | null
          executions_failed?: number
          executions_partial?: number
          executions_success?: number
          executions_total?: number
          id?: string
          optimization_notes?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          routine_id?: string
          updated_at?: string
          user_feedback?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_motor_routine_metrics__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "motor_routine_metrics_routine_id_fkey"
            columns: ["routine_id"]
            isOneToOne: false
            referencedRelation: "motor_routines"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "motor_routine_metrics_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      motor_routine_runs: {
        Row: {
          context: Json | null
          error_summary: string | null
          finished_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          routine_id: string
          started_at: string
          status: string
          steps_executed: number | null
          steps_total: number | null
          trigger_id: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          context?: Json | null
          error_summary?: string | null
          finished_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          routine_id: string
          started_at?: string
          status?: string
          steps_executed?: number | null
          steps_total?: number | null
          trigger_id?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          context?: Json | null
          error_summary?: string | null
          finished_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          routine_id?: string
          started_at?: string
          status?: string
          steps_executed?: number | null
          steps_total?: number | null
          trigger_id?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_motor_routine_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "motor_routine_runs_routine_id_fkey"
            columns: ["routine_id"]
            isOneToOne: false
            referencedRelation: "motor_routines"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "motor_routine_runs_trigger_id_fkey"
            columns: ["trigger_id"]
            isOneToOne: false
            referencedRelation: "motor_routine_triggers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "motor_routine_runs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      motor_routine_steps: {
        Row: {
          created_at: string
          depends_on: number[] | null
          error_policy: string | null
          id: string
          kind: string
          label: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          params: Json | null
          retry_config: Json | null
          routine_id: string
          step_index: number
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          depends_on?: number[] | null
          error_policy?: string | null
          id?: string
          kind: string
          label?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          params?: Json | null
          retry_config?: Json | null
          routine_id: string
          step_index: number
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          depends_on?: number[] | null
          error_policy?: string | null
          id?: string
          kind?: string
          label?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          params?: Json | null
          retry_config?: Json | null
          routine_id?: string
          step_index?: number
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_motor_routine_steps__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "motor_routine_steps_routine_id_fkey"
            columns: ["routine_id"]
            isOneToOne: false
            referencedRelation: "motor_routines"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "motor_routine_steps_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      motor_routine_triggers: {
        Row: {
          created_at: string
          enabled: boolean
          event_filter: Json | null
          id: string
          last_fired_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          routine_id: string
          schedule: string | null
          state_condition: Json | null
          trigger_type: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          enabled?: boolean
          event_filter?: Json | null
          id?: string
          last_fired_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          routine_id: string
          schedule?: string | null
          state_condition?: Json | null
          trigger_type: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          enabled?: boolean
          event_filter?: Json | null
          id?: string
          last_fired_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          routine_id?: string
          schedule?: string | null
          state_condition?: Json | null
          trigger_type?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_motor_routine_triggers__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "motor_routine_triggers_routine_id_fkey"
            columns: ["routine_id"]
            isOneToOne: false
            referencedRelation: "motor_routines"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "motor_routine_triggers_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      motor_routines: {
        Row: {
          category: string | null
          config: Json | null
          created_at: string
          description: string | null
          domain: string | null
          id: string
          key: string | null
          last_compiled_at: string | null
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string | null
          status: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          category?: string | null
          config?: Json | null
          created_at?: string
          description?: string | null
          domain?: string | null
          id?: string
          key?: string | null
          last_compiled_at?: string | null
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source?: string | null
          status?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          category?: string | null
          config?: Json | null
          created_at?: string
          description?: string | null
          domain?: string | null
          id?: string
          key?: string | null
          last_compiled_at?: string | null
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string | null
          status?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_motor_routines__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "motor_routines_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mythic_achievements: {
        Row: {
          archetype_id: string
          code: string
          created_at: string
          description: string | null
          id: string
          label: string
          meta: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          archetype_id: string
          code: string
          created_at?: string
          description?: string | null
          id?: string
          label: string
          meta?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          archetype_id?: string
          code?: string
          created_at?: string
          description?: string | null
          id?: string
          label?: string
          meta?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mythic_achievements__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_achievements_archetype_id_fkey"
            columns: ["archetype_id"]
            isOneToOne: false
            referencedRelation: "archetype_definitions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_achievements_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mythic_archetypes: {
        Row: {
          created_at: string | null
          description: string | null
          gift_side: string | null
          id: string
          kind: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          pitfalls: Json | null
          recommended_strategies: Json | null
          shadow_side: string | null
          slug: string
          strengths: Json | null
          triggers: Json | null
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          gift_side?: string | null
          id?: string
          kind: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          pitfalls?: Json | null
          recommended_strategies?: Json | null
          shadow_side?: string | null
          slug: string
          strengths?: Json | null
          triggers?: Json | null
        }
        Update: {
          created_at?: string | null
          description?: string | null
          gift_side?: string | null
          id?: string
          kind?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          pitfalls?: Json | null
          recommended_strategies?: Json | null
          shadow_side?: string | null
          slug?: string
          strengths?: Json | null
          triggers?: Json | null
        }
        Relationships: []
      }
      mythic_arcs: {
        Row: {
          allies: Json
          call_to_adventure: string | null
          created_at: string
          current_act: number
          id: string
          identity_claim: string | null
          logline: string | null
          open_loops: Json
          owner_user_id: string
          refusal: string | null
          shadow: Json
          status: string
          title: string
          transformation: string | null
          trials: Json
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          allies?: Json
          call_to_adventure?: string | null
          created_at?: string
          current_act?: number
          id?: string
          identity_claim?: string | null
          logline?: string | null
          open_loops?: Json
          owner_user_id: string
          refusal?: string | null
          shadow?: Json
          status?: string
          title: string
          transformation?: string | null
          trials?: Json
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          allies?: Json
          call_to_adventure?: string | null
          created_at?: string
          current_act?: number
          id?: string
          identity_claim?: string | null
          logline?: string | null
          open_loops?: Json
          owner_user_id?: string
          refusal?: string | null
          shadow?: Json
          status?: string
          title?: string
          transformation?: string | null
          trials?: Json
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mythic_arcs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_arcs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mythic_belt_levels: {
        Row: {
          archetype_id: string
          belt_name: string
          belt_rank: number
          display_label: string | null
          id: string
          min_time_days: number | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          required_xp: number
        }
        Insert: {
          archetype_id: string
          belt_name: string
          belt_rank: number
          display_label?: string | null
          id?: string
          min_time_days?: number | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          required_xp: number
        }
        Update: {
          archetype_id?: string
          belt_name?: string
          belt_rank?: number
          display_label?: string | null
          id?: string
          min_time_days?: number | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          required_xp?: number
        }
        Relationships: [
          {
            foreignKeyName: "mythic_belt_levels_archetype_id_fkey"
            columns: ["archetype_id"]
            isOneToOne: false
            referencedRelation: "archetype_definitions"
            referencedColumns: ["id"]
          },
        ]
      }
      mythic_belt_progress: {
        Row: {
          archetype_id: string
          created_at: string
          current_belt_rank: number
          current_xp: number
          id: string
          last_promotion_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          streak_days: number
          total_missions_completed: number
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          archetype_id: string
          created_at?: string
          current_belt_rank?: number
          current_xp?: number
          id?: string
          last_promotion_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          streak_days?: number
          total_missions_completed?: number
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          archetype_id?: string
          created_at?: string
          current_belt_rank?: number
          current_xp?: number
          id?: string
          last_promotion_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          streak_days?: number
          total_missions_completed?: number
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mythic_belt_progress__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_belt_progress_archetype_id_fkey"
            columns: ["archetype_id"]
            isOneToOne: false
            referencedRelation: "archetype_definitions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_belt_progress_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mythic_coach_sessions: {
        Row: {
          coach_response: string | null
          created_at: string | null
          deal_archetype_run_id: string | null
          deal_id: string | null
          dominant_archetype_id: string | null
          id: string
          input_summary: string | null
          insights: Json | null
          life_chapter_id: string | null
          mode: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string
          used_playbook_ids: string[] | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          coach_response?: string | null
          created_at?: string | null
          deal_archetype_run_id?: string | null
          deal_id?: string | null
          dominant_archetype_id?: string | null
          id?: string
          input_summary?: string | null
          insights?: Json | null
          life_chapter_id?: string | null
          mode: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source: string
          used_playbook_ids?: string[] | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          coach_response?: string | null
          created_at?: string | null
          deal_archetype_run_id?: string | null
          deal_id?: string | null
          dominant_archetype_id?: string | null
          id?: string
          input_summary?: string | null
          insights?: Json | null
          life_chapter_id?: string | null
          mode?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string
          used_playbook_ids?: string[] | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mythic_coach_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_coach_sessions_deal_archetype_run_id_fkey"
            columns: ["deal_archetype_run_id"]
            isOneToOne: false
            referencedRelation: "deal_archetype_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_coach_sessions_dominant_archetype_id_fkey"
            columns: ["dominant_archetype_id"]
            isOneToOne: false
            referencedRelation: "mythic_archetypes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_coach_sessions_life_chapter_id_fkey"
            columns: ["life_chapter_id"]
            isOneToOne: false
            referencedRelation: "life_chapters"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_coach_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mythic_playbooks: {
        Row: {
          actions: Json | null
          archetype_id: string | null
          context: string
          created_at: string | null
          description: string | null
          example_language: Json | null
          id: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          slug: string
          triggers: Json | null
        }
        Insert: {
          actions?: Json | null
          archetype_id?: string | null
          context: string
          created_at?: string | null
          description?: string | null
          example_language?: Json | null
          id?: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          slug: string
          triggers?: Json | null
        }
        Update: {
          actions?: Json | null
          archetype_id?: string | null
          context?: string
          created_at?: string | null
          description?: string | null
          example_language?: Json | null
          id?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          slug?: string
          triggers?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "mythic_playbooks_archetype_id_fkey"
            columns: ["archetype_id"]
            isOneToOne: false
            referencedRelation: "mythic_archetypes"
            referencedColumns: ["id"]
          },
        ]
      }
      mythic_quests: {
        Row: {
          arc_id: string | null
          completed_at: string | null
          created_at: string
          description: string | null
          difficulty: number
          due_date: string | null
          id: string
          linked_task_ids: string[]
          owner_user_id: string
          reward_xp: number
          status: string
          title: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          arc_id?: string | null
          completed_at?: string | null
          created_at?: string
          description?: string | null
          difficulty?: number
          due_date?: string | null
          id?: string
          linked_task_ids?: string[]
          owner_user_id: string
          reward_xp?: number
          status?: string
          title: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          arc_id?: string | null
          completed_at?: string | null
          created_at?: string
          description?: string | null
          difficulty?: number
          due_date?: string | null
          id?: string
          linked_task_ids?: string[]
          owner_user_id?: string
          reward_xp?: number
          status?: string
          title?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mythic_quests__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_quests_arc_id_fkey"
            columns: ["arc_id"]
            isOneToOne: false
            referencedRelation: "mythic_arcs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_quests_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mythic_rituals: {
        Row: {
          arc_id: string | null
          cadence: string
          created_at: string
          id: string
          linked_habit_id: string | null
          name: string
          owner_user_id: string
          status: string
          user_id_text: string | null
          user_id_uuid: string
          why: string | null
        }
        Insert: {
          arc_id?: string | null
          cadence?: string
          created_at?: string
          id?: string
          linked_habit_id?: string | null
          name: string
          owner_user_id: string
          status?: string
          user_id_text?: string | null
          user_id_uuid: string
          why?: string | null
        }
        Update: {
          arc_id?: string | null
          cadence?: string
          created_at?: string
          id?: string
          linked_habit_id?: string | null
          name?: string
          owner_user_id?: string
          status?: string
          user_id_text?: string | null
          user_id_uuid?: string
          why?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_mythic_rituals__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_rituals_arc_id_fkey"
            columns: ["arc_id"]
            isOneToOne: false
            referencedRelation: "mythic_arcs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_rituals_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mythic_sessions: {
        Row: {
          arc_id: string | null
          audio_url: string | null
          chapter_id: string | null
          created_at: string | null
          framework: string
          id: string
          insights: Json | null
          owner_user_id: string
          script_generated: string | null
          session_type: string
          ssml: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          arc_id?: string | null
          audio_url?: string | null
          chapter_id?: string | null
          created_at?: string | null
          framework: string
          id?: string
          insights?: Json | null
          owner_user_id: string
          script_generated?: string | null
          session_type: string
          ssml?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          arc_id?: string | null
          audio_url?: string | null
          chapter_id?: string | null
          created_at?: string | null
          framework?: string
          id?: string
          insights?: Json | null
          owner_user_id?: string
          script_generated?: string | null
          session_type?: string
          ssml?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mythic_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_sessions_arc_id_fkey"
            columns: ["arc_id"]
            isOneToOne: false
            referencedRelation: "mythic_arcs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_sessions_chapter_id_fkey"
            columns: ["chapter_id"]
            isOneToOne: false
            referencedRelation: "life_chapters"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mythic_training_focus: {
        Row: {
          created_at: string
          id: string
          linked_archetype_snapshot_id: string | null
          linked_chapter_id: string | null
          linked_snapshot_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          primary_targets: Json | null
          rationale: string | null
          secondary_targets: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          linked_archetype_snapshot_id?: string | null
          linked_chapter_id?: string | null
          linked_snapshot_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          primary_targets?: Json | null
          rationale?: string | null
          secondary_targets?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          linked_archetype_snapshot_id?: string | null
          linked_chapter_id?: string | null
          linked_snapshot_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          primary_targets?: Json | null
          rationale?: string | null
          secondary_targets?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mythic_training_focus__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_training_focus_linked_archetype_snapshot_id_fkey"
            columns: ["linked_archetype_snapshot_id"]
            isOneToOne: false
            referencedRelation: "archetype_snapshots"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_training_focus_linked_chapter_id_fkey"
            columns: ["linked_chapter_id"]
            isOneToOne: false
            referencedRelation: "life_chapters"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_training_focus_linked_snapshot_id_fkey"
            columns: ["linked_snapshot_id"]
            isOneToOne: false
            referencedRelation: "life_canon_snapshots"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_training_focus_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mythic_training_missions: {
        Row: {
          archetype_id: string
          cadence: string
          completed_at: string | null
          completion_notes: string | null
          created_at: string
          description: string | null
          due_date: string | null
          estimated_effort_minutes: number | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          plan_id: string | null
          status: string
          tags: string[] | null
          title: string
          user_id_text: string | null
          user_id_uuid: string
          xp_value: number
        }
        Insert: {
          archetype_id: string
          cadence: string
          completed_at?: string | null
          completion_notes?: string | null
          created_at?: string
          description?: string | null
          due_date?: string | null
          estimated_effort_minutes?: number | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          plan_id?: string | null
          status?: string
          tags?: string[] | null
          title: string
          user_id_text?: string | null
          user_id_uuid: string
          xp_value?: number
        }
        Update: {
          archetype_id?: string
          cadence?: string
          completed_at?: string | null
          completion_notes?: string | null
          created_at?: string
          description?: string | null
          due_date?: string | null
          estimated_effort_minutes?: number | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          plan_id?: string | null
          status?: string
          tags?: string[] | null
          title?: string
          user_id_text?: string | null
          user_id_uuid?: string
          xp_value?: number
        }
        Relationships: [
          {
            foreignKeyName: "fk_mythic_training_missions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_training_missions_archetype_id_fkey"
            columns: ["archetype_id"]
            isOneToOne: false
            referencedRelation: "archetype_definitions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_training_missions_plan_id_fkey"
            columns: ["plan_id"]
            isOneToOne: false
            referencedRelation: "mythic_training_plans"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_training_missions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mythic_training_plans: {
        Row: {
          archetype_id: string
          constraints: Json | null
          created_at: string
          description: string | null
          duration_days: number
          goals: Json | null
          id: string
          intensity: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          plan_label: string
          progress: Json | null
          status: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          archetype_id: string
          constraints?: Json | null
          created_at?: string
          description?: string | null
          duration_days: number
          goals?: Json | null
          id?: string
          intensity: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          plan_label: string
          progress?: Json | null
          status?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          archetype_id?: string
          constraints?: Json | null
          created_at?: string
          description?: string | null
          duration_days?: number
          goals?: Json | null
          id?: string
          intensity?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          plan_label?: string
          progress?: Json | null
          status?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mythic_training_plans__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_training_plans_archetype_id_fkey"
            columns: ["archetype_id"]
            isOneToOne: false
            referencedRelation: "archetype_definitions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_training_plans_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mythic_training_reflections: {
        Row: {
          adjustments: Json | null
          archetype_id: string
          challenges: Json | null
          coach_rating: number | null
          created_at: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          period_end: string
          period_start: string
          self_rating: number | null
          user_id_text: string | null
          user_id_uuid: string
          wins: Json | null
        }
        Insert: {
          adjustments?: Json | null
          archetype_id: string
          challenges?: Json | null
          coach_rating?: number | null
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          period_end: string
          period_start: string
          self_rating?: number | null
          user_id_text?: string | null
          user_id_uuid: string
          wins?: Json | null
        }
        Update: {
          adjustments?: Json | null
          archetype_id?: string
          challenges?: Json | null
          coach_rating?: number | null
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          period_end?: string
          period_start?: string
          self_rating?: number | null
          user_id_text?: string | null
          user_id_uuid?: string
          wins?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_mythic_training_reflections__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_training_reflections_archetype_id_fkey"
            columns: ["archetype_id"]
            isOneToOne: false
            referencedRelation: "archetype_definitions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_training_reflections_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      mythic_voice_mappings: {
        Row: {
          archetype_id: string | null
          created_at: string
          id: string
          intensity: string | null
          is_default: boolean
          mode: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          scope: string
          style_overrides: Json | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
          voice_profile_id: string
        }
        Insert: {
          archetype_id?: string | null
          created_at?: string
          id?: string
          intensity?: string | null
          is_default?: boolean
          mode?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          scope?: string
          style_overrides?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
          voice_profile_id: string
        }
        Update: {
          archetype_id?: string | null
          created_at?: string
          id?: string
          intensity?: string | null
          is_default?: boolean
          mode?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          scope?: string
          style_overrides?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
          voice_profile_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_mythic_voice_mappings__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_voice_mappings_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "mythic_voice_mappings_voice_profile_id_fkey"
            columns: ["voice_profile_id"]
            isOneToOne: false
            referencedRelation: "voice_profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      narrative_snapshots: {
        Row: {
          active_identity_arc_keys: string[] | null
          active_theme_keys: string[] | null
          chapter_id: string | null
          created_at: string
          id: string
          narrative_summary: string | null
          opportunities: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          scope: string
          short_logline: string | null
          snapshot_at: string
          tensions: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          active_identity_arc_keys?: string[] | null
          active_theme_keys?: string[] | null
          chapter_id?: string | null
          created_at?: string
          id?: string
          narrative_summary?: string | null
          opportunities?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          scope?: string
          short_logline?: string | null
          snapshot_at: string
          tensions?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          active_identity_arc_keys?: string[] | null
          active_theme_keys?: string[] | null
          chapter_id?: string | null
          created_at?: string
          id?: string
          narrative_summary?: string | null
          opportunities?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          scope?: string
          short_logline?: string | null
          snapshot_at?: string
          tensions?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_narrative_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "narrative_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      notes: {
        Row: {
          content: string
          created_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          processed: boolean | null
          processed_as: string | null
          processed_id: string | null
          type: string | null
          user_id_uuid: string
        }
        Insert: {
          content: string
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          processed?: boolean | null
          processed_as?: string | null
          processed_id?: string | null
          type?: string | null
          user_id_uuid: string
        }
        Update: {
          content?: string
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          processed?: boolean | null
          processed_as?: string | null
          processed_id?: string | null
          type?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_notes__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "notes_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      notification_log: {
        Row: {
          body: string | null
          created_at: string
          data: Json | null
          error_message: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          status: string | null
          title: string
          type: string
          user_id_uuid: string
        }
        Insert: {
          body?: string | null
          created_at?: string
          data?: Json | null
          error_message?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          status?: string | null
          title: string
          type: string
          user_id_uuid: string
        }
        Update: {
          body?: string | null
          created_at?: string
          data?: Json | null
          error_message?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          status?: string | null
          title?: string
          type?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_notification_log__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "notification_log_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      notification_preferences: {
        Row: {
          autonomy_suggestions: boolean | null
          created_at: string
          daily_briefing: boolean | null
          delegation_drafts: boolean | null
          emotional_checkin_reminder: boolean | null
          id: string
          max_per_hour: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          quiet_hours_enabled: boolean | null
          quiet_hours_end: string | null
          quiet_hours_start: string | null
          third_brain_insights: boolean | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          autonomy_suggestions?: boolean | null
          created_at?: string
          daily_briefing?: boolean | null
          delegation_drafts?: boolean | null
          emotional_checkin_reminder?: boolean | null
          id?: string
          max_per_hour?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          quiet_hours_enabled?: boolean | null
          quiet_hours_end?: string | null
          quiet_hours_start?: string | null
          third_brain_insights?: boolean | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          autonomy_suggestions?: boolean | null
          created_at?: string
          daily_briefing?: boolean | null
          delegation_drafts?: boolean | null
          emotional_checkin_reminder?: boolean | null
          id?: string
          max_per_hour?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          quiet_hours_enabled?: boolean | null
          quiet_hours_end?: string | null
          quiet_hours_start?: string | null
          third_brain_insights?: boolean | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_notification_preferences__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "notification_preferences_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      notification_queue: {
        Row: {
          body: string | null
          created_at: string
          data: Json | null
          expires_at: string | null
          group_key: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority: string | null
          sent_at: string | null
          status: string | null
          title: string
          type: string
          url: string | null
          user_id_uuid: string
        }
        Insert: {
          body?: string | null
          created_at?: string
          data?: Json | null
          expires_at?: string | null
          group_key?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority?: string | null
          sent_at?: string | null
          status?: string | null
          title: string
          type: string
          url?: string | null
          user_id_uuid: string
        }
        Update: {
          body?: string | null
          created_at?: string
          data?: Json | null
          expires_at?: string | null
          group_key?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority?: string | null
          sent_at?: string | null
          status?: string | null
          title?: string
          type?: string
          url?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_notification_queue__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "notification_queue_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      nudge_templates: {
        Row: {
          body: string
          cooldown_hours: number
          created_at: string
          id: string
          is_active: boolean
          nudge_key: string
          severity: string
          title: string
        }
        Insert: {
          body: string
          cooldown_hours?: number
          created_at?: string
          id?: string
          is_active?: boolean
          nudge_key: string
          severity: string
          title: string
        }
        Update: {
          body?: string
          cooldown_hours?: number
          created_at?: string
          id?: string
          is_active?: boolean
          nudge_key?: string
          severity?: string
          title?: string
        }
        Relationships: []
      }
      onboarding_conversations: {
        Row: {
          created_at: string | null
          id: string
          is_complete: boolean | null
          messages: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          partial_profile: Json | null
          question_count: number | null
          updated_at: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          is_complete?: boolean | null
          messages?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          partial_profile?: Json | null
          question_count?: number | null
          updated_at?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          id?: string
          is_complete?: boolean | null
          messages?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          partial_profile?: Json | null
          question_count?: number | null
          updated_at?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_onboarding_conversations__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "onboarding_conversations_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      onboarding_state: {
        Row: {
          created_at: string
          data: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          step: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          data?: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          step: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          data?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          step?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_onboarding_state__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "onboarding_state_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      open_thread_events: {
        Row: {
          created_at: string
          event_type: string
          id: string
          meta: Json
          thread_id: string
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          event_type: string
          id?: string
          meta?: Json
          thread_id: string
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          event_type?: string
          id?: string
          meta?: Json
          thread_id?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "open_thread_events_thread_id_fkey"
            columns: ["thread_id"]
            isOneToOne: false
            referencedRelation: "open_threads"
            referencedColumns: ["id"]
          },
        ]
      }
      open_threads: {
        Row: {
          context: Json
          counterpart_email: string | null
          counterpart_name: string | null
          created_at: string
          id: string
          last_incoming_at: string | null
          last_nudge_at: string | null
          last_outgoing_at: string | null
          status: string
          thread_key: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          context?: Json
          counterpart_email?: string | null
          counterpart_name?: string | null
          created_at?: string
          id?: string
          last_incoming_at?: string | null
          last_nudge_at?: string | null
          last_outgoing_at?: string | null
          status?: string
          thread_key: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          context?: Json
          counterpart_email?: string | null
          counterpart_name?: string | null
          created_at?: string
          id?: string
          last_incoming_at?: string | null
          last_nudge_at?: string | null
          last_outgoing_at?: string | null
          status?: string
          thread_key?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: []
      }
      ops_audit_log: {
        Row: {
          action: string
          actor_is_admin: boolean
          actor_user_id: string
          created_at: string
          duration_ms: number | null
          id: string
          ip: string | null
          meta: Json
          method: string | null
          owner_user_id: string | null
          path: string | null
          request_id: string | null
          resource_id: string | null
          resource_type: string | null
          route_key: string | null
          status: number | null
          target_user_id: string | null
          user_agent: string | null
        }
        Insert: {
          action: string
          actor_is_admin?: boolean
          actor_user_id: string
          created_at?: string
          duration_ms?: number | null
          id?: string
          ip?: string | null
          meta?: Json
          method?: string | null
          owner_user_id?: string | null
          path?: string | null
          request_id?: string | null
          resource_id?: string | null
          resource_type?: string | null
          route_key?: string | null
          status?: number | null
          target_user_id?: string | null
          user_agent?: string | null
        }
        Update: {
          action?: string
          actor_is_admin?: boolean
          actor_user_id?: string
          created_at?: string
          duration_ms?: number | null
          id?: string
          ip?: string | null
          meta?: Json
          method?: string | null
          owner_user_id?: string | null
          path?: string | null
          request_id?: string | null
          resource_id?: string | null
          resource_type?: string | null
          route_key?: string | null
          status?: number | null
          target_user_id?: string | null
          user_agent?: string | null
        }
        Relationships: []
      }
      ops_automation_locks: {
        Row: {
          enabled: boolean
          key: string
          reason: string | null
          updated_at: string
          updated_by: string | null
        }
        Insert: {
          enabled?: boolean
          key: string
          reason?: string | null
          updated_at?: string
          updated_by?: string | null
        }
        Update: {
          enabled?: boolean
          key?: string
          reason?: string | null
          updated_at?: string
          updated_by?: string | null
        }
        Relationships: []
      }
      ops_incident_events: {
        Row: {
          created_at: string
          event_type: string
          id: string
          incident_id: string | null
          level: string
          link: string | null
          payload: Json
          source: string
          summary: string
        }
        Insert: {
          created_at?: string
          event_type: string
          id?: string
          incident_id?: string | null
          level?: string
          link?: string | null
          payload?: Json
          source: string
          summary: string
        }
        Update: {
          created_at?: string
          event_type?: string
          id?: string
          incident_id?: string | null
          level?: string
          link?: string | null
          payload?: Json
          source?: string
          summary?: string
        }
        Relationships: [
          {
            foreignKeyName: "ops_incident_events_incident_id_fkey"
            columns: ["incident_id"]
            isOneToOne: false
            referencedRelation: "ops_incidents"
            referencedColumns: ["id"]
          },
        ]
      }
      ops_incidents: {
        Row: {
          created_at: string
          id: string
          resolved_at: string | null
          rollback_pr_url: string | null
          severity: string
          status: string
          summary: string | null
          title: string
          triggering_run_url: string | null
          updated_at: string
        }
        Insert: {
          created_at?: string
          id?: string
          resolved_at?: string | null
          rollback_pr_url?: string | null
          severity?: string
          status?: string
          summary?: string | null
          title: string
          triggering_run_url?: string | null
          updated_at?: string
        }
        Update: {
          created_at?: string
          id?: string
          resolved_at?: string | null
          rollback_pr_url?: string | null
          severity?: string
          status?: string
          summary?: string | null
          title?: string
          triggering_run_url?: string | null
          updated_at?: string
        }
        Relationships: []
      }
      org_members: {
        Row: {
          created_at: string
          id: string
          org_id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          role: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          org_id: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          role?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          org_id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          role?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_org_members__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "org_members_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "org_members_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      organizations: {
        Row: {
          created_at: string
          id: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          slug: string | null
        }
        Insert: {
          created_at?: string
          id?: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          slug?: string | null
        }
        Update: {
          created_at?: string
          id?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          slug?: string | null
        }
        Relationships: []
      }
      persona_arc_events: {
        Row: {
          arc_id: string | null
          coach_id: string | null
          created_at: string | null
          description: string | null
          event_type: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          persona_id: string
          phase_key: string | null
          title: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          arc_id?: string | null
          coach_id?: string | null
          created_at?: string | null
          description?: string | null
          event_type?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          persona_id: string
          phase_key?: string | null
          title?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          arc_id?: string | null
          coach_id?: string | null
          created_at?: string | null
          description?: string | null
          event_type?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          persona_id?: string
          phase_key?: string | null
          title?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_persona_arc_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "persona_arc_events_arc_id_fkey"
            columns: ["arc_id"]
            isOneToOne: false
            referencedRelation: "persona_user_arc"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "persona_arc_events_persona_id_fkey"
            columns: ["persona_id"]
            isOneToOne: false
            referencedRelation: "voice_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "persona_arc_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      persona_archetype_stats: {
        Row: {
          archetype_id: string
          avg_approval_rate: number | null
          avg_emotional_improvement: number | null
          avg_rejection_rate: number | null
          best_for_traits: Json | null
          coach_id: string | null
          id: string
          last_aggregated_at: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          sample_size: number
        }
        Insert: {
          archetype_id: string
          avg_approval_rate?: number | null
          avg_emotional_improvement?: number | null
          avg_rejection_rate?: number | null
          best_for_traits?: Json | null
          coach_id?: string | null
          id?: string
          last_aggregated_at?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          sample_size?: number
        }
        Update: {
          archetype_id?: string
          avg_approval_rate?: number | null
          avg_emotional_improvement?: number | null
          avg_rejection_rate?: number | null
          best_for_traits?: Json | null
          coach_id?: string | null
          id?: string
          last_aggregated_at?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          sample_size?: number
        }
        Relationships: [
          {
            foreignKeyName: "persona_archetype_stats_archetype_id_fkey"
            columns: ["archetype_id"]
            isOneToOne: false
            referencedRelation: "persona_archetypes"
            referencedColumns: ["id"]
          },
        ]
      }
      persona_archetypes: {
        Row: {
          created_at: string | null
          description: string
          dna_pattern: Json
          id: string
          key: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          tuning_pattern: Json
          typical_motion_profiles: Json
        }
        Insert: {
          created_at?: string | null
          description: string
          dna_pattern: Json
          id?: string
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          tuning_pattern: Json
          typical_motion_profiles: Json
        }
        Update: {
          created_at?: string | null
          description?: string
          dna_pattern?: Json
          id?: string
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          tuning_pattern?: Json
          typical_motion_profiles?: Json
        }
        Relationships: []
      }
      persona_companion_events: {
        Row: {
          coach_id: string | null
          created_at: string | null
          description: string | null
          emotion_state: string | null
          event_type: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          persona_id: string
          tags: string[] | null
          title: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          coach_id?: string | null
          created_at?: string | null
          description?: string | null
          emotion_state?: string | null
          event_type: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          persona_id: string
          tags?: string[] | null
          title: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          coach_id?: string | null
          created_at?: string | null
          description?: string | null
          emotion_state?: string | null
          event_type?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          persona_id?: string
          tags?: string[] | null
          title?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_persona_companion_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "persona_companion_events_persona_id_fkey"
            columns: ["persona_id"]
            isOneToOne: false
            referencedRelation: "voice_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "persona_companion_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      persona_companion_highlights: {
        Row: {
          coach_id: string | null
          created_at: string | null
          highlight_type: string
          id: string
          importance: number
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          persona_id: string
          summary: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          coach_id?: string | null
          created_at?: string | null
          highlight_type: string
          id?: string
          importance?: number
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          persona_id: string
          summary: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          coach_id?: string | null
          created_at?: string | null
          highlight_type?: string
          id?: string
          importance?: number
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          persona_id?: string
          summary?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_persona_companion_highlights__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "persona_companion_highlights_persona_id_fkey"
            columns: ["persona_id"]
            isOneToOne: false
            referencedRelation: "voice_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "persona_companion_highlights_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      persona_companion_state: {
        Row: {
          bond_level: string | null
          coach_id: string | null
          created_at: string | null
          familiarity_score: number
          flags: string[] | null
          id: string
          last_interaction_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          persona_id: string
          total_interactions: number
          trust_score: number
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
          warmth_score: number
        }
        Insert: {
          bond_level?: string | null
          coach_id?: string | null
          created_at?: string | null
          familiarity_score?: number
          flags?: string[] | null
          id?: string
          last_interaction_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          persona_id: string
          total_interactions?: number
          trust_score?: number
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
          warmth_score?: number
        }
        Update: {
          bond_level?: string | null
          coach_id?: string | null
          created_at?: string | null
          familiarity_score?: number
          flags?: string[] | null
          id?: string
          last_interaction_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          persona_id?: string
          total_interactions?: number
          trust_score?: number
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
          warmth_score?: number
        }
        Relationships: [
          {
            foreignKeyName: "fk_persona_companion_state__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "persona_companion_state_persona_id_fkey"
            columns: ["persona_id"]
            isOneToOne: false
            referencedRelation: "voice_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "persona_companion_state_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      persona_dna_templates: {
        Row: {
          archetype: string
          base_traits: Json
          created_at: string | null
          default_motion_profile: Json
          id: string
          key: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          safety_profile: Json
          style_axes: Json
          updated_at: string | null
        }
        Insert: {
          archetype: string
          base_traits: Json
          created_at?: string | null
          default_motion_profile: Json
          id?: string
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          safety_profile: Json
          style_axes: Json
          updated_at?: string | null
        }
        Update: {
          archetype?: string
          base_traits?: Json
          created_at?: string | null
          default_motion_profile?: Json
          id?: string
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          safety_profile?: Json
          style_axes?: Json
          updated_at?: string | null
        }
        Relationships: []
      }
      persona_interaction_stats: {
        Row: {
          avg_feedback_score: number | null
          created_at: string | null
          id: string
          last_adaptation_reason: string | null
          last_feedback_score: number | null
          last_session_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          persona_key: string
          total_messages: number | null
          total_sessions: number | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          avg_feedback_score?: number | null
          created_at?: string | null
          id?: string
          last_adaptation_reason?: string | null
          last_feedback_score?: number | null
          last_session_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          persona_key: string
          total_messages?: number | null
          total_sessions?: number | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          avg_feedback_score?: number | null
          created_at?: string | null
          id?: string
          last_adaptation_reason?: string | null
          last_feedback_score?: number | null
          last_session_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          persona_key?: string
          total_messages?: number | null
          total_sessions?: number | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_persona_interaction_stats__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "persona_interaction_stats_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      persona_memory_snapshots: {
        Row: {
          content: Json
          created_at: string | null
          id: string
          last_updated_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          persona_key: string
          snapshot_type: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          content: Json
          created_at?: string | null
          id?: string
          last_updated_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          persona_key: string
          snapshot_type: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          content?: Json
          created_at?: string | null
          id?: string
          last_updated_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          persona_key?: string
          snapshot_type?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_persona_memory_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "persona_memory_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      persona_microstyle_prefs: {
        Row: {
          coach_id: string | null
          created_at: string | null
          favorite_phrases: string[] | null
          forbidden_phrases: string[] | null
          id: string
          nickname: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          persona_id: string
          preferred_address: string | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          coach_id?: string | null
          created_at?: string | null
          favorite_phrases?: string[] | null
          forbidden_phrases?: string[] | null
          id?: string
          nickname?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          persona_id: string
          preferred_address?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          coach_id?: string | null
          created_at?: string | null
          favorite_phrases?: string[] | null
          forbidden_phrases?: string[] | null
          id?: string
          nickname?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          persona_id?: string
          preferred_address?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_persona_microstyle_prefs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "persona_microstyle_prefs_persona_id_fkey"
            columns: ["persona_id"]
            isOneToOne: false
            referencedRelation: "voice_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "persona_microstyle_prefs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      persona_style_variants: {
        Row: {
          created_at: string | null
          description: string | null
          id: string
          label: string
          motion_overrides: Json | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          persona_key: string
          trait_overrides: Json
          variant_key: string
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          id?: string
          label: string
          motion_overrides?: Json | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          persona_key: string
          trait_overrides: Json
          variant_key: string
        }
        Update: {
          created_at?: string | null
          description?: string | null
          id?: string
          label?: string
          motion_overrides?: Json | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          persona_key?: string
          trait_overrides?: Json
          variant_key?: string
        }
        Relationships: []
      }
      persona_user_arc: {
        Row: {
          arc_started_at: string | null
          coach_id: string | null
          current_phase_key: string | null
          id: string
          last_updated_at: string | null
          long_term_goal: Json | null
          long_term_theme: string | null
          metadata: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          persona_id: string
          phase_started_at: string | null
          projected_next_phase_date: string | null
          projected_next_phase_key: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          arc_started_at?: string | null
          coach_id?: string | null
          current_phase_key?: string | null
          id?: string
          last_updated_at?: string | null
          long_term_goal?: Json | null
          long_term_theme?: string | null
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          persona_id: string
          phase_started_at?: string | null
          projected_next_phase_date?: string | null
          projected_next_phase_key?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          arc_started_at?: string | null
          coach_id?: string | null
          current_phase_key?: string | null
          id?: string
          last_updated_at?: string | null
          long_term_goal?: Json | null
          long_term_theme?: string | null
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          persona_id?: string
          phase_started_at?: string | null
          projected_next_phase_date?: string | null
          projected_next_phase_key?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_persona_user_arc__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "persona_user_arc_persona_id_fkey"
            columns: ["persona_id"]
            isOneToOne: false
            referencedRelation: "voice_profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "persona_user_arc_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      personal_heuristics: {
        Row: {
          created_at: string
          description: string
          domain: string | null
          id: string
          key: string
          last_used_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          rule: Json | null
          strength: number
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          description: string
          domain?: string | null
          id?: string
          key: string
          last_used_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          rule?: Json | null
          strength?: number
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          description?: string
          domain?: string | null
          id?: string
          key?: string
          last_used_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          rule?: Json | null
          strength?: number
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_personal_heuristics__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "personal_heuristics_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      personas: {
        Row: {
          context: string | null
          created_at: string
          description: string | null
          id: string
          is_active: boolean | null
          is_default: boolean | null
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          system_prompt: string
          tone: string | null
          traits: string[] | null
          updated_at: string
          user_id_uuid: string
          verbosity: string | null
        }
        Insert: {
          context?: string | null
          created_at?: string
          description?: string | null
          id?: string
          is_active?: boolean | null
          is_default?: boolean | null
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          system_prompt: string
          tone?: string | null
          traits?: string[] | null
          updated_at?: string
          user_id_uuid: string
          verbosity?: string | null
        }
        Update: {
          context?: string | null
          created_at?: string
          description?: string | null
          id?: string
          is_active?: boolean | null
          is_default?: boolean | null
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          system_prompt?: string
          tone?: string | null
          traits?: string[] | null
          updated_at?: string
          user_id_uuid?: string
          verbosity?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_personas__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "personas_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      philosophy_exercises: {
        Row: {
          created_at: string
          id: string
          key: string
          lesson_id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          prompt_md: string
          type: string
        }
        Insert: {
          created_at?: string
          id?: string
          key: string
          lesson_id: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          prompt_md: string
          type: string
        }
        Update: {
          created_at?: string
          id?: string
          key?: string
          lesson_id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          prompt_md?: string
          type?: string
        }
        Relationships: [
          {
            foreignKeyName: "philosophy_exercises_lesson_id_fkey"
            columns: ["lesson_id"]
            isOneToOne: false
            referencedRelation: "philosophy_lessons"
            referencedColumns: ["id"]
          },
        ]
      }
      philosophy_lessons: {
        Row: {
          content_md: string
          created_at: string
          difficulty: number
          id: string
          key: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          school_key: string
          title: string
        }
        Insert: {
          content_md: string
          created_at?: string
          difficulty?: number
          id?: string
          key: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          school_key: string
          title: string
        }
        Update: {
          content_md?: string
          created_at?: string
          difficulty?: number
          id?: string
          key?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          school_key?: string
          title?: string
        }
        Relationships: []
      }
      philosophy_schools: {
        Row: {
          created_at: string
          description: string | null
          id: string
          key: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
        }
        Insert: {
          created_at?: string
          description?: string | null
          id?: string
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Update: {
          created_at?: string
          description?: string | null
          id?: string
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Relationships: []
      }
      plan_items: {
        Row: {
          created_at: string
          day_plan_id: string
          description: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority: number | null
          scheduled_for: string | null
          source: string | null
          source_id: string | null
          status: string | null
          title: string
          type: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          day_plan_id: string
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority?: number | null
          scheduled_for?: string | null
          source?: string | null
          source_id?: string | null
          status?: string | null
          title: string
          type: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          day_plan_id?: string
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority?: number | null
          scheduled_for?: string | null
          source?: string | null
          source_id?: string | null
          status?: string | null
          title?: string
          type?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_plan_items__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "plan_items_day_plan_id_fkey"
            columns: ["day_plan_id"]
            isOneToOne: false
            referencedRelation: "day_plans"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "plan_items_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      planning_constraints: {
        Row: {
          created_at: string
          description: string | null
          id: string
          kind: string
          label: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          payload: Json | null
          session_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          id?: string
          kind: string
          label: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          payload?: Json | null
          session_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          description?: string | null
          id?: string
          kind?: string
          label?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          payload?: Json | null
          session_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_planning_constraints__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "planning_constraints_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "planning_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "planning_constraints_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      planning_decisions: {
        Row: {
          applied: boolean
          applied_at: string | null
          applied_result: Json | null
          created_at: string
          decision_kind: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority: number | null
          rationale: string | null
          session_id: string
          target_id: string | null
          target_type: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          applied?: boolean
          applied_at?: string | null
          applied_result?: Json | null
          created_at?: string
          decision_kind: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority?: number | null
          rationale?: string | null
          session_id: string
          target_id?: string | null
          target_type: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          applied?: boolean
          applied_at?: string | null
          applied_result?: Json | null
          created_at?: string
          decision_kind?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority?: number | null
          rationale?: string | null
          session_id?: string
          target_id?: string | null
          target_type?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_planning_decisions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "planning_decisions_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "planning_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "planning_decisions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      planning_overrides: {
        Row: {
          after_state: Json | null
          before_state: Json | null
          change_kind: string
          created_at: string
          id: string
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          session_id: string
          target_id: string | null
          target_type: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          after_state?: Json | null
          before_state?: Json | null
          change_kind: string
          created_at?: string
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          session_id: string
          target_id?: string | null
          target_type: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          after_state?: Json | null
          before_state?: Json | null
          change_kind?: string
          created_at?: string
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          session_id?: string
          target_id?: string | null
          target_type?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_planning_overrides__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "planning_overrides_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "planning_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "planning_overrides_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      planning_sessions: {
        Row: {
          alignment_score: number | null
          context: Json | null
          created_at: string
          energy_budget: number | null
          id: string
          kind: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          stress_budget: number | null
          summary: string | null
          trigger_source: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          alignment_score?: number | null
          context?: Json | null
          created_at?: string
          energy_budget?: number | null
          id?: string
          kind: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          stress_budget?: number | null
          summary?: string | null
          trigger_source?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          alignment_score?: number | null
          context?: Json | null
          created_at?: string
          energy_budget?: number | null
          id?: string
          kind?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          stress_budget?: number | null
          summary?: string | null
          trigger_source?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_planning_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "planning_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      plugin_api_keys: {
        Row: {
          created_at: string
          expires_at: string | null
          id: string
          is_active: boolean
          key_hash: string
          key_prefix: string
          last_used_at: string | null
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          rate_limit: number
          scopes: string[]
          usage_count: number
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          expires_at?: string | null
          id?: string
          is_active?: boolean
          key_hash: string
          key_prefix: string
          last_used_at?: string | null
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          rate_limit?: number
          scopes?: string[]
          usage_count?: number
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          expires_at?: string | null
          id?: string
          is_active?: boolean
          key_hash?: string
          key_prefix?: string
          last_used_at?: string | null
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          rate_limit?: number
          scopes?: string[]
          usage_count?: number
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_plugin_api_keys__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "plugin_api_keys_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      plugin_automations: {
        Row: {
          action_config: Json
          action_plugin_id: string | null
          action_type: string
          created_at: string
          description: string | null
          id: string
          is_active: boolean
          last_triggered_at: string | null
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          trigger_conditions: Json | null
          trigger_count: number
          trigger_event: string
          trigger_plugin_id: string | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          action_config?: Json
          action_plugin_id?: string | null
          action_type: string
          created_at?: string
          description?: string | null
          id?: string
          is_active?: boolean
          last_triggered_at?: string | null
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          trigger_conditions?: Json | null
          trigger_count?: number
          trigger_event: string
          trigger_plugin_id?: string | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          action_config?: Json
          action_plugin_id?: string | null
          action_type?: string
          created_at?: string
          description?: string | null
          id?: string
          is_active?: boolean
          last_triggered_at?: string | null
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          trigger_conditions?: Json | null
          trigger_count?: number
          trigger_event?: string
          trigger_plugin_id?: string | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_plugin_automations__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "plugin_automations_action_plugin_id_fkey"
            columns: ["action_plugin_id"]
            isOneToOne: false
            referencedRelation: "plugins"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "plugin_automations_trigger_plugin_id_fkey"
            columns: ["trigger_plugin_id"]
            isOneToOne: false
            referencedRelation: "plugins"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "plugin_automations_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      plugin_data: {
        Row: {
          created_at: string
          data_key: string
          data_value: Json
          expires_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          updated_at: string
          user_id_uuid: string
          user_plugin_id: string
        }
        Insert: {
          created_at?: string
          data_key: string
          data_value: Json
          expires_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          updated_at?: string
          user_id_uuid: string
          user_plugin_id: string
        }
        Update: {
          created_at?: string
          data_key?: string
          data_value?: Json
          expires_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          updated_at?: string
          user_id_uuid?: string
          user_plugin_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_plugin_data__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "plugin_data_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "plugin_data_user_plugin_id_fkey"
            columns: ["user_plugin_id"]
            isOneToOne: false
            referencedRelation: "user_plugins"
            referencedColumns: ["id"]
          },
        ]
      }
      plugin_events: {
        Row: {
          created_at: string
          duration_ms: number | null
          error_message: string | null
          event_name: string
          event_type: string
          id: string
          input_data: Json | null
          output_data: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          plugin_slug: string
          user_id_uuid: string
          user_plugin_id: string | null
        }
        Insert: {
          created_at?: string
          duration_ms?: number | null
          error_message?: string | null
          event_name: string
          event_type: string
          id?: string
          input_data?: Json | null
          output_data?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          plugin_slug: string
          user_id_uuid: string
          user_plugin_id?: string | null
        }
        Update: {
          created_at?: string
          duration_ms?: number | null
          error_message?: string | null
          event_name?: string
          event_type?: string
          id?: string
          input_data?: Json | null
          output_data?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          plugin_slug?: string
          user_id_uuid?: string
          user_plugin_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_plugin_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "plugin_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "plugin_events_user_plugin_id_fkey"
            columns: ["user_plugin_id"]
            isOneToOne: false
            referencedRelation: "user_plugins"
            referencedColumns: ["id"]
          },
        ]
      }
      plugin_webhooks: {
        Row: {
          created_at: string
          events: string[]
          failure_count: number
          id: string
          is_active: boolean
          last_triggered_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          secret_hash: string
          user_id_uuid: string
          user_plugin_id: string
          webhook_url: string
        }
        Insert: {
          created_at?: string
          events: string[]
          failure_count?: number
          id?: string
          is_active?: boolean
          last_triggered_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          secret_hash: string
          user_id_uuid: string
          user_plugin_id: string
          webhook_url: string
        }
        Update: {
          created_at?: string
          events?: string[]
          failure_count?: number
          id?: string
          is_active?: boolean
          last_triggered_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          secret_hash?: string
          user_id_uuid?: string
          user_plugin_id?: string
          webhook_url?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_plugin_webhooks__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "plugin_webhooks_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "plugin_webhooks_user_plugin_id_fkey"
            columns: ["user_plugin_id"]
            isOneToOne: false
            referencedRelation: "user_plugins"
            referencedColumns: ["id"]
          },
        ]
      }
      plugins: {
        Row: {
          author: string | null
          author_url: string | null
          capabilities: string[] | null
          config_schema: Json
          created_at: string
          description: string | null
          downloads: number
          icon_url: string | null
          id: string
          is_official: boolean
          is_public: boolean
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          plugin_type: string
          rating: number | null
          rating_count: number
          slug: string
          status: string
          updated_at: string
          version: string
        }
        Insert: {
          author?: string | null
          author_url?: string | null
          capabilities?: string[] | null
          config_schema?: Json
          created_at?: string
          description?: string | null
          downloads?: number
          icon_url?: string | null
          id?: string
          is_official?: boolean
          is_public?: boolean
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          plugin_type: string
          rating?: number | null
          rating_count?: number
          slug: string
          status?: string
          updated_at?: string
          version?: string
        }
        Update: {
          author?: string | null
          author_url?: string | null
          capabilities?: string[] | null
          config_schema?: Json
          created_at?: string
          description?: string | null
          downloads?: number
          icon_url?: string | null
          id?: string
          is_official?: boolean
          is_public?: boolean
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          plugin_type?: string
          rating?: number | null
          rating_count?: number
          slug?: string
          status?: string
          updated_at?: string
          version?: string
        }
        Relationships: []
      }
      prefrontal_goals: {
        Row: {
          created_at: string
          description: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority: number
          scope: string
          status: string
          target_date: string | null
          title: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority?: number
          scope: string
          status?: string
          target_date?: string | null
          title: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority?: number
          scope?: string
          status?: string
          target_date?: string | null
          title?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_prefrontal_goals__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "prefrontal_goals_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      presence_daily_summaries: {
        Row: {
          created_at: string
          emails_sent: number
          events_generated: number
          events_surfaced: number
          id: string
          notes: Json | null
          notifications_sent: number
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          presence_level_effective: number | null
          summary_date: string
          updated_at: string
          user_ack_acted: number
          user_ack_dismissed: number
          user_ack_liked: number
          user_ack_snoozed: number
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          emails_sent?: number
          events_generated?: number
          events_surfaced?: number
          id?: string
          notes?: Json | null
          notifications_sent?: number
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          presence_level_effective?: number | null
          summary_date: string
          updated_at?: string
          user_ack_acted?: number
          user_ack_dismissed?: number
          user_ack_liked?: number
          user_ack_snoozed?: number
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          emails_sent?: number
          events_generated?: number
          events_surfaced?: number
          id?: string
          notes?: Json | null
          notifications_sent?: number
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          presence_level_effective?: number | null
          summary_date?: string
          updated_at?: string
          user_ack_acted?: number
          user_ack_dismissed?: number
          user_ack_liked?: number
          user_ack_snoozed?: number
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_presence_daily_summaries__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "presence_daily_summaries_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      presence_decisions: {
        Row: {
          chosen_channel: string | null
          created_at: string
          decision: string
          executed: boolean
          executed_at: string | null
          execution_error: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          presence_event_id: string
          rationale: Json | null
          scheduled_for: string | null
          state_snapshot: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          chosen_channel?: string | null
          created_at?: string
          decision: string
          executed?: boolean
          executed_at?: string | null
          execution_error?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          presence_event_id: string
          rationale?: Json | null
          scheduled_for?: string | null
          state_snapshot?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          chosen_channel?: string | null
          created_at?: string
          decision?: string
          executed?: boolean
          executed_at?: string | null
          execution_error?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          presence_event_id?: string
          rationale?: Json | null
          scheduled_for?: string | null
          state_snapshot?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_presence_decisions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "presence_decisions_presence_event_id_fkey"
            columns: ["presence_event_id"]
            isOneToOne: false
            referencedRelation: "presence_events"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "presence_decisions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      presence_events: {
        Row: {
          body: string
          consumed: boolean
          context: Json | null
          created_at: string
          domain: string | null
          id: string
          importance: number
          kind: string
          origin_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string
          suggested_channel: string | null
          suggested_time_window: Json | null
          title: string
          urgency: number
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          body: string
          consumed?: boolean
          context?: Json | null
          created_at?: string
          domain?: string | null
          id?: string
          importance: number
          kind: string
          origin_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source: string
          suggested_channel?: string | null
          suggested_time_window?: Json | null
          title: string
          urgency: number
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          body?: string
          consumed?: boolean
          context?: Json | null
          created_at?: string
          domain?: string | null
          id?: string
          importance?: number
          kind?: string
          origin_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string
          suggested_channel?: string | null
          suggested_time_window?: Json | null
          title?: string
          urgency?: number
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_presence_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "presence_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      proactive_interventions: {
        Row: {
          acted_at: string | null
          action_data: Json | null
          action_type: string | null
          created_at: string | null
          expires_at: string | null
          id: string
          message: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority: string
          status: string | null
          title: string
          trigger_reason: string | null
          type: string
          user_id_uuid: string
        }
        Insert: {
          acted_at?: string | null
          action_data?: Json | null
          action_type?: string | null
          created_at?: string | null
          expires_at?: string | null
          id?: string
          message: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority: string
          status?: string | null
          title: string
          trigger_reason?: string | null
          type: string
          user_id_uuid: string
        }
        Update: {
          acted_at?: string | null
          action_data?: Json | null
          action_type?: string | null
          created_at?: string | null
          expires_at?: string | null
          id?: string
          message?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority?: string
          status?: string | null
          title?: string
          trigger_reason?: string | null
          type?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_proactive_interventions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "proactive_interventions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      profiles: {
        Row: {
          clerk_user_id: string
          created_at: string | null
          id: string
        }
        Insert: {
          clerk_user_id: string
          created_at?: string | null
          id?: string
        }
        Update: {
          clerk_user_id?: string
          created_at?: string | null
          id?: string
        }
        Relationships: []
      }
      pulse_brain_preferences: {
        Row: {
          allow_autonomous_tweaks: boolean
          allow_financial_nudges: boolean
          allow_health_nudges: boolean
          allow_relationship_feedback: boolean
          created_at: string
          depth_of_reflection: number
          emotional_intensity: number
          id: string
          notes: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          preferred_persona_style: string | null
          preferred_voice_profile: string | null
          presence_level: number
          privacy_sensitivity: number
          proactivity_level: number
          ui_mode: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          allow_autonomous_tweaks?: boolean
          allow_financial_nudges?: boolean
          allow_health_nudges?: boolean
          allow_relationship_feedback?: boolean
          created_at?: string
          depth_of_reflection?: number
          emotional_intensity?: number
          id?: string
          notes?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          preferred_persona_style?: string | null
          preferred_voice_profile?: string | null
          presence_level?: number
          privacy_sensitivity?: number
          proactivity_level?: number
          ui_mode?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          allow_autonomous_tweaks?: boolean
          allow_financial_nudges?: boolean
          allow_health_nudges?: boolean
          allow_relationship_feedback?: boolean
          created_at?: string
          depth_of_reflection?: number
          emotional_intensity?: number
          id?: string
          notes?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          preferred_persona_style?: string | null
          preferred_voice_profile?: string | null
          presence_level?: number
          privacy_sensitivity?: number
          proactivity_level?: number
          ui_mode?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_pulse_brain_preferences__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pulse_brain_preferences_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      pulse_brain_surface_events: {
        Row: {
          body: string
          category: string
          created_at: string
          delivery_channel: string
          delivery_context: Json | null
          dismissed: boolean
          emotional_tone: string | null
          id: string
          importance: number
          origin_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string
          title: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          body: string
          category: string
          created_at?: string
          delivery_channel: string
          delivery_context?: Json | null
          dismissed?: boolean
          emotional_tone?: string | null
          id?: string
          importance: number
          origin_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source: string
          title: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          body?: string
          category?: string
          created_at?: string
          delivery_channel?: string
          delivery_context?: Json | null
          dismissed?: boolean
          emotional_tone?: string | null
          id?: string
          importance?: number
          origin_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string
          title?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_pulse_brain_surface_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pulse_brain_surface_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      pulse_docs: {
        Row: {
          category: string
          content_md: string
          created_at: string
          id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          slug: string
          title: string
        }
        Insert: {
          category: string
          content_md: string
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          slug: string
          title: string
        }
        Update: {
          category?: string
          content_md?: string
          created_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          slug?: string
          title?: string
        }
        Relationships: []
      }
      pulse_events: {
        Row: {
          created_at: string
          event_fingerprint: string | null
          event_name: string
          feature_id: string | null
          id: string
          latency_ms: number | null
          method: string | null
          owner_user_id: string | null
          path: string | null
          properties: Json
          referrer: string | null
          request_id: string | null
          session_id: string | null
          status: number | null
          user_agent: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          event_fingerprint?: string | null
          event_name: string
          feature_id?: string | null
          id?: string
          latency_ms?: number | null
          method?: string | null
          owner_user_id?: string | null
          path?: string | null
          properties?: Json
          referrer?: string | null
          request_id?: string | null
          session_id?: string | null
          status?: number | null
          user_agent?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          event_fingerprint?: string | null
          event_name?: string
          feature_id?: string | null
          id?: string
          latency_ms?: number | null
          method?: string | null
          owner_user_id?: string | null
          path?: string | null
          properties?: Json
          referrer?: string | null
          request_id?: string | null
          session_id?: string | null
          status?: number | null
          user_agent?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_pulse_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pulse_events_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pulse_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      pulse_insight_acknowledgements: {
        Row: {
          created_at: string
          followup_preferences: Json | null
          id: string
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          reaction: string
          surface_event_id: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          followup_preferences?: Json | null
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          reaction: string
          surface_event_id?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          followup_preferences?: Json | null
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          reaction?: string
          surface_event_id?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_pulse_insight_acknowledgements__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pulse_insight_acknowledgements_surface_event_id_fkey"
            columns: ["surface_event_id"]
            isOneToOne: false
            referencedRelation: "pulse_brain_surface_events"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pulse_insight_acknowledgements_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      pulse_introduction_sessions: {
        Row: {
          completed_at: string | null
          created_at: string
          id: string
          initial_brain_summary: Json | null
          initial_preferences: Json | null
          narrative_intro: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          status: string
          steps_completed: Json | null
          user_id_text: string | null
          user_id_uuid: string
          user_reaction: Json | null
          version: string
        }
        Insert: {
          completed_at?: string | null
          created_at?: string
          id?: string
          initial_brain_summary?: Json | null
          initial_preferences?: Json | null
          narrative_intro?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          status?: string
          steps_completed?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
          user_reaction?: Json | null
          version?: string
        }
        Update: {
          completed_at?: string | null
          created_at?: string
          id?: string
          initial_brain_summary?: Json | null
          initial_preferences?: Json | null
          narrative_intro?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          status?: string
          steps_completed?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
          user_reaction?: Json | null
          version?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_pulse_introduction_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pulse_introduction_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      push_subscriptions: {
        Row: {
          auth: string
          created_at: string
          device_name: string | null
          enabled: boolean | null
          endpoint: string
          id: string
          last_used_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          p256dh: string
          user_agent: string | null
          user_id_uuid: string
        }
        Insert: {
          auth: string
          created_at?: string
          device_name?: string | null
          enabled?: boolean | null
          endpoint: string
          id?: string
          last_used_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          p256dh: string
          user_agent?: string | null
          user_id_uuid: string
        }
        Update: {
          auth?: string
          created_at?: string
          device_name?: string | null
          enabled?: boolean | null
          endpoint?: string
          id?: string
          last_used_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          p256dh?: string
          user_agent?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_push_subscriptions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "push_subscriptions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      quest_catalog: {
        Row: {
          base_reward_xp: number
          base_target: number
          created_at: string
          description: string
          is_active: boolean
          meta: Json
          quest_key: string
          tags: string[]
          title: string
          updated_at: string
        }
        Insert: {
          base_reward_xp?: number
          base_target?: number
          created_at?: string
          description: string
          is_active?: boolean
          meta?: Json
          quest_key: string
          tags?: string[]
          title: string
          updated_at?: string
        }
        Update: {
          base_reward_xp?: number
          base_target?: number
          created_at?: string
          description?: string
          is_active?: boolean
          meta?: Json
          quest_key?: string
          tags?: string[]
          title?: string
          updated_at?: string
        }
        Relationships: []
      }
      quest_completions: {
        Row: {
          completed_at: string | null
          created_at: string | null
          difficulty: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          quest_id: string
          quest_title: string | null
          quest_type: string
          user_id_uuid: string
          xp_earned: number | null
        }
        Insert: {
          completed_at?: string | null
          created_at?: string | null
          difficulty?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          quest_id: string
          quest_title?: string | null
          quest_type: string
          user_id_uuid: string
          xp_earned?: number | null
        }
        Update: {
          completed_at?: string | null
          created_at?: string | null
          difficulty?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          quest_id?: string
          quest_title?: string | null
          quest_type?: string
          user_id_uuid?: string
          xp_earned?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_quest_completions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "quest_completions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      referral_rewards: {
        Row: {
          created_at: string | null
          credited_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          referred_user_id: string
          referrer_user_id: string
          reward_cents: number | null
          reward_type: string | null
          status: string | null
        }
        Insert: {
          created_at?: string | null
          credited_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          referred_user_id: string
          referrer_user_id: string
          reward_cents?: number | null
          reward_type?: string | null
          status?: string | null
        }
        Update: {
          created_at?: string | null
          credited_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          referred_user_id?: string
          referrer_user_id?: string
          reward_cents?: number | null
          reward_type?: string | null
          status?: string | null
        }
        Relationships: []
      }
      relational_identities: {
        Row: {
          closeness: number
          contact_id: string | null
          core_traits: Json | null
          created_at: string
          display_name: string
          domain: string | null
          external_ref: string | null
          id: string
          importance: number
          influence: number
          last_interaction_at: string | null
          last_model_update_at: string | null
          model_confidence: number
          motivations: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          preferences: Json | null
          role: string | null
          sensitivities: Json | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
          values_profile: Json | null
        }
        Insert: {
          closeness?: number
          contact_id?: string | null
          core_traits?: Json | null
          created_at?: string
          display_name: string
          domain?: string | null
          external_ref?: string | null
          id?: string
          importance?: number
          influence?: number
          last_interaction_at?: string | null
          last_model_update_at?: string | null
          model_confidence?: number
          motivations?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          preferences?: Json | null
          role?: string | null
          sensitivities?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
          values_profile?: Json | null
        }
        Update: {
          closeness?: number
          contact_id?: string | null
          core_traits?: Json | null
          created_at?: string
          display_name?: string
          domain?: string | null
          external_ref?: string | null
          id?: string
          importance?: number
          influence?: number
          last_interaction_at?: string | null
          last_model_update_at?: string | null
          model_confidence?: number
          motivations?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          preferences?: Json | null
          role?: string | null
          sensitivities?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
          values_profile?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_relational_identities__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "relational_identities_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      relational_predictions: {
        Row: {
          confidence: number | null
          context: Json | null
          created_at: string
          horizon: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          predicted_effect_on_relationship: Json | null
          predicted_reaction: Json | null
          recommendation: Json | null
          relational_identity_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          confidence?: number | null
          context?: Json | null
          created_at?: string
          horizon?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          predicted_effect_on_relationship?: Json | null
          predicted_reaction?: Json | null
          recommendation?: Json | null
          relational_identity_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          confidence?: number | null
          context?: Json | null
          created_at?: string
          horizon?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          predicted_effect_on_relationship?: Json | null
          predicted_reaction?: Json | null
          recommendation?: Json | null
          relational_identity_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_relational_predictions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "relational_predictions_relational_identity_id_fkey"
            columns: ["relational_identity_id"]
            isOneToOne: false
            referencedRelation: "relational_identities"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "relational_predictions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      relational_state_snapshots: {
        Row: {
          connection_frequency: number | null
          current_mode: string | null
          id: string
          opportunity_flags: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          perceived_other_state: Json | null
          recent_events: Json | null
          reciprocity_score: number | null
          relational_identity_id: string
          relationship_health: number | null
          risk_flags: Json | null
          snapshot_time: string
          tension_level: number | null
          trust_level: number | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          connection_frequency?: number | null
          current_mode?: string | null
          id?: string
          opportunity_flags?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          perceived_other_state?: Json | null
          recent_events?: Json | null
          reciprocity_score?: number | null
          relational_identity_id: string
          relationship_health?: number | null
          risk_flags?: Json | null
          snapshot_time?: string
          tension_level?: number | null
          trust_level?: number | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          connection_frequency?: number | null
          current_mode?: string | null
          id?: string
          opportunity_flags?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          perceived_other_state?: Json | null
          recent_events?: Json | null
          reciprocity_score?: number | null
          relational_identity_id?: string
          relationship_health?: number | null
          risk_flags?: Json | null
          snapshot_time?: string
          tension_level?: number | null
          trust_level?: number | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_relational_state_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "relational_state_snapshots_relational_identity_id_fkey"
            columns: ["relational_identity_id"]
            isOneToOne: false
            referencedRelation: "relational_identities"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "relational_state_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      relationship_highlights: {
        Row: {
          created_at: string
          description: string
          id: string
          importance: number
          kind: string
          label: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          relational_identity_id: string | null
          suggested_action: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          description: string
          id?: string
          importance: number
          kind: string
          label: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          relational_identity_id?: string | null
          suggested_action?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          description?: string
          id?: string
          importance?: number
          kind?: string
          label?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          relational_identity_id?: string | null
          suggested_action?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_relationship_highlights__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "relationship_highlights_relational_identity_id_fkey"
            columns: ["relational_identity_id"]
            isOneToOne: false
            referencedRelation: "relational_identities"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "relationship_highlights_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      relationship_interactions: {
        Row: {
          created_at: string
          direction: string
          id: string
          occurred_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          relationship_id: string | null
          sentiment: string | null
          subject: string | null
          summary: string | null
          type: string
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          direction: string
          id?: string
          occurred_at: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          relationship_id?: string | null
          sentiment?: string | null
          subject?: string | null
          summary?: string | null
          type: string
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          direction?: string
          id?: string
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          relationship_id?: string | null
          sentiment?: string | null
          subject?: string | null
          summary?: string | null
          type?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_relationship_interactions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_ri_relationship"
            columns: ["relationship_id"]
            isOneToOne: false
            referencedRelation: "contact_relationships"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "relationship_interactions_relationship_id_fkey"
            columns: ["relationship_id"]
            isOneToOne: false
            referencedRelation: "relationships"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "relationship_interactions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      relationships: {
        Row: {
          company: string | null
          contact_id: string | null
          created_at: string
          email: string | null
          followup_cadence_days: number | null
          health_score: number | null
          id: string
          importance: string | null
          interaction_count: number | null
          last_contact_at: string | null
          name: string
          next_followup_at: string | null
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          phone: string | null
          relationship: string | null
          role: string | null
          tags: string[] | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          company?: string | null
          contact_id?: string | null
          created_at?: string
          email?: string | null
          followup_cadence_days?: number | null
          health_score?: number | null
          id?: string
          importance?: string | null
          interaction_count?: number | null
          last_contact_at?: string | null
          name: string
          next_followup_at?: string | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          phone?: string | null
          relationship?: string | null
          role?: string | null
          tags?: string[] | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          company?: string | null
          contact_id?: string | null
          created_at?: string
          email?: string | null
          followup_cadence_days?: number | null
          health_score?: number | null
          id?: string
          importance?: string | null
          interaction_count?: number | null
          last_contact_at?: string | null
          name?: string
          next_followup_at?: string | null
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          phone?: string | null
          relationship?: string | null
          role?: string | null
          tags?: string[] | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_relationships__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "relationships_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      reminder_subscriptions: {
        Row: {
          active: boolean
          body: string
          created_at: string
          handled_at: string | null
          id: string
          kind: string
          next_run_at: string
          owner_user_id: string
          severity: string
          source_id: string
          source_type: string
          title: string
          user_id_uuid: string
        }
        Insert: {
          active?: boolean
          body: string
          created_at?: string
          handled_at?: string | null
          id?: string
          kind: string
          next_run_at: string
          owner_user_id: string
          severity?: string
          source_id: string
          source_type: string
          title: string
          user_id_uuid: string
        }
        Update: {
          active?: boolean
          body?: string
          created_at?: string
          handled_at?: string | null
          id?: string
          kind?: string
          next_run_at?: string
          owner_user_id?: string
          severity?: string
          source_id?: string
          source_type?: string
          title?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_reminder_subscriptions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "reminder_subscriptions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      reply_drafts: {
        Row: {
          bcc: string | null
          body: string
          cc: string | null
          created_at: string
          id: string
          inbox_item_id: string
          last_error: string | null
          meta: Json
          outbox_id: string | null
          provider_message_id: string | null
          send_at: string | null
          status: string
          subject: string | null
          to_email: string | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          bcc?: string | null
          body?: string
          cc?: string | null
          created_at?: string
          id?: string
          inbox_item_id: string
          last_error?: string | null
          meta?: Json
          outbox_id?: string | null
          provider_message_id?: string | null
          send_at?: string | null
          status?: string
          subject?: string | null
          to_email?: string | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          bcc?: string | null
          body?: string
          cc?: string | null
          created_at?: string
          id?: string
          inbox_item_id?: string
          last_error?: string | null
          meta?: Json
          outbox_id?: string | null
          provider_message_id?: string | null
          send_at?: string | null
          status?: string
          subject?: string | null
          to_email?: string | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_reply_drafts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "reply_drafts_inbox_item_id_fkey"
            columns: ["inbox_item_id"]
            isOneToOne: false
            referencedRelation: "inbox_items"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "reply_drafts_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      response_style_profiles: {
        Row: {
          coach_biases: Json | null
          created_at: string
          description: string | null
          id: string
          key: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          speaking_style: Json | null
        }
        Insert: {
          coach_biases?: Json | null
          created_at?: string
          description?: string | null
          id?: string
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          speaking_style?: Json | null
        }
        Update: {
          coach_biases?: Json | null
          created_at?: string
          description?: string | null
          id?: string
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          speaking_style?: Json | null
        }
        Relationships: []
      }
      rollup_decay_rules: {
        Row: {
          floor: number
          half_life_days: number | null
          linear_per_day: number | null
          model: string
          rollup_key: string
          updated_at: string
        }
        Insert: {
          floor?: number
          half_life_days?: number | null
          linear_per_day?: number | null
          model: string
          rollup_key: string
          updated_at?: string
        }
        Update: {
          floor?: number
          half_life_days?: number | null
          linear_per_day?: number | null
          model?: string
          rollup_key?: string
          updated_at?: string
        }
        Relationships: []
      }
      rollup_definitions: {
        Row: {
          aggregation: string
          created_at: string
          id: string
          is_active: boolean
          rollup_key: string
          rollup_window: string
          source_table: string
          timestamp_column: string
          user_id_column: string
          value_column: string | null
        }
        Insert: {
          aggregation: string
          created_at?: string
          id?: string
          is_active?: boolean
          rollup_key: string
          rollup_window: string
          source_table: string
          timestamp_column?: string
          user_id_column?: string
          value_column?: string | null
        }
        Update: {
          aggregation?: string
          created_at?: string
          id?: string
          is_active?: boolean
          rollup_key?: string
          rollup_window?: string
          source_table?: string
          timestamp_column?: string
          user_id_column?: string
          value_column?: string | null
        }
        Relationships: []
      }
      rollup_values: {
        Row: {
          computed_at: string
          owner_user_id: string
          rollup_key: string
          value: number
          window_start: string
        }
        Insert: {
          computed_at?: string
          owner_user_id: string
          rollup_key: string
          value: number
          window_start: string
        }
        Update: {
          computed_at?: string
          owner_user_id?: string
          rollup_key?: string
          value?: number
          window_start?: string
        }
        Relationships: []
      }
      rollup_xp_weights: {
        Row: {
          daily_cap_xp: number
          is_active: boolean
          min_value_for_xp: number
          rollup_key: string
          updated_at: string
          xp_per_unit: number
        }
        Insert: {
          daily_cap_xp?: number
          is_active?: boolean
          min_value_for_xp?: number
          rollup_key: string
          updated_at?: string
          xp_per_unit?: number
        }
        Update: {
          daily_cap_xp?: number
          is_active?: boolean
          min_value_for_xp?: number
          rollup_key?: string
          updated_at?: string
          xp_per_unit?: number
        }
        Relationships: []
      }
      safety_incidents: {
        Row: {
          category: string | null
          coach_id: string | null
          created_at: string | null
          id: string
          incident_type: string | null
          metadata: Json | null
          model_output_excerpt: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          persona_id: string | null
          policy_key: string | null
          severity: number | null
          user_id_text: string | null
          user_id_uuid: string
          user_input_excerpt: string | null
        }
        Insert: {
          category?: string | null
          coach_id?: string | null
          created_at?: string | null
          id?: string
          incident_type?: string | null
          metadata?: Json | null
          model_output_excerpt?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          persona_id?: string | null
          policy_key?: string | null
          severity?: number | null
          user_id_text?: string | null
          user_id_uuid: string
          user_input_excerpt?: string | null
        }
        Update: {
          category?: string | null
          coach_id?: string | null
          created_at?: string | null
          id?: string
          incident_type?: string | null
          metadata?: Json | null
          model_output_excerpt?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          persona_id?: string | null
          policy_key?: string | null
          severity?: number | null
          user_id_text?: string | null
          user_id_uuid?: string
          user_input_excerpt?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_safety_incidents__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "safety_incidents_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      safety_policies: {
        Row: {
          created_at: string | null
          description: string | null
          id: string
          is_active: boolean | null
          key: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          policy_json: Json
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          id?: string
          is_active?: boolean | null
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          policy_json: Json
        }
        Update: {
          created_at?: string | null
          description?: string | null
          id?: string
          is_active?: boolean | null
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          policy_json?: Json
        }
        Relationships: []
      }
      scheduler_targets: {
        Row: {
          created_at: string
          is_enabled: boolean
          owner_user_id: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          is_enabled?: boolean
          owner_user_id: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          is_enabled?: boolean
          owner_user_id?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_scheduler_targets__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "scheduler_targets_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      self_identity_snapshots: {
        Row: {
          created_at: string | null
          domain_balance: Json | null
          id: string
          mythic_archetypes: Json | null
          overall_self_alignment: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          roles: Json | null
          self_story: string | null
          source: string
          strengths: Json | null
          taken_at: string
          user_id_text: string | null
          user_id_uuid: string
          values: Json | null
          vulnerabilities: Json | null
        }
        Insert: {
          created_at?: string | null
          domain_balance?: Json | null
          id?: string
          mythic_archetypes?: Json | null
          overall_self_alignment?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          roles?: Json | null
          self_story?: string | null
          source: string
          strengths?: Json | null
          taken_at?: string
          user_id_text?: string | null
          user_id_uuid: string
          values?: Json | null
          vulnerabilities?: Json | null
        }
        Update: {
          created_at?: string | null
          domain_balance?: Json | null
          id?: string
          mythic_archetypes?: Json | null
          overall_self_alignment?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          roles?: Json | null
          self_story?: string | null
          source?: string
          strengths?: Json | null
          taken_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
          values?: Json | null
          vulnerabilities?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_self_identity_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_identity_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      self_mirror_deltas: {
        Row: {
          alignment_change: number | null
          behavior_shifts: Json | null
          created_at: string
          drift_change: number | null
          emotional_shifts: Json | null
          from_snapshot_id: string
          id: string
          identity_shifts: Json | null
          key_questions: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          period_end: string
          period_start: string
          relational_shifts: Json | null
          self_compassion_change: number | null
          somatic_shifts: Json | null
          summary: string | null
          to_snapshot_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          alignment_change?: number | null
          behavior_shifts?: Json | null
          created_at?: string
          drift_change?: number | null
          emotional_shifts?: Json | null
          from_snapshot_id: string
          id?: string
          identity_shifts?: Json | null
          key_questions?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          period_end: string
          period_start: string
          relational_shifts?: Json | null
          self_compassion_change?: number | null
          somatic_shifts?: Json | null
          summary?: string | null
          to_snapshot_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          alignment_change?: number | null
          behavior_shifts?: Json | null
          created_at?: string
          drift_change?: number | null
          emotional_shifts?: Json | null
          from_snapshot_id?: string
          id?: string
          identity_shifts?: Json | null
          key_questions?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          period_end?: string
          period_start?: string
          relational_shifts?: Json | null
          self_compassion_change?: number | null
          somatic_shifts?: Json | null
          summary?: string | null
          to_snapshot_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_self_mirror_deltas__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_mirror_deltas_from_snapshot_id_fkey"
            columns: ["from_snapshot_id"]
            isOneToOne: false
            referencedRelation: "self_mirror_snapshots"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_mirror_deltas_to_snapshot_id_fkey"
            columns: ["to_snapshot_id"]
            isOneToOne: false
            referencedRelation: "self_mirror_snapshots"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_mirror_deltas_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      self_mirror_facets: {
        Row: {
          created_at: string | null
          description: string | null
          id: string
          key: string
          last_updated_at: string | null
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          score: number | null
          trend: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          id?: string
          key: string
          last_updated_at?: string | null
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          score?: number | null
          trend?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          description?: string | null
          id?: string
          key?: string
          last_updated_at?: string | null
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          score?: number | null
          trend?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_self_mirror_facets__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_mirror_facets_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      self_mirror_highlights: {
        Row: {
          created_at: string
          delta_id: string | null
          description: string
          domain: string | null
          id: string
          importance: number
          kind: string
          label: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          snapshot_id: string | null
          suggested_action: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          delta_id?: string | null
          description: string
          domain?: string | null
          id?: string
          importance: number
          kind: string
          label: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          snapshot_id?: string | null
          suggested_action?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          delta_id?: string | null
          description?: string
          domain?: string | null
          id?: string
          importance?: number
          kind?: string
          label?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          snapshot_id?: string | null
          suggested_action?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_self_mirror_highlights__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_mirror_highlights_delta_id_fkey"
            columns: ["delta_id"]
            isOneToOne: false
            referencedRelation: "self_mirror_deltas"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_mirror_highlights_snapshot_id_fkey"
            columns: ["snapshot_id"]
            isOneToOne: false
            referencedRelation: "self_mirror_snapshots"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_mirror_highlights_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      self_mirror_sessions: {
        Row: {
          completed_at: string | null
          created_at: string | null
          followup_actions: Json | null
          id: string
          insights: Json | null
          mode: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          script: string | null
          snapshot_id: string | null
          started_at: string | null
          summary: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          completed_at?: string | null
          created_at?: string | null
          followup_actions?: Json | null
          id?: string
          insights?: Json | null
          mode: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          script?: string | null
          snapshot_id?: string | null
          started_at?: string | null
          summary?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          completed_at?: string | null
          created_at?: string | null
          followup_actions?: Json | null
          id?: string
          insights?: Json | null
          mode?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          script?: string | null
          snapshot_id?: string | null
          started_at?: string | null
          summary?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_self_mirror_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_mirror_sessions_snapshot_id_fkey"
            columns: ["snapshot_id"]
            isOneToOne: false
            referencedRelation: "self_identity_snapshots"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_mirror_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      self_mirror_snapshots: {
        Row: {
          behavior_profile: Json | null
          created_at: string
          destiny_state: Json | null
          drift_score: number | null
          emotional_profile: Json | null
          id: string
          identity_state: Json | null
          mirror_insights: Json | null
          narrative_state: Json | null
          narrative_summary: string | null
          overall_alignment: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          relational_profile: Json | null
          self_compassion_score: number | null
          snapshot_date: string
          somatic_profile: Json | null
          user_id_text: string | null
          user_id_uuid: string
          values_alignment: Json | null
        }
        Insert: {
          behavior_profile?: Json | null
          created_at?: string
          destiny_state?: Json | null
          drift_score?: number | null
          emotional_profile?: Json | null
          id?: string
          identity_state?: Json | null
          mirror_insights?: Json | null
          narrative_state?: Json | null
          narrative_summary?: string | null
          overall_alignment?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          relational_profile?: Json | null
          self_compassion_score?: number | null
          snapshot_date: string
          somatic_profile?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
          values_alignment?: Json | null
        }
        Update: {
          behavior_profile?: Json | null
          created_at?: string
          destiny_state?: Json | null
          drift_score?: number | null
          emotional_profile?: Json | null
          id?: string
          identity_state?: Json | null
          mirror_insights?: Json | null
          narrative_state?: Json | null
          narrative_summary?: string | null
          overall_alignment?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          relational_profile?: Json | null
          self_compassion_score?: number | null
          snapshot_date?: string
          somatic_profile?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
          values_alignment?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_self_mirror_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_mirror_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      self_perception_signals: {
        Row: {
          category: string
          created_at: string | null
          description: string | null
          direction: string
          id: string
          occurred_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string
          user_id_text: string | null
          user_id_uuid: string
          weight: number | null
        }
        Insert: {
          category: string
          created_at?: string | null
          description?: string | null
          direction: string
          id?: string
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source: string
          user_id_text?: string | null
          user_id_uuid: string
          weight?: number | null
        }
        Update: {
          category?: string
          created_at?: string | null
          description?: string | null
          direction?: string
          id?: string
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string
          user_id_text?: string | null
          user_id_uuid?: string
          weight?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_self_perception_signals__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "self_perception_signals_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      sim_decision_trees: {
        Row: {
          created_at: string
          id: string
          max_depth: number | null
          optimal_path: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          root_decision: string
          simulation_id: string
          total_branches: number | null
          tree_data: Json
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          max_depth?: number | null
          optimal_path?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          root_decision: string
          simulation_id: string
          total_branches?: number | null
          tree_data: Json
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          max_depth?: number | null
          optimal_path?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          root_decision?: string
          simulation_id?: string
          total_branches?: number | null
          tree_data?: Json
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_sim_decision_trees__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sim_decision_trees_simulation_id_fkey"
            columns: ["simulation_id"]
            isOneToOne: false
            referencedRelation: "sim_simulations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sim_decision_trees_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      sim_history: {
        Row: {
          accuracy_score: number | null
          actual_outcome: string | null
          confidence: number
          created_at: string
          factors_missed: string[] | null
          id: string
          lessons_learned: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          predicted_date: string | null
          predicted_outcome: string
          resolved_at: string | null
          simulation_id: string | null
          user_id_uuid: string
          what_if_id: string | null
        }
        Insert: {
          accuracy_score?: number | null
          actual_outcome?: string | null
          confidence: number
          created_at?: string
          factors_missed?: string[] | null
          id?: string
          lessons_learned?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          predicted_date?: string | null
          predicted_outcome: string
          resolved_at?: string | null
          simulation_id?: string | null
          user_id_uuid: string
          what_if_id?: string | null
        }
        Update: {
          accuracy_score?: number | null
          actual_outcome?: string | null
          confidence?: number
          created_at?: string
          factors_missed?: string[] | null
          id?: string
          lessons_learned?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          predicted_date?: string | null
          predicted_outcome?: string
          resolved_at?: string | null
          simulation_id?: string | null
          user_id_uuid?: string
          what_if_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_sim_history__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sim_history_simulation_id_fkey"
            columns: ["simulation_id"]
            isOneToOne: false
            referencedRelation: "sim_simulations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sim_history_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sim_history_what_if_id_fkey"
            columns: ["what_if_id"]
            isOneToOne: false
            referencedRelation: "sim_what_ifs"
            referencedColumns: ["id"]
          },
        ]
      }
      sim_runs: {
        Row: {
          confidence_score: number | null
          created_at: string | null
          id: string
          input_snapshot: Json | null
          insights: string[] | null
          opportunities: string[] | null
          outcomes: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          recommended_actions: string[] | null
          risks: string[] | null
          scenario_id: string | null
          user_id_uuid: string
        }
        Insert: {
          confidence_score?: number | null
          created_at?: string | null
          id?: string
          input_snapshot?: Json | null
          insights?: string[] | null
          opportunities?: string[] | null
          outcomes?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          recommended_actions?: string[] | null
          risks?: string[] | null
          scenario_id?: string | null
          user_id_uuid: string
        }
        Update: {
          confidence_score?: number | null
          created_at?: string | null
          id?: string
          input_snapshot?: Json | null
          insights?: string[] | null
          opportunities?: string[] | null
          outcomes?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          recommended_actions?: string[] | null
          risks?: string[] | null
          scenario_id?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_sim_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sim_runs_scenario_id_fkey"
            columns: ["scenario_id"]
            isOneToOne: false
            referencedRelation: "sim_scenarios"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sim_runs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      sim_scenarios: {
        Row: {
          assumptions: Json
          created_at: string
          decisions: Json
          desirability: number | null
          id: string
          impact_areas: Json | null
          key_milestones: Json | null
          narrative: string | null
          opportunities: string[] | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          probability: number | null
          projected_outcomes: Json
          risks: string[] | null
          scenario_name: string
          scenario_type: string
          simulation_id: string
          user_id_uuid: string
        }
        Insert: {
          assumptions?: Json
          created_at?: string
          decisions?: Json
          desirability?: number | null
          id?: string
          impact_areas?: Json | null
          key_milestones?: Json | null
          narrative?: string | null
          opportunities?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          probability?: number | null
          projected_outcomes?: Json
          risks?: string[] | null
          scenario_name: string
          scenario_type: string
          simulation_id: string
          user_id_uuid: string
        }
        Update: {
          assumptions?: Json
          created_at?: string
          decisions?: Json
          desirability?: number | null
          id?: string
          impact_areas?: Json | null
          key_milestones?: Json | null
          narrative?: string | null
          opportunities?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          probability?: number | null
          projected_outcomes?: Json
          risks?: string[] | null
          scenario_name?: string
          scenario_type?: string
          simulation_id?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_sim_scenarios__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sim_scenarios_simulation_id_fkey"
            columns: ["simulation_id"]
            isOneToOne: false
            referencedRelation: "sim_simulations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sim_scenarios_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      sim_simulations: {
        Row: {
          base_scenario: Json
          completed_at: string | null
          confidence: number | null
          created_at: string
          description: string | null
          id: string
          outcomes: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          recommended_path: string | null
          simulation_type: string
          status: string
          time_horizon: string | null
          title: string
          user_id_uuid: string
          variables: Json
        }
        Insert: {
          base_scenario?: Json
          completed_at?: string | null
          confidence?: number | null
          created_at?: string
          description?: string | null
          id?: string
          outcomes?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          recommended_path?: string | null
          simulation_type: string
          status?: string
          time_horizon?: string | null
          title: string
          user_id_uuid: string
          variables?: Json
        }
        Update: {
          base_scenario?: Json
          completed_at?: string | null
          confidence?: number | null
          created_at?: string
          description?: string | null
          id?: string
          outcomes?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          recommended_path?: string | null
          simulation_type?: string
          status?: string
          time_horizon?: string | null
          title?: string
          user_id_uuid?: string
          variables?: Json
        }
        Relationships: [
          {
            foreignKeyName: "fk_sim_simulations__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sim_simulations_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      sim_templates: {
        Row: {
          analysis_prompt: string | null
          category: string
          created_at: string
          created_by: string | null
          description: string | null
          id: string
          is_public: boolean
          name: string
          outcome_dimensions: Json
          owner_user_id: string | null
          owner_user_uuid: string | null
          required_inputs: Json
          scenario_prompt: string | null
          variable_definitions: Json
        }
        Insert: {
          analysis_prompt?: string | null
          category: string
          created_at?: string
          created_by?: string | null
          description?: string | null
          id?: string
          is_public?: boolean
          name: string
          outcome_dimensions?: Json
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          required_inputs?: Json
          scenario_prompt?: string | null
          variable_definitions?: Json
        }
        Update: {
          analysis_prompt?: string | null
          category?: string
          created_at?: string
          created_by?: string | null
          description?: string | null
          id?: string
          is_public?: boolean
          name?: string
          outcome_dimensions?: Json
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          required_inputs?: Json
          scenario_prompt?: string | null
          variable_definitions?: Json
        }
        Relationships: []
      }
      sim_what_ifs: {
        Row: {
          benefits: string[] | null
          category: string | null
          created_at: string
          id: string
          key_factors: string[] | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          potential_outcomes: Json | null
          question: string
          recommendation: string | null
          risks: string[] | null
          user_id_uuid: string
          user_notes: string | null
          was_helpful: boolean | null
        }
        Insert: {
          benefits?: string[] | null
          category?: string | null
          created_at?: string
          id?: string
          key_factors?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          potential_outcomes?: Json | null
          question: string
          recommendation?: string | null
          risks?: string[] | null
          user_id_uuid: string
          user_notes?: string | null
          was_helpful?: boolean | null
        }
        Update: {
          benefits?: string[] | null
          category?: string | null
          created_at?: string
          id?: string
          key_factors?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          potential_outcomes?: Json | null
          question?: string
          recommendation?: string | null
          risks?: string[] | null
          user_id_uuid?: string
          user_notes?: string | null
          was_helpful?: boolean | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_sim_what_ifs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sim_what_ifs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      simulation_fix_plans: {
        Row: {
          created_at: string
          error: string | null
          generated_at: string | null
          id: string
          owner_user_id: string
          patch_json: Json | null
          plan_markdown: string | null
          request_id: string
          run_id: string
          status: string
          step_id: string
          step_title: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          error?: string | null
          generated_at?: string | null
          id?: string
          owner_user_id: string
          patch_json?: Json | null
          plan_markdown?: string | null
          request_id: string
          run_id: string
          status?: string
          step_id: string
          step_title?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          error?: string | null
          generated_at?: string | null
          id?: string
          owner_user_id?: string
          patch_json?: Json | null
          plan_markdown?: string | null
          request_id?: string
          run_id?: string
          status?: string
          step_id?: string
          step_title?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_simulation_fix_plans__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "simulation_fix_plans_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "simulation_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "simulation_fix_plans_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      simulation_metrics: {
        Row: {
          created_at: string | null
          day_offset: number | null
          id: string
          label: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          simulation_id: string | null
          value: number | null
        }
        Insert: {
          created_at?: string | null
          day_offset?: number | null
          id?: string
          label: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          simulation_id?: string | null
          value?: number | null
        }
        Update: {
          created_at?: string | null
          day_offset?: number | null
          id?: string
          label?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          simulation_id?: string | null
          value?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "simulation_metrics_simulation_id_fkey"
            columns: ["simulation_id"]
            isOneToOne: false
            referencedRelation: "simulation_runs"
            referencedColumns: ["id"]
          },
        ]
      }
      simulation_models: {
        Row: {
          created_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          state: Json
          user_id_text: string | null
          user_id_uuid: string
          version: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          state: Json
          user_id_text?: string | null
          user_id_uuid: string
          version?: string
        }
        Update: {
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          state?: Json
          user_id_text?: string | null
          user_id_uuid?: string
          version?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_simulation_models__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "simulation_models_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      simulation_outcomes: {
        Row: {
          best_timelines: Json | null
          comparison_summary: string | null
          created_at: string
          generated_at: string
          id: string
          key_tradeoffs: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          run_id: string
          user_id_text: string | null
          user_id_uuid: string
          worst_timelines: Json | null
        }
        Insert: {
          best_timelines?: Json | null
          comparison_summary?: string | null
          created_at?: string
          generated_at?: string
          id?: string
          key_tradeoffs?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          run_id: string
          user_id_text?: string | null
          user_id_uuid: string
          worst_timelines?: Json | null
        }
        Update: {
          best_timelines?: Json | null
          comparison_summary?: string | null
          created_at?: string
          generated_at?: string
          id?: string
          key_tradeoffs?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          run_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
          worst_timelines?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_simulation_outcomes__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "simulation_outcomes_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "simulation_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "simulation_outcomes_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      simulation_policies: {
        Row: {
          created_at: string
          description: string | null
          domain: string | null
          id: string
          key: string
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          policy_spec: Json | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          domain?: string | null
          id?: string
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          policy_spec?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          description?: string | null
          domain?: string | null
          id?: string
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          policy_spec?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_simulation_policies__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "simulation_policies_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      simulation_runs: {
        Row: {
          created_at: string | null
          id: string
          output: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          parameters: Json | null
          scenario_name: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          output?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          parameters?: Json | null
          scenario_name: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          id?: string
          output?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          parameters?: Json | null
          scenario_name?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_simulation_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "simulation_runs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      simulation_steps: {
        Row: {
          created_at: string
          events: Json | null
          horizon_label: string | null
          id: string
          metrics: Json | null
          narrative_snippet: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          step_date: string | null
          step_index: number
          timeline_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          events?: Json | null
          horizon_label?: string | null
          id?: string
          metrics?: Json | null
          narrative_snippet?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          step_date?: string | null
          step_index: number
          timeline_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          events?: Json | null
          horizon_label?: string | null
          id?: string
          metrics?: Json | null
          narrative_snippet?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          step_date?: string | null
          step_index?: number
          timeline_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_simulation_steps__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "simulation_steps_timeline_id_fkey"
            columns: ["timeline_id"]
            isOneToOne: false
            referencedRelation: "simulation_timelines"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "simulation_steps_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      simulation_timelines: {
        Row: {
          created_at: string
          id: string
          label: string | null
          narrative_label: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          policy_key: string
          run_id: string
          score_alignment: number | null
          score_burnout_risk: number | null
          score_finance: number | null
          score_health: number | null
          score_overall: number | null
          score_relationships: number | null
          score_self_respect: number | null
          score_work: number | null
          summary: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          label?: string | null
          narrative_label?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          policy_key: string
          run_id: string
          score_alignment?: number | null
          score_burnout_risk?: number | null
          score_finance?: number | null
          score_health?: number | null
          score_overall?: number | null
          score_relationships?: number | null
          score_self_respect?: number | null
          score_work?: number | null
          summary?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          label?: string | null
          narrative_label?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          policy_key?: string
          run_id?: string
          score_alignment?: number | null
          score_burnout_risk?: number | null
          score_finance?: number | null
          score_health?: number | null
          score_overall?: number | null
          score_relationships?: number | null
          score_self_respect?: number | null
          score_work?: number | null
          summary?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_simulation_timelines__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "simulation_timelines_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "simulation_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "simulation_timelines_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      sms_messages: {
        Row: {
          body: string
          created_at: string | null
          deal_id: string | null
          direction: string
          from_number: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          to_number: string
          twilio_message_sid: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          body: string
          created_at?: string | null
          deal_id?: string | null
          direction: string
          from_number: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          to_number: string
          twilio_message_sid?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          body?: string
          created_at?: string | null
          deal_id?: string | null
          direction?: string
          from_number?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          to_number?: string
          twilio_message_sid?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_sms_messages__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sms_messages_deal_id_fkey"
            columns: ["deal_id"]
            isOneToOne: false
            referencedRelation: "deals"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "sms_messages_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      social_edges: {
        Row: {
          created_at: string
          drift: number | null
          from_node_id: string
          from_node_type: string
          id: string
          influence: number | null
          last_updated_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          positivity: number | null
          relationship_type: string | null
          strength: number | null
          tension: number | null
          to_node_id: string
          to_node_type: string
          trust: number | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          drift?: number | null
          from_node_id: string
          from_node_type: string
          id?: string
          influence?: number | null
          last_updated_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          positivity?: number | null
          relationship_type?: string | null
          strength?: number | null
          tension?: number | null
          to_node_id: string
          to_node_type: string
          trust?: number | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          drift?: number | null
          from_node_id?: string
          from_node_type?: string
          id?: string
          influence?: number | null
          last_updated_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          positivity?: number | null
          relationship_type?: string | null
          strength?: number | null
          tension?: number | null
          to_node_id?: string
          to_node_type?: string
          trust?: number | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_social_edges__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_edges_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      social_entities: {
        Row: {
          created_at: string
          display_name: string
          external_id: string | null
          id: string
          importance: number | null
          interaction_summary: Json | null
          kind: string
          last_interaction_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          role_label: string | null
          source: string | null
          tags: string[] | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          display_name: string
          external_id?: string | null
          id?: string
          importance?: number | null
          interaction_summary?: Json | null
          kind: string
          last_interaction_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          role_label?: string | null
          source?: string | null
          tags?: string[] | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          display_name?: string
          external_id?: string | null
          id?: string
          importance?: number | null
          interaction_summary?: Json | null
          kind?: string
          last_interaction_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          role_label?: string | null
          source?: string | null
          tags?: string[] | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_social_entities__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_entities_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      social_insights: {
        Row: {
          created_at: string
          drift_warnings: Json | null
          generated_at: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          reachout_opportunities: Json | null
          scope: string
          summary: string | null
          tension_hotspots: Json | null
          top_relationships: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          drift_warnings?: Json | null
          generated_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          reachout_opportunities?: Json | null
          scope?: string
          summary?: string | null
          tension_hotspots?: Json | null
          top_relationships?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          drift_warnings?: Json | null
          generated_at?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          reachout_opportunities?: Json | null
          scope?: string
          summary?: string | null
          tension_hotspots?: Json | null
          top_relationships?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_social_insights__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_insights_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      social_nodes: {
        Row: {
          created_at: string
          id: string
          importance_score: number | null
          label: string | null
          last_interaction_at: string | null
          node_id: string
          node_type: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          roles: string[] | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          importance_score?: number | null
          label?: string | null
          last_interaction_at?: string | null
          node_id: string
          node_type: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          roles?: string[] | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          importance_score?: number | null
          label?: string | null
          last_interaction_at?: string | null
          node_id?: string
          node_type?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          roles?: string[] | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_social_nodes__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_nodes_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      social_recommendations: {
        Row: {
          completed_at: string | null
          created_at: string
          domain: string | null
          edge_id: string | null
          entity_id: string | null
          id: string
          kind: string
          label: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority: number
          recommended_for_date: string | null
          status: string
          suggestion: string
          user_feedback: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          completed_at?: string | null
          created_at?: string
          domain?: string | null
          edge_id?: string | null
          entity_id?: string | null
          id?: string
          kind: string
          label: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority: number
          recommended_for_date?: string | null
          status?: string
          suggestion: string
          user_feedback?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          completed_at?: string | null
          created_at?: string
          domain?: string | null
          edge_id?: string | null
          entity_id?: string | null
          id?: string
          kind?: string
          label?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority?: number
          recommended_for_date?: string | null
          status?: string
          suggestion?: string
          user_feedback?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_social_recommendations__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_recommendations_edge_id_fkey"
            columns: ["edge_id"]
            isOneToOne: false
            referencedRelation: "social_edges"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_recommendations_entity_id_fkey"
            columns: ["entity_id"]
            isOneToOne: false
            referencedRelation: "social_entities"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_recommendations_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      social_risk_events: {
        Row: {
          context: Json | null
          created_at: string
          edge_id: string | null
          entity_id: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          resolved_at: string | null
          risk_kind: string
          severity: number
          summary: string
          timeframe: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          context?: Json | null
          created_at?: string
          edge_id?: string | null
          entity_id?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          resolved_at?: string | null
          risk_kind: string
          severity: number
          summary: string
          timeframe?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          context?: Json | null
          created_at?: string
          edge_id?: string | null
          entity_id?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          resolved_at?: string | null
          risk_kind?: string
          severity?: number
          summary?: string
          timeframe?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_social_risk_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_risk_events_edge_id_fkey"
            columns: ["edge_id"]
            isOneToOne: false
            referencedRelation: "social_edges"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_risk_events_entity_id_fkey"
            columns: ["entity_id"]
            isOneToOne: false
            referencedRelation: "social_entities"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_risk_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      social_state_snapshots: {
        Row: {
          created_at: string
          id: string
          key_issues: Json | null
          key_opportunities: Json | null
          narrative_summary: string | null
          overall_drift: number | null
          overall_health: number | null
          overall_support: number | null
          overall_tension: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          snapshot_date: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          key_issues?: Json | null
          key_opportunities?: Json | null
          narrative_summary?: string | null
          overall_drift?: number | null
          overall_health?: number | null
          overall_support?: number | null
          overall_tension?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          snapshot_date: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          key_issues?: Json | null
          key_opportunities?: Json | null
          narrative_summary?: string | null
          overall_drift?: number | null
          overall_health?: number | null
          overall_support?: number | null
          overall_tension?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          snapshot_date?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_social_state_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "social_state_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      somatic_alerts: {
        Row: {
          context: Json | null
          created_at: string
          id: string
          kind: string
          metrics_date: string | null
          occurred_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          recommended_action: string | null
          severity: number
          summary: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          context?: Json | null
          created_at?: string
          id?: string
          kind: string
          metrics_date?: string | null
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          recommended_action?: string | null
          severity: number
          summary: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          context?: Json | null
          created_at?: string
          id?: string
          kind?: string
          metrics_date?: string | null
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          recommended_action?: string | null
          severity?: number
          summary?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_somatic_alerts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "somatic_alerts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      somatic_daily_metrics: {
        Row: {
          activity_minutes: number | null
          bedtime_local: string | null
          circadian_alignment: number | null
          created_at: string
          deep_work_disruptions: number | null
          entertainment_minutes: number | null
          fatigue_score: number | null
          focus_app_minutes: number | null
          hr_variability: number | null
          id: string
          messaging_minutes: number | null
          metrics_date: string
          navigation_minutes: number | null
          night_screen_minutes: number | null
          notification_count: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          recovery_score: number | null
          resting_heart_rate: number | null
          sedentary_minutes: number | null
          sleep_duration_minutes: number | null
          sleep_efficiency: number | null
          sleep_quality_score: number | null
          social_app_minutes: number | null
          step_count: number | null
          stimulation_score: number | null
          stress_load_score: number | null
          total_screen_minutes: number | null
          unlock_count: number | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
          wake_time_local: string | null
        }
        Insert: {
          activity_minutes?: number | null
          bedtime_local?: string | null
          circadian_alignment?: number | null
          created_at?: string
          deep_work_disruptions?: number | null
          entertainment_minutes?: number | null
          fatigue_score?: number | null
          focus_app_minutes?: number | null
          hr_variability?: number | null
          id?: string
          messaging_minutes?: number | null
          metrics_date: string
          navigation_minutes?: number | null
          night_screen_minutes?: number | null
          notification_count?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          recovery_score?: number | null
          resting_heart_rate?: number | null
          sedentary_minutes?: number | null
          sleep_duration_minutes?: number | null
          sleep_efficiency?: number | null
          sleep_quality_score?: number | null
          social_app_minutes?: number | null
          step_count?: number | null
          stimulation_score?: number | null
          stress_load_score?: number | null
          total_screen_minutes?: number | null
          unlock_count?: number | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
          wake_time_local?: string | null
        }
        Update: {
          activity_minutes?: number | null
          bedtime_local?: string | null
          circadian_alignment?: number | null
          created_at?: string
          deep_work_disruptions?: number | null
          entertainment_minutes?: number | null
          fatigue_score?: number | null
          focus_app_minutes?: number | null
          hr_variability?: number | null
          id?: string
          messaging_minutes?: number | null
          metrics_date?: string
          navigation_minutes?: number | null
          night_screen_minutes?: number | null
          notification_count?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          recovery_score?: number | null
          resting_heart_rate?: number | null
          sedentary_minutes?: number | null
          sleep_duration_minutes?: number | null
          sleep_efficiency?: number | null
          sleep_quality_score?: number | null
          social_app_minutes?: number | null
          step_count?: number | null
          stimulation_score?: number | null
          stress_load_score?: number | null
          total_screen_minutes?: number | null
          unlock_count?: number | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
          wake_time_local?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_somatic_daily_metrics__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "somatic_daily_metrics_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      somatic_device_settings: {
        Row: {
          app_usage_enabled: boolean
          created_at: string
          heart_data_enabled: boolean
          id: string
          last_updated_at: string
          location_enabled: boolean
          notes: string | null
          notifications_enabled: boolean
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          phone_integration_enabled: boolean
          sleep_data_enabled: boolean
          steps_data_enabled: boolean
          user_id_text: string | null
          user_id_uuid: string
          wearable_integration_enabled: boolean
        }
        Insert: {
          app_usage_enabled?: boolean
          created_at?: string
          heart_data_enabled?: boolean
          id?: string
          last_updated_at?: string
          location_enabled?: boolean
          notes?: string | null
          notifications_enabled?: boolean
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          phone_integration_enabled?: boolean
          sleep_data_enabled?: boolean
          steps_data_enabled?: boolean
          user_id_text?: string | null
          user_id_uuid: string
          wearable_integration_enabled?: boolean
        }
        Update: {
          app_usage_enabled?: boolean
          created_at?: string
          heart_data_enabled?: boolean
          id?: string
          last_updated_at?: string
          location_enabled?: boolean
          notes?: string | null
          notifications_enabled?: boolean
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          phone_integration_enabled?: boolean
          sleep_data_enabled?: boolean
          steps_data_enabled?: boolean
          user_id_text?: string | null
          user_id_uuid?: string
          wearable_integration_enabled?: boolean
        }
        Relationships: [
          {
            foreignKeyName: "fk_somatic_device_settings__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "somatic_device_settings_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      somatic_patterns: {
        Row: {
          best_focus_windows: Json | null
          caffeine_like_patterns: Json | null
          chronotype: string | null
          crash_patterns: Json | null
          created_at: string
          exercise_effects: Json | null
          id: string
          last_refreshed_at: string
          low_energy_windows: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          social_energy_windows: Json | null
          stimulation_sensitivity: Json | null
          summary: string | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          best_focus_windows?: Json | null
          caffeine_like_patterns?: Json | null
          chronotype?: string | null
          crash_patterns?: Json | null
          created_at?: string
          exercise_effects?: Json | null
          id?: string
          last_refreshed_at?: string
          low_energy_windows?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          social_energy_windows?: Json | null
          stimulation_sensitivity?: Json | null
          summary?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          best_focus_windows?: Json | null
          caffeine_like_patterns?: Json | null
          chronotype?: string | null
          crash_patterns?: Json | null
          created_at?: string
          exercise_effects?: Json | null
          id?: string
          last_refreshed_at?: string
          low_energy_windows?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          social_energy_windows?: Json | null
          stimulation_sensitivity?: Json | null
          summary?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_somatic_patterns__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "somatic_patterns_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      somatic_raw_device_events: {
        Row: {
          created_at: string
          id: string
          kind: string
          metadata: Json | null
          occurred_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          kind: string
          metadata?: Json | null
          occurred_at: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          kind?: string
          metadata?: Json | null
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_somatic_raw_device_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "somatic_raw_device_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      somatic_samples: {
        Row: {
          created_at: string
          id: string
          metric: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          sampled_at: string
          source: string
          user_id_text: string | null
          user_id_uuid: string
          value_json: Json | null
          value_numeric: number | null
        }
        Insert: {
          created_at?: string
          id?: string
          metric: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          sampled_at?: string
          source: string
          user_id_text?: string | null
          user_id_uuid: string
          value_json?: Json | null
          value_numeric?: number | null
        }
        Update: {
          created_at?: string
          id?: string
          metric?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          sampled_at?: string
          source?: string
          user_id_text?: string | null
          user_id_uuid?: string
          value_json?: Json | null
          value_numeric?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_somatic_samples__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "somatic_samples_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      somatic_state_daily: {
        Row: {
          created_at: string
          energy_score: number | null
          fatigue_risk: number | null
          id: string
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          sleep_hours: number | null
          sleep_quality: number | null
          state_date: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          energy_score?: number | null
          fatigue_risk?: number | null
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          sleep_hours?: number | null
          sleep_quality?: number | null
          state_date: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          energy_score?: number | null
          fatigue_risk?: number | null
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          sleep_hours?: number | null
          sleep_quality?: number | null
          state_date?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_somatic_state_daily__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "somatic_state_daily_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      strategic_conflicts: {
        Row: {
          conflict_type: string | null
          created_at: string | null
          description: string | null
          id: string
          involved_goals: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          recommended_resolutions: Json | null
          severity: number
          subsystem_inputs: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          conflict_type?: string | null
          created_at?: string | null
          description?: string | null
          id?: string
          involved_goals?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          recommended_resolutions?: Json | null
          severity: number
          subsystem_inputs?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          conflict_type?: string | null
          created_at?: string | null
          description?: string | null
          id?: string
          involved_goals?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          recommended_resolutions?: Json | null
          severity?: number
          subsystem_inputs?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_strategic_conflicts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategic_conflicts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      strategic_domains: {
        Row: {
          created_at: string | null
          description: string | null
          id: string
          is_active: boolean
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          slug: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          id?: string
          is_active?: boolean
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          slug: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          description?: string | null
          id?: string
          is_active?: boolean
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          slug?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_strategic_domains__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategic_domains_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      strategic_equilibria: {
        Row: {
          created_at: string | null
          equilibrium: Json | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          predicted_outcomes: Json | null
          rationale: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          equilibrium?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          predicted_outcomes?: Json | null
          rationale?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          equilibrium?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          predicted_outcomes?: Json | null
          rationale?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_strategic_equilibria__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategic_equilibria_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      strategic_objectives: {
        Row: {
          created_at: string | null
          description: string | null
          domain_id: string
          id: string
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority: number | null
          status: string
          success_metrics: Json | null
          timeframe_end: string | null
          timeframe_start: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          domain_id: string
          id?: string
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority?: number | null
          status?: string
          success_metrics?: Json | null
          timeframe_end?: string | null
          timeframe_start?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          description?: string | null
          domain_id?: string
          id?: string
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority?: number | null
          status?: string
          success_metrics?: Json | null
          timeframe_end?: string | null
          timeframe_start?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_strategic_objectives__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategic_objectives_domain_id_fkey"
            columns: ["domain_id"]
            isOneToOne: false
            referencedRelation: "strategic_domains"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategic_objectives_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      strategic_plans: {
        Row: {
          assumptions: Json | null
          created_at: string | null
          id: string
          name: string
          objective_id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          primary_playbook_id: string | null
          risk_register: Json | null
          status: string
          summary: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          assumptions?: Json | null
          created_at?: string | null
          id?: string
          name: string
          objective_id: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          primary_playbook_id?: string | null
          risk_register?: Json | null
          status?: string
          summary?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          assumptions?: Json | null
          created_at?: string | null
          id?: string
          name?: string
          objective_id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          primary_playbook_id?: string | null
          risk_register?: Json | null
          status?: string
          summary?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_strategic_plans__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategic_plans_objective_id_fkey"
            columns: ["objective_id"]
            isOneToOne: false
            referencedRelation: "strategic_objectives"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategic_plans_primary_playbook_id_fkey"
            columns: ["primary_playbook_id"]
            isOneToOne: false
            referencedRelation: "strategic_playbooks"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategic_plans_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      strategic_playbooks: {
        Row: {
          created_at: string | null
          description: string | null
          domain_hint: string | null
          id: string
          key_moves: Json | null
          metrics: Json | null
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          prerequisites: Json | null
          risks: Json | null
          slug: string
        }
        Insert: {
          created_at?: string | null
          description?: string | null
          domain_hint?: string | null
          id?: string
          key_moves?: Json | null
          metrics?: Json | null
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          prerequisites?: Json | null
          risks?: Json | null
          slug: string
        }
        Update: {
          created_at?: string | null
          description?: string | null
          domain_hint?: string | null
          id?: string
          key_moves?: Json | null
          metrics?: Json | null
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          prerequisites?: Json | null
          risks?: Json | null
          slug?: string
        }
        Relationships: []
      }
      strategic_review_events: {
        Row: {
          created_at: string
          event_type: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          payload: Json | null
          ref_id: string | null
          session_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          event_type: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          payload?: Json | null
          ref_id?: string | null
          session_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          event_type?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          payload?: Json | null
          ref_id?: string | null
          session_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_strategic_review_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategic_review_events_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "strategist_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategic_review_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      strategic_state_snapshots: {
        Row: {
          active_goals: Json | null
          chosen_equilibrium: Json | null
          confidence: number
          conflicts: Json | null
          dominant_needs: Json | null
          id: string
          opportunities: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          predicted_risks: Json | null
          snapshot_time: string
          subsystem_signals: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          active_goals?: Json | null
          chosen_equilibrium?: Json | null
          confidence?: number
          conflicts?: Json | null
          dominant_needs?: Json | null
          id?: string
          opportunities?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          predicted_risks?: Json | null
          snapshot_time?: string
          subsystem_signals?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          active_goals?: Json | null
          chosen_equilibrium?: Json | null
          confidence?: number
          conflicts?: Json | null
          dominant_needs?: Json | null
          id?: string
          opportunities?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          predicted_risks?: Json | null
          snapshot_time?: string
          subsystem_signals?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_strategic_state_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategic_state_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      strategist_sessions: {
        Row: {
          completed_at: string | null
          created_at: string
          equilibrium_id: string | null
          id: string
          intro_narrative: string | null
          key_points: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          snapshot_id: string | null
          status: string
          user_id_text: string | null
          user_id_uuid: string
          user_reaction: Json | null
        }
        Insert: {
          completed_at?: string | null
          created_at?: string
          equilibrium_id?: string | null
          id?: string
          intro_narrative?: string | null
          key_points?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          snapshot_id?: string | null
          status?: string
          user_id_text?: string | null
          user_id_uuid: string
          user_reaction?: Json | null
        }
        Update: {
          completed_at?: string | null
          created_at?: string
          equilibrium_id?: string | null
          id?: string
          intro_narrative?: string | null
          key_points?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          snapshot_id?: string | null
          status?: string
          user_id_text?: string | null
          user_id_uuid?: string
          user_reaction?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_strategist_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategist_sessions_equilibrium_id_fkey"
            columns: ["equilibrium_id"]
            isOneToOne: false
            referencedRelation: "strategic_equilibria"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategist_sessions_snapshot_id_fkey"
            columns: ["snapshot_id"]
            isOneToOne: false
            referencedRelation: "strategic_state_snapshots"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategist_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_actions: {
        Row: {
          cadence: string | null
          created_at: string | null
          description: string | null
          id: string
          life_arc_id: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          pillar_id: string
          title: string
        }
        Insert: {
          cadence?: string | null
          created_at?: string | null
          description?: string | null
          id?: string
          life_arc_id?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          pillar_id: string
          title: string
        }
        Update: {
          cadence?: string | null
          created_at?: string | null
          description?: string | null
          id?: string
          life_arc_id?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          pillar_id?: string
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "strategy_actions_life_arc_id_fkey"
            columns: ["life_arc_id"]
            isOneToOne: false
            referencedRelation: "life_arcs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategy_actions_pillar_id_fkey"
            columns: ["pillar_id"]
            isOneToOne: false
            referencedRelation: "strategy_pillars"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_feedback: {
        Row: {
          created_at: string
          id: string
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          prefs_patch: Json | null
          reaction: string
          recommendation_id: string | null
          session_id: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          prefs_patch?: Json | null
          reaction: string
          recommendation_id?: string | null
          session_id?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          prefs_patch?: Json | null
          reaction?: string
          recommendation_id?: string | null
          session_id?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_strategy_feedback__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategy_feedback_recommendation_id_fkey"
            columns: ["recommendation_id"]
            isOneToOne: false
            referencedRelation: "strategy_recommendations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategy_feedback_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "strategist_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategy_feedback_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_paths: {
        Row: {
          cons: string
          description: string
          id: string
          is_selected: boolean | null
          key: string
          name: string
          opportunity_level: number
          owner_user_id: string | null
          owner_user_uuid: string | null
          pros: string
          risk_level: number
          score: number
          snapshot_id: string
        }
        Insert: {
          cons: string
          description: string
          id?: string
          is_selected?: boolean | null
          key: string
          name: string
          opportunity_level?: number
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          pros: string
          risk_level?: number
          score?: number
          snapshot_id: string
        }
        Update: {
          cons?: string
          description?: string
          id?: string
          is_selected?: boolean | null
          key?: string
          name?: string
          opportunity_level?: number
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          pros?: string
          risk_level?: number
          score?: number
          snapshot_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "strategy_paths_snapshot_id_fkey"
            columns: ["snapshot_id"]
            isOneToOne: false
            referencedRelation: "strategy_snapshots"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_pillars: {
        Row: {
          category: string | null
          created_at: string | null
          description: string | null
          id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          path_id: string
          priority: number | null
          snapshot_id: string
          title: string
        }
        Insert: {
          category?: string | null
          created_at?: string | null
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          path_id: string
          priority?: number | null
          snapshot_id: string
          title: string
        }
        Update: {
          category?: string | null
          created_at?: string | null
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          path_id?: string
          priority?: number | null
          snapshot_id?: string
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "strategy_pillars_path_id_fkey"
            columns: ["path_id"]
            isOneToOne: false
            referencedRelation: "strategy_paths"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategy_pillars_snapshot_id_fkey"
            columns: ["snapshot_id"]
            isOneToOne: false
            referencedRelation: "strategy_snapshots"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_recommendations: {
        Row: {
          context: Json | null
          created_at: string | null
          description: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority: number | null
          recommended_actions: Json | null
          timescale: string | null
          title: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          context?: Json | null
          created_at?: string | null
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority?: number | null
          recommended_actions?: Json | null
          timescale?: string | null
          title?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          context?: Json | null
          created_at?: string | null
          description?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority?: number | null
          recommended_actions?: Json | null
          timescale?: string | null
          title?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_strategy_recommendations__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategy_recommendations_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      strategy_snapshots: {
        Row: {
          chosen_path_key: string | null
          confidence: number | null
          created_at: string | null
          horizon_days: number
          id: string
          model: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          summary: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          chosen_path_key?: string | null
          confidence?: number | null
          created_at?: string | null
          horizon_days: number
          id?: string
          model: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          summary: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          chosen_path_key?: string | null
          confidence?: number | null
          created_at?: string | null
          horizon_days?: number
          id?: string
          model?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          summary?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_strategy_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "strategy_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      streak_alert_rules: {
        Row: {
          is_active: boolean
          notify_cooldown_hours: number
          risk_threshold: number
          rollup_key: string
          updated_at: string
        }
        Insert: {
          is_active?: boolean
          notify_cooldown_hours?: number
          risk_threshold?: number
          rollup_key: string
          updated_at?: string
        }
        Update: {
          is_active?: boolean
          notify_cooldown_hours?: number
          risk_threshold?: number
          rollup_key?: string
          updated_at?: string
        }
        Relationships: []
      }
      streak_alerts: {
        Row: {
          created_at: string
          day: string
          id: string
          owner_user_id: string
          reason: string
          risk: number
          rollup_key: string
          sent_at: string | null
        }
        Insert: {
          created_at?: string
          day: string
          id?: string
          owner_user_id: string
          reason: string
          risk: number
          rollup_key: string
          sent_at?: string | null
        }
        Update: {
          created_at?: string
          day?: string
          id?: string
          owner_user_id?: string
          reason?: string
          risk?: number
          rollup_key?: string
          sent_at?: string | null
        }
        Relationships: []
      }
      streaks: {
        Row: {
          created_at: string | null
          current_count: number | null
          id: string
          last_activity_date: string | null
          longest_count: number | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          streak_type: string
          updated_at: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          current_count?: number | null
          id?: string
          last_activity_date?: string | null
          longest_count?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          streak_type: string
          updated_at?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          current_count?: number | null
          id?: string
          last_activity_date?: string | null
          longest_count?: number | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          streak_type?: string
          updated_at?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_streaks__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "streaks_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      system_capabilities: {
        Row: {
          api_route: string | null
          config_path: string | null
          created_at: string | null
          description: string | null
          id: string
          key: string
          module_id: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
        }
        Insert: {
          api_route?: string | null
          config_path?: string | null
          created_at?: string | null
          description?: string | null
          id?: string
          key: string
          module_id: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Update: {
          api_route?: string | null
          config_path?: string | null
          created_at?: string | null
          description?: string | null
          id?: string
          key?: string
          module_id?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "system_capabilities_module_id_fkey"
            columns: ["module_id"]
            isOneToOne: false
            referencedRelation: "system_modules"
            referencedColumns: ["id"]
          },
        ]
      }
      system_capability_health: {
        Row: {
          avg_latency_ms: number | null
          capability_id: string
          created_at: string | null
          error_count: number | null
          id: string
          last_check_at: string
          last_error_at: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          status: string
          status_reason: string | null
        }
        Insert: {
          avg_latency_ms?: number | null
          capability_id: string
          created_at?: string | null
          error_count?: number | null
          id?: string
          last_check_at?: string
          last_error_at?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          status: string
          status_reason?: string | null
        }
        Update: {
          avg_latency_ms?: number | null
          capability_id?: string
          created_at?: string | null
          error_count?: number | null
          id?: string
          last_check_at?: string
          last_error_at?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          status?: string
          status_reason?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "system_capability_health_capability_id_fkey"
            columns: ["capability_id"]
            isOneToOne: false
            referencedRelation: "system_capabilities"
            referencedColumns: ["id"]
          },
        ]
      }
      system_changelog: {
        Row: {
          created_at: string | null
          created_by: string
          description: string | null
          experiment_id: string | null
          id: string
          module_id: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          tags: Json | null
          title: string
        }
        Insert: {
          created_at?: string | null
          created_by: string
          description?: string | null
          experiment_id?: string | null
          id?: string
          module_id?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          tags?: Json | null
          title: string
        }
        Update: {
          created_at?: string | null
          created_by?: string
          description?: string | null
          experiment_id?: string | null
          id?: string
          module_id?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          tags?: Json | null
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "system_changelog_experiment_id_fkey"
            columns: ["experiment_id"]
            isOneToOne: false
            referencedRelation: "system_experiments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "system_changelog_module_id_fkey"
            columns: ["module_id"]
            isOneToOne: false
            referencedRelation: "system_modules"
            referencedColumns: ["id"]
          },
        ]
      }
      system_diagnostics_findings: {
        Row: {
          capability_id: string | null
          category: string
          created_at: string | null
          description: string | null
          id: string
          module_id: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          recommendation: string | null
          run_id: string
          severity: string
          title: string
        }
        Insert: {
          capability_id?: string | null
          category: string
          created_at?: string | null
          description?: string | null
          id?: string
          module_id?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          recommendation?: string | null
          run_id: string
          severity: string
          title: string
        }
        Update: {
          capability_id?: string | null
          category?: string
          created_at?: string | null
          description?: string | null
          id?: string
          module_id?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          recommendation?: string | null
          run_id?: string
          severity?: string
          title?: string
        }
        Relationships: [
          {
            foreignKeyName: "system_diagnostics_findings_capability_id_fkey"
            columns: ["capability_id"]
            isOneToOne: false
            referencedRelation: "system_capabilities"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "system_diagnostics_findings_module_id_fkey"
            columns: ["module_id"]
            isOneToOne: false
            referencedRelation: "system_modules"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "system_diagnostics_findings_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "system_diagnostics_runs"
            referencedColumns: ["id"]
          },
        ]
      }
      system_diagnostics_runs: {
        Row: {
          completed_at: string | null
          created_at: string | null
          id: string
          initiated_by: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          run_type: string
          status: string
          summary: string | null
        }
        Insert: {
          completed_at?: string | null
          created_at?: string | null
          id?: string
          initiated_by: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          run_type: string
          status: string
          summary?: string | null
        }
        Update: {
          completed_at?: string | null
          created_at?: string | null
          id?: string
          initiated_by?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          run_type?: string
          status?: string
          summary?: string | null
        }
        Relationships: []
      }
      system_experiment_runs: {
        Row: {
          created_at: string | null
          experiment_id: string
          id: string
          metrics_after: Json | null
          metrics_before: Json | null
          outcome: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          parameters: Json | null
          result_summary: string | null
          variant: string
        }
        Insert: {
          created_at?: string | null
          experiment_id: string
          id?: string
          metrics_after?: Json | null
          metrics_before?: Json | null
          outcome?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          parameters?: Json | null
          result_summary?: string | null
          variant: string
        }
        Update: {
          created_at?: string | null
          experiment_id?: string
          id?: string
          metrics_after?: Json | null
          metrics_before?: Json | null
          outcome?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          parameters?: Json | null
          result_summary?: string | null
          variant?: string
        }
        Relationships: [
          {
            foreignKeyName: "system_experiment_runs_experiment_id_fkey"
            columns: ["experiment_id"]
            isOneToOne: false
            referencedRelation: "system_experiments"
            referencedColumns: ["id"]
          },
        ]
      }
      system_experiments: {
        Row: {
          completed_at: string | null
          created_at: string | null
          created_by: string
          description: string | null
          hypothesis: string
          id: string
          idea_ids: string[] | null
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          started_at: string | null
          status: string
          target_metrics: Json | null
        }
        Insert: {
          completed_at?: string | null
          created_at?: string | null
          created_by: string
          description?: string | null
          hypothesis: string
          id?: string
          idea_ids?: string[] | null
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          started_at?: string | null
          status?: string
          target_metrics?: Json | null
        }
        Update: {
          completed_at?: string | null
          created_at?: string | null
          created_by?: string
          description?: string | null
          hypothesis?: string
          id?: string
          idea_ids?: string[] | null
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          started_at?: string | null
          status?: string
          target_metrics?: Json | null
        }
        Relationships: []
      }
      system_improvement_ideas: {
        Row: {
          capability_id: string | null
          created_at: string | null
          created_by: string
          description: string | null
          effort_estimate: string | null
          id: string
          impact_area: string | null
          module_id: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          severity: string | null
          source: string
          status: string
          title: string
          updated_at: string | null
        }
        Insert: {
          capability_id?: string | null
          created_at?: string | null
          created_by: string
          description?: string | null
          effort_estimate?: string | null
          id?: string
          impact_area?: string | null
          module_id?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          severity?: string | null
          source: string
          status?: string
          title: string
          updated_at?: string | null
        }
        Update: {
          capability_id?: string | null
          created_at?: string | null
          created_by?: string
          description?: string | null
          effort_estimate?: string | null
          id?: string
          impact_area?: string | null
          module_id?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          severity?: string | null
          source?: string
          status?: string
          title?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "system_improvement_ideas_capability_id_fkey"
            columns: ["capability_id"]
            isOneToOne: false
            referencedRelation: "system_capabilities"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "system_improvement_ideas_module_id_fkey"
            columns: ["module_id"]
            isOneToOne: false
            referencedRelation: "system_modules"
            referencedColumns: ["id"]
          },
        ]
      }
      system_module_health: {
        Row: {
          avg_latency_ms: number | null
          created_at: string | null
          error_count: number | null
          id: string
          last_check_at: string
          last_error_at: string | null
          module_id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          status: string
          status_reason: string | null
        }
        Insert: {
          avg_latency_ms?: number | null
          created_at?: string | null
          error_count?: number | null
          id?: string
          last_check_at?: string
          last_error_at?: string | null
          module_id: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          status: string
          status_reason?: string | null
        }
        Update: {
          avg_latency_ms?: number | null
          created_at?: string | null
          error_count?: number | null
          id?: string
          last_check_at?: string
          last_error_at?: string | null
          module_id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          status?: string
          status_reason?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "system_module_health_module_id_fkey"
            columns: ["module_id"]
            isOneToOne: false
            referencedRelation: "system_modules"
            referencedColumns: ["id"]
          },
        ]
      }
      system_module_metrics: {
        Row: {
          avg_latency_ms: number | null
          created_at: string | null
          date: string
          error_count: number | null
          id: string
          invocation_count: number | null
          last_invocation_at: string | null
          module_id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          user_touch_count: number | null
        }
        Insert: {
          avg_latency_ms?: number | null
          created_at?: string | null
          date: string
          error_count?: number | null
          id?: string
          invocation_count?: number | null
          last_invocation_at?: string | null
          module_id: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          user_touch_count?: number | null
        }
        Update: {
          avg_latency_ms?: number | null
          created_at?: string | null
          date?: string
          error_count?: number | null
          id?: string
          invocation_count?: number | null
          last_invocation_at?: string | null
          module_id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          user_touch_count?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "system_module_metrics_module_id_fkey"
            columns: ["module_id"]
            isOneToOne: false
            referencedRelation: "system_modules"
            referencedColumns: ["id"]
          },
        ]
      }
      system_modules: {
        Row: {
          category: string
          created_at: string | null
          description: string | null
          docs_url: string | null
          id: string
          key: string
          name: string
          owner: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
        }
        Insert: {
          category: string
          created_at?: string | null
          description?: string | null
          docs_url?: string | null
          id?: string
          key: string
          name: string
          owner?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Update: {
          category?: string
          created_at?: string | null
          description?: string | null
          docs_url?: string | null
          id?: string
          key?: string
          name?: string
          owner?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Relationships: []
      }
      system_user_feedback: {
        Row: {
          capability_id: string | null
          comment: string | null
          context: Json | null
          created_at: string | null
          id: string
          module_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string | null
          owner_user_uuid: string | null
          rating: number | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          capability_id?: string | null
          comment?: string | null
          context?: Json | null
          created_at?: string | null
          id?: string
          module_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          rating?: number | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          capability_id?: string | null
          comment?: string | null
          context?: Json | null
          created_at?: string | null
          id?: string
          module_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string | null
          owner_user_uuid?: string | null
          rating?: number | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_system_user_feedback__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "system_user_feedback_capability_id_fkey"
            columns: ["capability_id"]
            isOneToOne: false
            referencedRelation: "system_capabilities"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "system_user_feedback_module_id_fkey"
            columns: ["module_id"]
            isOneToOne: false
            referencedRelation: "system_modules"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "system_user_feedback_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      task_events: {
        Row: {
          created_at: string
          event_type: string
          id: string
          note: string | null
          owner_user_id: string | null
          payload: Json
          task_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          event_type: string
          id?: string
          note?: string | null
          owner_user_id?: string | null
          payload?: Json
          task_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          event_type?: string
          id?: string
          note?: string | null
          owner_user_id?: string | null
          payload?: Json
          task_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_task_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "task_events_task_id_fkey"
            columns: ["task_id"]
            isOneToOne: false
            referencedRelation: "tasks"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "task_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      tasks: {
        Row: {
          ai_triage: Json | null
          ai_triaged_at: string | null
          blocked_reason: string | null
          completed_at: string | null
          context: string | null
          created_at: string | null
          deal_id: string | null
          defer_until: string | null
          description: string | null
          due_at: string | null
          due_date: string | null
          id: string
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority: number
          project: string | null
          source: string | null
          status: string | null
          tags: string[] | null
          title: string
          trace_id: string | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
          xp: number | null
        }
        Insert: {
          ai_triage?: Json | null
          ai_triaged_at?: string | null
          blocked_reason?: string | null
          completed_at?: string | null
          context?: string | null
          created_at?: string | null
          deal_id?: string | null
          defer_until?: string | null
          description?: string | null
          due_at?: string | null
          due_date?: string | null
          id?: string
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority?: number
          project?: string | null
          source?: string | null
          status?: string | null
          tags?: string[] | null
          title: string
          trace_id?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
          xp?: number | null
        }
        Update: {
          ai_triage?: Json | null
          ai_triaged_at?: string | null
          blocked_reason?: string | null
          completed_at?: string | null
          context?: string | null
          created_at?: string | null
          deal_id?: string | null
          defer_until?: string | null
          description?: string | null
          due_at?: string | null
          due_date?: string | null
          id?: string
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority?: number
          project?: string | null
          source?: string | null
          status?: string | null
          tags?: string[] | null
          title?: string
          trace_id?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
          xp?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_tasks__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tasks_deal_id_fkey"
            columns: ["deal_id"]
            isOneToOne: false
            referencedRelation: "deals"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tasks_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tasks_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      tb_chapters: {
        Row: {
          created_at: string
          id: string
          key_node_ids: string[] | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          period_end: string
          period_start: string
          summary_md: string
          tags: string[] | null
          title: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          key_node_ids?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          period_end: string
          period_start: string
          summary_md: string
          tags?: string[] | null
          title: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          key_node_ids?: string[] | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          period_end?: string
          period_start?: string
          summary_md?: string
          tags?: string[] | null
          title?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_tb_chapters__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_chapters_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      tb_context_snapshots: {
        Row: {
          active_entities: string[] | null
          active_goals: string[] | null
          context_data: Json
          created_at: string
          energy_level: number | null
          id: string
          mood: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          snapshot_date: string | null
          snapshot_type: string
          user_id_uuid: string
        }
        Insert: {
          active_entities?: string[] | null
          active_goals?: string[] | null
          context_data: Json
          created_at?: string
          energy_level?: number | null
          id?: string
          mood?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          snapshot_date?: string | null
          snapshot_type: string
          user_id_uuid: string
        }
        Update: {
          active_entities?: string[] | null
          active_goals?: string[] | null
          context_data?: Json
          created_at?: string
          energy_level?: number | null
          id?: string
          mood?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          snapshot_date?: string | null
          snapshot_type?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_tb_context_snapshots__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_context_snapshots_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      tb_edges: {
        Row: {
          created_at: string
          from_node_id: string
          id: string
          kind: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          props: Json
          to_node_id: string
          user_id_text: string | null
          user_id_uuid: string
          weight: number | null
        }
        Insert: {
          created_at?: string
          from_node_id: string
          id?: string
          kind: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          props?: Json
          to_node_id: string
          user_id_text?: string | null
          user_id_uuid: string
          weight?: number | null
        }
        Update: {
          created_at?: string
          from_node_id?: string
          id?: string
          kind?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          props?: Json
          to_node_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
          weight?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_tb_edges__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_edges_from_node_id_fkey"
            columns: ["from_node_id"]
            isOneToOne: false
            referencedRelation: "tb_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_edges_to_node_id_fkey"
            columns: ["to_node_id"]
            isOneToOne: false
            referencedRelation: "tb_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_edges_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      tb_embeddings: {
        Row: {
          created_at: string
          embedding: string | null
          fragment_id: string
          id: string
          model: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          embedding?: string | null
          fragment_id: string
          id?: string
          model?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          embedding?: string | null
          fragment_id?: string
          id?: string
          model?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_tb_embeddings__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_embeddings_fragment_id_fkey"
            columns: ["fragment_id"]
            isOneToOne: false
            referencedRelation: "tb_memory_fragments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_embeddings_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      tb_entities: {
        Row: {
          aliases: string[] | null
          canonical_key: string | null
          created_at: string
          description: string | null
          entity_type: string
          first_seen_at: string | null
          id: string
          importance: number
          last_seen_at: string | null
          mention_count: number
          metadata: Json
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          aliases?: string[] | null
          canonical_key?: string | null
          created_at?: string
          description?: string | null
          entity_type: string
          first_seen_at?: string | null
          id?: string
          importance?: number
          last_seen_at?: string | null
          mention_count?: number
          metadata?: Json
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          aliases?: string[] | null
          canonical_key?: string | null
          created_at?: string
          description?: string | null
          entity_type?: string
          first_seen_at?: string | null
          id?: string
          importance?: number
          last_seen_at?: string | null
          mention_count?: number
          metadata?: Json
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_tb_entities__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_entities_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      tb_entity_edges: {
        Row: {
          bidirectional: boolean
          created_at: string
          evidence_fragment_ids: string[] | null
          from_entity_id: string
          id: string
          metadata: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          relation_type: string
          to_entity_id: string
          updated_at: string
          user_id_uuid: string
          weight: number
        }
        Insert: {
          bidirectional?: boolean
          created_at?: string
          evidence_fragment_ids?: string[] | null
          from_entity_id: string
          id?: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          relation_type: string
          to_entity_id: string
          updated_at?: string
          user_id_uuid: string
          weight?: number
        }
        Update: {
          bidirectional?: boolean
          created_at?: string
          evidence_fragment_ids?: string[] | null
          from_entity_id?: string
          id?: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          relation_type?: string
          to_entity_id?: string
          updated_at?: string
          user_id_uuid?: string
          weight?: number
        }
        Relationships: [
          {
            foreignKeyName: "fk_tb_entity_edges__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_entity_edges_from_entity_id_fkey"
            columns: ["from_entity_id"]
            isOneToOne: false
            referencedRelation: "tb_entities"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_entity_edges_to_entity_id_fkey"
            columns: ["to_entity_id"]
            isOneToOne: false
            referencedRelation: "tb_entities"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_entity_edges_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      tb_entity_fragment_links: {
        Row: {
          created_at: string
          entity_id: string
          fragment_id: string
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          relevance: number
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          entity_id: string
          fragment_id: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          relevance?: number
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          entity_id?: string
          fragment_id?: string
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          relevance?: number
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_tb_entity_fragment_links__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_entity_fragment_links_entity_id_fkey"
            columns: ["entity_id"]
            isOneToOne: false
            referencedRelation: "tb_entities"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_entity_fragment_links_fragment_id_fkey"
            columns: ["fragment_id"]
            isOneToOne: false
            referencedRelation: "tb_memory_fragments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_entity_fragment_links_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      tb_insights: {
        Row: {
          actionable: boolean
          body: string
          category: string
          confidence: number
          created_at: string
          dismissed_at: string | null
          dismissed_reason: string | null
          expires_at: string | null
          id: string
          importance: number
          metadata: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          source_entity_ids: string[] | null
          source_fragment_ids: string[] | null
          status: string
          subcategory: string | null
          suggested_action: string | null
          title: string
          user_id_uuid: string
        }
        Insert: {
          actionable?: boolean
          body: string
          category: string
          confidence?: number
          created_at?: string
          dismissed_at?: string | null
          dismissed_reason?: string | null
          expires_at?: string | null
          id?: string
          importance?: number
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          source_entity_ids?: string[] | null
          source_fragment_ids?: string[] | null
          status?: string
          subcategory?: string | null
          suggested_action?: string | null
          title: string
          user_id_uuid: string
        }
        Update: {
          actionable?: boolean
          body?: string
          category?: string
          confidence?: number
          created_at?: string
          dismissed_at?: string | null
          dismissed_reason?: string | null
          expires_at?: string | null
          id?: string
          importance?: number
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          source_entity_ids?: string[] | null
          source_fragment_ids?: string[] | null
          status?: string
          subcategory?: string | null
          suggested_action?: string | null
          title?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_tb_insights__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_insights_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      tb_memory_fragments: {
        Row: {
          content: string
          created_at: string
          expires_at: string | null
          fragment_type: string
          id: string
          importance: number
          metadata: Json
          occurred_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          raw_event_id: string | null
          time_scope: string | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          content: string
          created_at?: string
          expires_at?: string | null
          fragment_type: string
          id?: string
          importance?: number
          metadata?: Json
          occurred_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          raw_event_id?: string | null
          time_scope?: string | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          content?: string
          created_at?: string
          expires_at?: string | null
          fragment_type?: string
          id?: string
          importance?: number
          metadata?: Json
          occurred_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          raw_event_id?: string | null
          time_scope?: string | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_tb_memory_fragments__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_memory_fragments_raw_event_id_fkey"
            columns: ["raw_event_id"]
            isOneToOne: false
            referencedRelation: "tb_raw_events"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_memory_fragments_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      tb_node_types: {
        Row: {
          created_at: string
          description: string | null
          id: string
          key: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          schema: Json
        }
        Insert: {
          created_at?: string
          description?: string | null
          id?: string
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          schema?: Json
        }
        Update: {
          created_at?: string
          description?: string | null
          id?: string
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          schema?: Json
        }
        Relationships: []
      }
      tb_nodes: {
        Row: {
          created_at: string
          ended_at: string | null
          household_id: string | null
          id: string
          org_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          props: Json
          source_id: string | null
          source_table: string | null
          started_at: string | null
          type: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          ended_at?: string | null
          household_id?: string | null
          id?: string
          org_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          props?: Json
          source_id?: string | null
          source_table?: string | null
          started_at?: string | null
          type: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          ended_at?: string | null
          household_id?: string | null
          id?: string
          org_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          props?: Json
          source_id?: string | null
          source_table?: string | null
          started_at?: string | null
          type?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_tb_nodes__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_nodes_household_id_fkey"
            columns: ["household_id"]
            isOneToOne: false
            referencedRelation: "households"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_nodes_org_id_fkey"
            columns: ["org_id"]
            isOneToOne: false
            referencedRelation: "organizations"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_nodes_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      tb_raw_events: {
        Row: {
          created_at: string
          id: string
          occurred_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          payload: Json
          processed: boolean
          processing_error: string | null
          source: string
          source_id: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          occurred_at: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          payload: Json
          processed?: boolean
          processing_error?: string | null
          source: string
          source_id?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          payload?: Json
          processed?: boolean
          processing_error?: string | null
          source?: string
          source_id?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_tb_raw_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_raw_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      tb_user_patterns: {
        Row: {
          confidence: number
          created_at: string
          description: string
          evidence_count: number
          first_observed_at: string
          id: string
          last_observed_at: string
          metadata: Json
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          pattern_type: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          confidence?: number
          created_at?: string
          description: string
          evidence_count?: number
          first_observed_at?: string
          id?: string
          last_observed_at?: string
          metadata?: Json
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          pattern_type: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          confidence?: number
          created_at?: string
          description?: string
          evidence_count?: number
          first_observed_at?: string
          id?: string
          last_observed_at?: string
          metadata?: Json
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          pattern_type?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_tb_user_patterns__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tb_user_patterns_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      teachings: {
        Row: {
          category: string
          created_at: string
          examples: Json | null
          id: string
          instruction: string
          is_active: boolean | null
          last_used_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          priority: number | null
          trigger: string | null
          type: string
          updated_at: string
          usage_count: number | null
          user_id_uuid: string
        }
        Insert: {
          category: string
          created_at?: string
          examples?: Json | null
          id?: string
          instruction: string
          is_active?: boolean | null
          last_used_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          priority?: number | null
          trigger?: string | null
          type: string
          updated_at?: string
          usage_count?: number | null
          user_id_uuid: string
        }
        Update: {
          category?: string
          created_at?: string
          examples?: Json | null
          id?: string
          instruction?: string
          is_active?: boolean | null
          last_used_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          priority?: number | null
          trigger?: string | null
          type?: string
          updated_at?: string
          usage_count?: number | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_teachings__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "teachings_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      theory_of_mind_profiles: {
        Row: {
          communication_style: Json | null
          conflict_patterns: Json | null
          core_traits: Json | null
          created_at: string
          current_state_hypothesis: Json | null
          entity_id: string
          id: string
          motivational_drivers: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          soothing_patterns: Json | null
          stress_triggers: Json | null
          summary: string | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          communication_style?: Json | null
          conflict_patterns?: Json | null
          core_traits?: Json | null
          created_at?: string
          current_state_hypothesis?: Json | null
          entity_id: string
          id?: string
          motivational_drivers?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          soothing_patterns?: Json | null
          stress_triggers?: Json | null
          summary?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          communication_style?: Json | null
          conflict_patterns?: Json | null
          core_traits?: Json | null
          created_at?: string
          current_state_hypothesis?: Json | null
          entity_id?: string
          id?: string
          motivational_drivers?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          soothing_patterns?: Json | null
          stress_triggers?: Json | null
          summary?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_theory_of_mind_profiles__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "theory_of_mind_profiles_entity_id_fkey"
            columns: ["entity_id"]
            isOneToOne: false
            referencedRelation: "social_entities"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "theory_of_mind_profiles_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      third_brain_events: {
        Row: {
          created_at: string
          id: string
          occurred_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          raw_payload: Json | null
          source: string
          summary: string | null
          title: string | null
          type: string
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          raw_payload?: Json | null
          source: string
          summary?: string | null
          title?: string | null
          type: string
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          occurred_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          raw_payload?: Json | null
          source?: string
          summary?: string | null
          title?: string | null
          type?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_third_brain_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "third_brain_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      third_brain_insights: {
        Row: {
          acted_at: string | null
          created_at: string
          description: string
          expires_at: string | null
          id: string
          kind: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          related_key: string | null
          severity: number | null
          status: string | null
          title: string
          user_id_uuid: string
        }
        Insert: {
          acted_at?: string | null
          created_at?: string
          description: string
          expires_at?: string | null
          id?: string
          kind: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          related_key?: string | null
          severity?: number | null
          status?: string | null
          title: string
          user_id_uuid: string
        }
        Update: {
          acted_at?: string | null
          created_at?: string
          description?: string
          expires_at?: string | null
          id?: string
          kind?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          related_key?: string | null
          severity?: number | null
          status?: string | null
          title?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_third_brain_insights__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "third_brain_insights_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      third_brain_memories: {
        Row: {
          category: string
          content: string
          created_at: string
          id: string
          importance: number | null
          key: string
          last_updated_at: string
          metadata: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          user_id_uuid: string
        }
        Insert: {
          category: string
          content: string
          created_at?: string
          id?: string
          importance?: number | null
          key: string
          last_updated_at?: string
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          user_id_uuid: string
        }
        Update: {
          category?: string
          content?: string
          created_at?: string
          id?: string
          importance?: number | null
          key?: string
          last_updated_at?: string
          metadata?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_third_brain_memories__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "third_brain_memories_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      timeline_coach_sessions: {
        Row: {
          completed_at: string | null
          created_at: string | null
          followup_actions: Json | null
          id: string
          mode: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          question: string | null
          recommendations: Json | null
          response: string | null
          selected_timeline_ids: string[] | null
          summary: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          completed_at?: string | null
          created_at?: string | null
          followup_actions?: Json | null
          id?: string
          mode: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          question?: string | null
          recommendations?: Json | null
          response?: string | null
          selected_timeline_ids?: string[] | null
          summary?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          completed_at?: string | null
          created_at?: string | null
          followup_actions?: Json | null
          id?: string
          mode?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          question?: string | null
          recommendations?: Json | null
          response?: string | null
          selected_timeline_ids?: string[] | null
          summary?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_timeline_coach_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "timeline_coach_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      timeline_commitments: {
        Row: {
          broken_count: number
          config: Json | null
          created_at: string
          decision_id: string
          description: string | null
          domain: string | null
          id: string
          is_active: boolean
          kind: string
          label: string
          last_evaluated_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          upheld_count: number
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          broken_count?: number
          config?: Json | null
          created_at?: string
          decision_id: string
          description?: string | null
          domain?: string | null
          id?: string
          is_active?: boolean
          kind: string
          label: string
          last_evaluated_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          upheld_count?: number
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          broken_count?: number
          config?: Json | null
          created_at?: string
          decision_id?: string
          description?: string | null
          domain?: string | null
          id?: string
          is_active?: boolean
          kind?: string
          label?: string
          last_evaluated_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          upheld_count?: number
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_timeline_commitments__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "timeline_commitments_decision_id_fkey"
            columns: ["decision_id"]
            isOneToOne: false
            referencedRelation: "timeline_decisions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "timeline_commitments_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      timeline_decisions: {
        Row: {
          chosen_timeline_id: string | null
          confidence: number | null
          created_at: string
          horizon_days: number
          id: string
          is_current: boolean
          label: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          perceived_benefits: Json | null
          perceived_costs: Json | null
          rationale: string | null
          run_id: string | null
          season_end: string | null
          season_start: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          chosen_timeline_id?: string | null
          confidence?: number | null
          created_at?: string
          horizon_days: number
          id?: string
          is_current?: boolean
          label?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          perceived_benefits?: Json | null
          perceived_costs?: Json | null
          rationale?: string | null
          run_id?: string | null
          season_end?: string | null
          season_start?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          chosen_timeline_id?: string | null
          confidence?: number | null
          created_at?: string
          horizon_days?: number
          id?: string
          is_current?: boolean
          label?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          perceived_benefits?: Json | null
          perceived_costs?: Json | null
          rationale?: string | null
          run_id?: string | null
          season_end?: string | null
          season_start?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_timeline_decisions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "timeline_decisions_chosen_timeline_id_fkey"
            columns: ["chosen_timeline_id"]
            isOneToOne: false
            referencedRelation: "simulation_timelines"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "timeline_decisions_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "simulation_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "timeline_decisions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      timeline_preference_profile: {
        Row: {
          comfort_zones: Json | null
          created_at: string
          domain_weights: Json | null
          id: string
          last_refreshed_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          risk_tolerance: Json | null
          sacrifice_preferences: Json | null
          summary: string | null
          time_preferences: Json | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          comfort_zones?: Json | null
          created_at?: string
          domain_weights?: Json | null
          id?: string
          last_refreshed_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          risk_tolerance?: Json | null
          sacrifice_preferences?: Json | null
          summary?: string | null
          time_preferences?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          comfort_zones?: Json | null
          created_at?: string
          domain_weights?: Json | null
          id?: string
          last_refreshed_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          risk_tolerance?: Json | null
          sacrifice_preferences?: Json | null
          summary?: string | null
          time_preferences?: Json | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_timeline_preference_profile__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "timeline_preference_profile_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      timeline_reflections: {
        Row: {
          alignment_change: number | null
          created_at: string
          decision_id: string
          felt_outcome_summary: string | null
          id: string
          lessons: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          period_end: string | null
          period_start: string | null
          regrets: Json | null
          satisfaction_score: number | null
          surprises: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          alignment_change?: number | null
          created_at?: string
          decision_id: string
          felt_outcome_summary?: string | null
          id?: string
          lessons?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          period_end?: string | null
          period_start?: string | null
          regrets?: Json | null
          satisfaction_score?: number | null
          surprises?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          alignment_change?: number | null
          created_at?: string
          decision_id?: string
          felt_outcome_summary?: string | null
          id?: string
          lessons?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          period_end?: string | null
          period_start?: string | null
          regrets?: Json | null
          satisfaction_score?: number | null
          surprises?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_timeline_reflections__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "timeline_reflections_decision_id_fkey"
            columns: ["decision_id"]
            isOneToOne: false
            referencedRelation: "timeline_decisions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "timeline_reflections_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      usage_logs: {
        Row: {
          cost_cents: number | null
          created_at: string | null
          feature: string
          id: string
          metadata: Json | null
          model: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          tokens_used: number | null
          user_id_uuid: string
        }
        Insert: {
          cost_cents?: number | null
          created_at?: string | null
          feature: string
          id?: string
          metadata?: Json | null
          model?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          tokens_used?: number | null
          user_id_uuid: string
        }
        Update: {
          cost_cents?: number | null
          created_at?: string | null
          feature?: string
          id?: string
          metadata?: Json | null
          model?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          tokens_used?: number | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_usage_logs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "usage_logs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_agi_settings: {
        Row: {
          last_updated_at: string
          level: string
          max_actions_per_run: number
          max_runs_per_day: number
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          require_confirmation_for_high_impact: boolean
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          last_updated_at?: string
          level?: string
          max_actions_per_run?: number
          max_runs_per_day?: number
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          require_confirmation_for_high_impact?: boolean
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          last_updated_at?: string
          level?: string
          max_actions_per_run?: number
          max_runs_per_day?: number
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          require_confirmation_for_high_impact?: boolean
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_agi_settings__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_agi_settings_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_archetype_profiles: {
        Row: {
          context_notes: Json | null
          created_at: string | null
          dominant_archetypes: Json | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          suppressed_archetypes: Json | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          context_notes?: Json | null
          created_at?: string | null
          dominant_archetypes?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          suppressed_archetypes?: Json | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          context_notes?: Json | null
          created_at?: string | null
          dominant_archetypes?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          suppressed_archetypes?: Json | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_archetype_profiles__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_archetype_profiles_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_daily_activity_rollup: {
        Row: {
          day: string
          event_count: number
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          day: string
          event_count?: number
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          day?: string
          event_count?: number
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: []
      }
      user_daily_activity_rollup_watermark: {
        Row: {
          last_success_at: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          last_success_at?: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          last_success_at?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: []
      }
      user_daily_activity_rollups: {
        Row: {
          day: string
          event_count: number
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          day: string
          event_count?: number
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          day?: string
          event_count?: number
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: []
      }
      user_daily_life_score: {
        Row: {
          computed_at: string
          day: string
          life_score: number
          owner_user_id: string
        }
        Insert: {
          computed_at?: string
          day: string
          life_score?: number
          owner_user_id: string
        }
        Update: {
          computed_at?: string
          day?: string
          life_score?: number
          owner_user_id?: string
        }
        Relationships: []
      }
      user_daily_momentum: {
        Row: {
          computed_at: string
          day: string
          momentum: number
          owner_user_id: string
          raw_score: number
        }
        Insert: {
          computed_at?: string
          day: string
          momentum?: number
          owner_user_id: string
          raw_score?: number
        }
        Update: {
          computed_at?: string
          day?: string
          momentum?: number
          owner_user_id?: string
          raw_score?: number
        }
        Relationships: []
      }
      user_daily_signals_cache: {
        Row: {
          computed_at: string
          day: string
          expires_at: string | null
          is_stale: boolean
          owner_user_id: string
          payload: Json
          payload_version: number
          source_hash: string | null
        }
        Insert: {
          computed_at?: string
          day: string
          expires_at?: string | null
          is_stale?: boolean
          owner_user_id: string
          payload: Json
          payload_version?: number
          source_hash?: string | null
        }
        Update: {
          computed_at?: string
          day?: string
          expires_at?: string | null
          is_stale?: boolean
          owner_user_id?: string
          payload?: Json
          payload_version?: number
          source_hash?: string | null
        }
        Relationships: []
      }
      user_daily_xp: {
        Row: {
          computed_at: string
          day: string
          owner_user_id: string
          xp: number
        }
        Insert: {
          computed_at?: string
          day: string
          owner_user_id: string
          xp?: number
        }
        Update: {
          computed_at?: string
          day?: string
          owner_user_id?: string
          xp?: number
        }
        Relationships: []
      }
      user_dashboard_layouts: {
        Row: {
          created_at: string | null
          id: string
          is_active: boolean | null
          layout_data: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          updated_at: string | null
          user_id_uuid: string
          version: number | null
        }
        Insert: {
          created_at?: string | null
          id?: string
          is_active?: boolean | null
          layout_data: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          updated_at?: string | null
          user_id_uuid: string
          version?: number | null
        }
        Update: {
          created_at?: string | null
          id?: string
          is_active?: boolean | null
          layout_data?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          updated_at?: string | null
          user_id_uuid?: string
          version?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_dashboard_layouts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_dashboard_layouts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_experiment_arms: {
        Row: {
          created_at: string
          description: string | null
          experiment_id: string
          id: string
          intervention: Json
          key: string
          owner_user_id: string | null
          owner_user_uuid: string | null
        }
        Insert: {
          created_at?: string
          description?: string | null
          experiment_id: string
          id?: string
          intervention?: Json
          key: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Update: {
          created_at?: string
          description?: string | null
          experiment_id?: string
          id?: string
          intervention?: Json
          key?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "user_experiment_arms_experiment_id_fkey"
            columns: ["experiment_id"]
            isOneToOne: false
            referencedRelation: "user_experiments"
            referencedColumns: ["id"]
          },
        ]
      }
      user_experiment_data_points: {
        Row: {
          arm_id: string | null
          created_at: string
          experiment_id: string
          id: string
          metadata: Json
          metric_key: string
          observed_at: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          value: number
        }
        Insert: {
          arm_id?: string | null
          created_at?: string
          experiment_id: string
          id?: string
          metadata?: Json
          metric_key: string
          observed_at: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          value: number
        }
        Update: {
          arm_id?: string | null
          created_at?: string
          experiment_id?: string
          id?: string
          metadata?: Json
          metric_key?: string
          observed_at?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          value?: number
        }
        Relationships: [
          {
            foreignKeyName: "user_experiment_data_points_arm_id_fkey"
            columns: ["arm_id"]
            isOneToOne: false
            referencedRelation: "user_experiment_arms"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_experiment_data_points_experiment_id_fkey"
            columns: ["experiment_id"]
            isOneToOne: false
            referencedRelation: "user_experiments"
            referencedColumns: ["id"]
          },
        ]
      }
      user_experiment_results: {
        Row: {
          created_at: string
          experiment_id: string
          id: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          summary: Json
        }
        Insert: {
          created_at?: string
          experiment_id: string
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          summary: Json
        }
        Update: {
          created_at?: string
          experiment_id?: string
          id?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          summary?: Json
        }
        Relationships: [
          {
            foreignKeyName: "user_experiment_results_experiment_id_fkey"
            columns: ["experiment_id"]
            isOneToOne: false
            referencedRelation: "user_experiments"
            referencedColumns: ["id"]
          },
        ]
      }
      user_experiments: {
        Row: {
          created_at: string
          domain: string
          end_date: string | null
          hypothesis: string | null
          id: string
          name: string
          notes: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          start_date: string | null
          status: string
          template_key: string
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          domain: string
          end_date?: string | null
          hypothesis?: string | null
          id?: string
          name: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          start_date?: string | null
          status?: string
          template_key: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          domain?: string
          end_date?: string | null
          hypothesis?: string | null
          id?: string
          name?: string
          notes?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          start_date?: string | null
          status?: string
          template_key?: string
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_experiments__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_experiments_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_focus_profile: {
        Row: {
          created_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          primary_focus: string | null
          secondary_focus: string | null
          self_description: string | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          primary_focus?: string | null
          secondary_focus?: string | null
          self_description?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          primary_focus?: string | null
          secondary_focus?: string | null
          self_description?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_focus_profile__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_focus_profile_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_interview_sessions: {
        Row: {
          answers: Json
          completed_at: string | null
          id: string
          owner_user_id: string
          started_at: string
          status: string
          user_id_uuid: string
        }
        Insert: {
          answers?: Json
          completed_at?: string | null
          id?: string
          owner_user_id: string
          started_at?: string
          status?: string
          user_id_uuid: string
        }
        Update: {
          answers?: Json
          completed_at?: string | null
          id?: string
          owner_user_id?: string
          started_at?: string
          status?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_interview_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_interview_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_job_profiles: {
        Row: {
          created_at: string | null
          custom_notes: string | null
          custom_title: string | null
          id: string
          job_graph_node_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          custom_notes?: string | null
          custom_title?: string | null
          id?: string
          job_graph_node_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          custom_notes?: string | null
          custom_title?: string | null
          id?: string
          job_graph_node_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_job_profiles__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_job_profiles_job_graph_node_id_fkey"
            columns: ["job_graph_node_id"]
            isOneToOne: false
            referencedRelation: "job_graph_nodes"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_job_profiles_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_mythic_coach_settings: {
        Row: {
          enabled: boolean
          intensity: string
          last_daily_ritual_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          preferred_framework: string | null
          session_length: string
          tone: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          enabled?: boolean
          intensity?: string
          last_daily_ritual_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          preferred_framework?: string | null
          session_length?: string
          tone?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          enabled?: boolean
          intensity?: string
          last_daily_ritual_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          preferred_framework?: string | null
          session_length?: string
          tone?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_mythic_coach_settings__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_mythic_coach_settings_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_mythic_profile: {
        Row: {
          current_chapter_id: string | null
          current_phase: string | null
          dominant_life_archetypes: Json | null
          last_story_refresh_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          recurring_motifs: Json | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          current_chapter_id?: string | null
          current_phase?: string | null
          dominant_life_archetypes?: Json | null
          last_story_refresh_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          recurring_motifs?: Json | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          current_chapter_id?: string | null
          current_phase?: string | null
          dominant_life_archetypes?: Json | null
          last_story_refresh_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          recurring_motifs?: Json | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_mythic_profile__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_mythic_profile_current_chapter_id_fkey"
            columns: ["current_chapter_id"]
            isOneToOne: false
            referencedRelation: "life_chapters"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_mythic_profile_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_nudges: {
        Row: {
          body: string
          created_at: string
          day: string
          dismissed_at: string | null
          id: string
          nudge_key: string
          owner_user_id: string
          severity: string
          shown_at: string | null
          title: string
        }
        Insert: {
          body: string
          created_at?: string
          day: string
          dismissed_at?: string | null
          id?: string
          nudge_key: string
          owner_user_id: string
          severity: string
          shown_at?: string | null
          title: string
        }
        Update: {
          body?: string
          created_at?: string
          day?: string
          dismissed_at?: string | null
          id?: string
          nudge_key?: string
          owner_user_id?: string
          severity?: string
          shown_at?: string | null
          title?: string
        }
        Relationships: []
      }
      user_onboarding_state: {
        Row: {
          created_at: string | null
          has_completed_core: boolean | null
          has_seen_finance_tour: boolean | null
          has_seen_life_tour: boolean | null
          has_seen_relationships_tour: boolean | null
          has_seen_work_tour: boolean | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          has_completed_core?: boolean | null
          has_seen_finance_tour?: boolean | null
          has_seen_life_tour?: boolean | null
          has_seen_relationships_tour?: boolean | null
          has_seen_work_tour?: boolean | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          has_completed_core?: boolean | null
          has_seen_finance_tour?: boolean | null
          has_seen_life_tour?: boolean | null
          has_seen_relationships_tour?: boolean | null
          has_seen_work_tour?: boolean | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_onboarding_state__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_onboarding_state_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_packs: {
        Row: {
          customizations: Json | null
          id: string
          installed_at: string
          is_active: boolean | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          pack_id: string
          pack_name: string
          user_id_uuid: string
        }
        Insert: {
          customizations?: Json | null
          id?: string
          installed_at?: string
          is_active?: boolean | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          pack_id: string
          pack_name: string
          user_id_uuid: string
        }
        Update: {
          customizations?: Json | null
          id?: string
          installed_at?: string
          is_active?: boolean | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          pack_id?: string
          pack_name?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_packs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_packs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_persona_tuning: {
        Row: {
          created_at: string | null
          id: string
          last_updated_at: string | null
          motion_adjustments: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          persona_key: string
          preferred_variant_key: string | null
          trait_adjustments: Json
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string | null
          id?: string
          last_updated_at?: string | null
          motion_adjustments?: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          persona_key: string
          preferred_variant_key?: string | null
          trait_adjustments?: Json
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string | null
          id?: string
          last_updated_at?: string | null
          motion_adjustments?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          persona_key?: string
          preferred_variant_key?: string | null
          trait_adjustments?: Json
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_persona_tuning__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_persona_tuning_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_philosophy_progress: {
        Row: {
          completed_at: string | null
          created_at: string
          exercise_id: string | null
          id: string
          lesson_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          response: string | null
          school_key: string
          score: number | null
          status: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          completed_at?: string | null
          created_at?: string
          exercise_id?: string | null
          id?: string
          lesson_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          response?: string | null
          school_key: string
          score?: number | null
          status?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          completed_at?: string | null
          created_at?: string
          exercise_id?: string | null
          id?: string
          lesson_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          response?: string | null
          school_key?: string
          score?: number | null
          status?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_philosophy_progress__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_philosophy_progress_exercise_id_fkey"
            columns: ["exercise_id"]
            isOneToOne: false
            referencedRelation: "philosophy_exercises"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_philosophy_progress_lesson_id_fkey"
            columns: ["lesson_id"]
            isOneToOne: false
            referencedRelation: "philosophy_lessons"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_philosophy_progress_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_plugins: {
        Row: {
          config: Json
          credentials_encrypted: string | null
          error_count: number
          id: string
          installed_at: string
          last_error: string | null
          last_sync_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          plugin_id: string
          status: string
          total_actions: number
          total_syncs: number
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          config?: Json
          credentials_encrypted?: string | null
          error_count?: number
          id?: string
          installed_at?: string
          last_error?: string | null
          last_sync_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          plugin_id: string
          status?: string
          total_actions?: number
          total_syncs?: number
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          config?: Json
          credentials_encrypted?: string | null
          error_count?: number
          id?: string
          installed_at?: string
          last_error?: string | null
          last_sync_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          plugin_id?: string
          status?: string
          total_actions?: number
          total_syncs?: number
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_plugins__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_plugins_plugin_id_fkey"
            columns: ["plugin_id"]
            isOneToOne: false
            referencedRelation: "plugins"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_plugins_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_prefs: {
        Row: {
          active_focus_task_id: string | null
          created_at: string
          focus_mode_enabled: boolean
          owner_user_id: string
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          active_focus_task_id?: string | null
          created_at?: string
          focus_mode_enabled?: boolean
          owner_user_id: string
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          active_focus_task_id?: string | null
          created_at?: string
          focus_mode_enabled?: boolean
          owner_user_id?: string
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_prefs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_prefs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_profiles: {
        Row: {
          archetype: string | null
          coach_style: string | null
          created_at: string | null
          current_energy: number | null
          current_mood: number | null
          current_stress: number | null
          dashboard_density: number | null
          email: string | null
          free_month_credits: number | null
          gamification_level: string | null
          id: string
          industry: string | null
          intensity_level: number | null
          job_title_id: string | null
          last_checkin_at: string | null
          life_season: string | null
          onboarding_completed: boolean | null
          onboarding_completed_at: string | null
          onboarding_started_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          philosophy_last_practice: string | null
          philosophy_mentor: string | null
          philosophy_streak: number | null
          plan: string | null
          profile_data: Json | null
          referral_code: string | null
          referred_by: string | null
          referred_by_user_id: string | null
          refund_eligible_at: string | null
          role_type: string | null
          specific_role: string | null
          stripe_customer_id: string | null
          stripe_subscription_id: string | null
          subscription_status: string | null
          summary: string | null
          token_balance_cents: number | null
          trial_ends_at: string | null
          updated_at: string | null
          usage_cents_this_month: number | null
          usage_reset_at: string | null
          user_id_uuid: string
        }
        Insert: {
          archetype?: string | null
          coach_style?: string | null
          created_at?: string | null
          current_energy?: number | null
          current_mood?: number | null
          current_stress?: number | null
          dashboard_density?: number | null
          email?: string | null
          free_month_credits?: number | null
          gamification_level?: string | null
          id?: string
          industry?: string | null
          intensity_level?: number | null
          job_title_id?: string | null
          last_checkin_at?: string | null
          life_season?: string | null
          onboarding_completed?: boolean | null
          onboarding_completed_at?: string | null
          onboarding_started_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          philosophy_last_practice?: string | null
          philosophy_mentor?: string | null
          philosophy_streak?: number | null
          plan?: string | null
          profile_data?: Json | null
          referral_code?: string | null
          referred_by?: string | null
          referred_by_user_id?: string | null
          refund_eligible_at?: string | null
          role_type?: string | null
          specific_role?: string | null
          stripe_customer_id?: string | null
          stripe_subscription_id?: string | null
          subscription_status?: string | null
          summary?: string | null
          token_balance_cents?: number | null
          trial_ends_at?: string | null
          updated_at?: string | null
          usage_cents_this_month?: number | null
          usage_reset_at?: string | null
          user_id_uuid: string
        }
        Update: {
          archetype?: string | null
          coach_style?: string | null
          created_at?: string | null
          current_energy?: number | null
          current_mood?: number | null
          current_stress?: number | null
          dashboard_density?: number | null
          email?: string | null
          free_month_credits?: number | null
          gamification_level?: string | null
          id?: string
          industry?: string | null
          intensity_level?: number | null
          job_title_id?: string | null
          last_checkin_at?: string | null
          life_season?: string | null
          onboarding_completed?: boolean | null
          onboarding_completed_at?: string | null
          onboarding_started_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          philosophy_last_practice?: string | null
          philosophy_mentor?: string | null
          philosophy_streak?: number | null
          plan?: string | null
          profile_data?: Json | null
          referral_code?: string | null
          referred_by?: string | null
          referred_by_user_id?: string | null
          refund_eligible_at?: string | null
          role_type?: string | null
          specific_role?: string | null
          stripe_customer_id?: string | null
          stripe_subscription_id?: string | null
          subscription_status?: string | null
          summary?: string | null
          token_balance_cents?: number | null
          trial_ends_at?: string | null
          updated_at?: string | null
          usage_cents_this_month?: number | null
          usage_reset_at?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_profiles__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_profiles_job_title_id_fkey"
            columns: ["job_title_id"]
            isOneToOne: false
            referencedRelation: "job_titles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_profiles_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_safety_settings: {
        Row: {
          allow_direct_language: boolean | null
          allow_mature_but_nonsexual: boolean | null
          created_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          tone_sensitivity: string | null
          updated_at: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          allow_direct_language?: boolean | null
          allow_mature_but_nonsexual?: boolean | null
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          tone_sensitivity?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          allow_direct_language?: boolean | null
          allow_mature_but_nonsexual?: boolean | null
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          tone_sensitivity?: string | null
          updated_at?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_safety_settings__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_safety_settings_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_settings: {
        Row: {
          owner_user_id: string
          settings: Json
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          owner_user_id: string
          settings?: Json
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          owner_user_id?: string
          settings?: Json
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_user_settings__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_settings_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_streaks: {
        Row: {
          current_streak: number
          last_active_date: string | null
          longest_streak: number
          owner_user_id: string
          rollup_key: string
          updated_at: string
        }
        Insert: {
          current_streak?: number
          last_active_date?: string | null
          longest_streak?: number
          owner_user_id: string
          rollup_key: string
          updated_at?: string
        }
        Update: {
          current_streak?: number
          last_active_date?: string | null
          longest_streak?: number
          owner_user_id?: string
          rollup_key?: string
          updated_at?: string
        }
        Relationships: []
      }
      users: {
        Row: {
          clerk_id: string | null
          clerk_user_id: string
          created_at: string | null
          email: string | null
          id: string
          name: string | null
          owner_user_id: string | null
          owner_user_uuid: string | null
          phone: string | null
          updated_at: string | null
        }
        Insert: {
          clerk_id?: string | null
          clerk_user_id: string
          created_at?: string | null
          email?: string | null
          id?: string
          name?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          phone?: string | null
          updated_at?: string | null
        }
        Update: {
          clerk_id?: string | null
          clerk_user_id?: string
          created_at?: string | null
          email?: string | null
          id?: string
          name?: string | null
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          phone?: string | null
          updated_at?: string | null
        }
        Relationships: []
      }
      value_profile: {
        Row: {
          aspiration_statement: string | null
          core_values: Json | null
          created_at: string
          id: string
          last_refreshed_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          red_lines: Json | null
          role_priorities: Json | null
          summary: string | null
          updated_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          aspiration_statement?: string | null
          core_values?: Json | null
          created_at?: string
          id?: string
          last_refreshed_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          red_lines?: Json | null
          role_priorities?: Json | null
          summary?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          aspiration_statement?: string | null
          core_values?: Json | null
          created_at?: string
          id?: string
          last_refreshed_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          red_lines?: Json | null
          role_priorities?: Json | null
          summary?: string | null
          updated_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_value_profile__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "value_profile_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      vault_access_log: {
        Row: {
          action: string
          created_at: string
          failure_reason: string | null
          id: string
          ip_address: string | null
          item_id: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          success: boolean
          user_agent: string | null
          user_id_uuid: string
        }
        Insert: {
          action: string
          created_at?: string
          failure_reason?: string | null
          id?: string
          ip_address?: string | null
          item_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          success: boolean
          user_agent?: string | null
          user_id_uuid: string
        }
        Update: {
          action?: string
          created_at?: string
          failure_reason?: string | null
          id?: string
          ip_address?: string | null
          item_id?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          success?: boolean
          user_agent?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_vault_access_log__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "vault_access_log_item_id_fkey"
            columns: ["item_id"]
            isOneToOne: false
            referencedRelation: "vault_items"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "vault_access_log_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      vault_emergency_access: {
        Row: {
          created_at: string
          encrypted_recovery_key: string
          granted_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          request_started_at: string | null
          status: string
          trusted_contact_email: string
          trusted_contact_name: string | null
          user_id_uuid: string
          waiting_period_days: number
        }
        Insert: {
          created_at?: string
          encrypted_recovery_key: string
          granted_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          request_started_at?: string | null
          status?: string
          trusted_contact_email: string
          trusted_contact_name?: string | null
          user_id_uuid: string
          waiting_period_days?: number
        }
        Update: {
          created_at?: string
          encrypted_recovery_key?: string
          granted_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          request_started_at?: string | null
          status?: string
          trusted_contact_email?: string
          trusted_contact_name?: string | null
          user_id_uuid?: string
          waiting_period_days?: number
        }
        Relationships: [
          {
            foreignKeyName: "fk_vault_emergency_access__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "vault_emergency_access_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      vault_items: {
        Row: {
          accessed_at: string | null
          created_at: string
          deleted: boolean
          deleted_at: string | null
          encrypted_data: string
          encryption_iv: string
          expires_at: string | null
          id: string
          item_name: string
          item_type: string
          key_derivation_salt: string
          metadata: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          tags: string[] | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          accessed_at?: string | null
          created_at?: string
          deleted?: boolean
          deleted_at?: string | null
          encrypted_data: string
          encryption_iv: string
          expires_at?: string | null
          id?: string
          item_name: string
          item_type: string
          key_derivation_salt: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          tags?: string[] | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          accessed_at?: string | null
          created_at?: string
          deleted?: boolean
          deleted_at?: string | null
          encrypted_data?: string
          encryption_iv?: string
          expires_at?: string | null
          id?: string
          item_name?: string
          item_type?: string
          key_derivation_salt?: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          tags?: string[] | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_vault_items__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "vault_items_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      vault_keys: {
        Row: {
          algorithm: string
          created_at: string
          id: string
          kdf: string
          kdf_iterations: number
          key_hash: string
          key_name: string
          last_used_at: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          revoked: boolean
          revoked_at: string | null
          user_id_uuid: string
        }
        Insert: {
          algorithm?: string
          created_at?: string
          id?: string
          kdf?: string
          kdf_iterations?: number
          key_hash: string
          key_name?: string
          last_used_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          revoked?: boolean
          revoked_at?: string | null
          user_id_uuid: string
        }
        Update: {
          algorithm?: string
          created_at?: string
          id?: string
          kdf?: string
          kdf_iterations?: number
          key_hash?: string
          key_name?: string
          last_used_at?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          revoked?: boolean
          revoked_at?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_vault_keys__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "vault_keys_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      vault_secure_notes: {
        Row: {
          category: string | null
          created_at: string
          encrypted_content: string
          encryption_iv: string
          id: string
          key_derivation_salt: string
          note_title: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          pinned: boolean
          tags: string[] | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          category?: string | null
          created_at?: string
          encrypted_content: string
          encryption_iv: string
          id?: string
          key_derivation_salt: string
          note_title: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          pinned?: boolean
          tags?: string[] | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          category?: string | null
          created_at?: string
          encrypted_content?: string
          encryption_iv?: string
          id?: string
          key_derivation_salt?: string
          note_title?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          pinned?: boolean
          tags?: string[] | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_vault_secure_notes__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "vault_secure_notes_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      vault_shares: {
        Row: {
          created_at: string
          encrypted_key: string
          expires_at: string | null
          id: string
          item_id: string
          owner_user_id: string
          owner_user_uuid: string | null
          permissions: string[]
          revoked: boolean
          share_token: string | null
          shared_with_user_id: string | null
          shared_with_user_uuid: string | null
        }
        Insert: {
          created_at?: string
          encrypted_key: string
          expires_at?: string | null
          id?: string
          item_id: string
          owner_user_id: string
          owner_user_uuid?: string | null
          permissions?: string[]
          revoked?: boolean
          share_token?: string | null
          shared_with_user_id?: string | null
          shared_with_user_uuid?: string | null
        }
        Update: {
          created_at?: string
          encrypted_key?: string
          expires_at?: string | null
          id?: string
          item_id?: string
          owner_user_id?: string
          owner_user_uuid?: string | null
          permissions?: string[]
          revoked?: boolean
          share_token?: string | null
          shared_with_user_id?: string | null
          shared_with_user_uuid?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "vault_shares_item_id_fkey"
            columns: ["item_id"]
            isOneToOne: false
            referencedRelation: "vault_items"
            referencedColumns: ["id"]
          },
        ]
      }
      vertical_metrics: {
        Row: {
          created_at: string
          id: string
          metrics: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          period_end: string
          period_start: string
          user_id_text: string | null
          user_id_uuid: string
          vertical_key: string
        }
        Insert: {
          created_at?: string
          id?: string
          metrics: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          period_end: string
          period_start: string
          user_id_text?: string | null
          user_id_uuid: string
          vertical_key: string
        }
        Update: {
          created_at?: string
          id?: string
          metrics?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          period_end?: string
          period_start?: string
          user_id_text?: string | null
          user_id_uuid?: string
          vertical_key?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_vertical_metrics__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "vertical_metrics_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      voice_profiles: {
        Row: {
          created_at: string | null
          default_energy: number | null
          default_intensity: number | null
          default_speed: number | null
          description: string | null
          id: string
          key: string
          name: string
          owner_user_id: string | null
          owner_user_uuid: string | null
          style: Json
        }
        Insert: {
          created_at?: string | null
          default_energy?: number | null
          default_intensity?: number | null
          default_speed?: number | null
          description?: string | null
          id?: string
          key: string
          name: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          style?: Json
        }
        Update: {
          created_at?: string | null
          default_energy?: number | null
          default_intensity?: number | null
          default_speed?: number | null
          description?: string | null
          id?: string
          key?: string
          name?: string
          owner_user_id?: string | null
          owner_user_uuid?: string | null
          style?: Json
        }
        Relationships: []
      }
      voice_sessions: {
        Row: {
          context: string
          ended_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          started_at: string
          tag: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          context?: string
          ended_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          started_at?: string
          tag?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          context?: string
          ended_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          started_at?: string
          tag?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_voice_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "voice_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      voice_turns: {
        Row: {
          created_at: string
          id: string
          metadata: Json
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          session_id: string
          speaker: string
          transcript: string
          turn_index: number
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          session_id: string
          speaker: string
          transcript: string
          turn_index: number
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          metadata?: Json
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          session_id?: string
          speaker?: string
          transcript?: string
          turn_index?: number
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_voice_turns__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "voice_turns_session_id_fkey"
            columns: ["session_id"]
            isOneToOne: false
            referencedRelation: "voice_sessions"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "voice_turns_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      voicemails: {
        Row: {
          audio_url: string | null
          caller_name: string | null
          caller_phone: string | null
          contact_id: string | null
          created_at: string | null
          deal_id: string | null
          duration_seconds: number | null
          id: string
          is_read: boolean | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          received_at: string | null
          transcript: string | null
          user_id_uuid: string
        }
        Insert: {
          audio_url?: string | null
          caller_name?: string | null
          caller_phone?: string | null
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          duration_seconds?: number | null
          id?: string
          is_read?: boolean | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          received_at?: string | null
          transcript?: string | null
          user_id_uuid: string
        }
        Update: {
          audio_url?: string | null
          caller_name?: string | null
          caller_phone?: string | null
          contact_id?: string | null
          created_at?: string | null
          deal_id?: string | null
          duration_seconds?: number | null
          id?: string
          is_read?: boolean | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          received_at?: string | null
          transcript?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_voicemails__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "voicemails_deal_id_fkey"
            columns: ["deal_id"]
            isOneToOne: false
            referencedRelation: "deals"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "voicemails_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      weekly_plans: {
        Row: {
          ai_summary: string | null
          created_at: string
          goals: Json | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          reflections: Json | null
          status: string | null
          theme: string | null
          time_blocks: Json | null
          top_priorities: Json | null
          updated_at: string
          user_id_uuid: string
          week_end: string
          week_start: string
        }
        Insert: {
          ai_summary?: string | null
          created_at?: string
          goals?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          reflections?: Json | null
          status?: string | null
          theme?: string | null
          time_blocks?: Json | null
          top_priorities?: Json | null
          updated_at?: string
          user_id_uuid: string
          week_end: string
          week_start: string
        }
        Update: {
          ai_summary?: string | null
          created_at?: string
          goals?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          reflections?: Json | null
          status?: string | null
          theme?: string | null
          time_blocks?: Json | null
          top_priorities?: Json | null
          updated_at?: string
          user_id_uuid?: string
          week_end?: string
          week_start?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_weekly_plans__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "weekly_plans_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      what_if_outcomes: {
        Row: {
          created_at: string
          highlight_differences: Json | null
          id: string
          metrics_alternate: Json | null
          metrics_baseline: Json | null
          narrative_alternate: string | null
          narrative_baseline: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          run_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          highlight_differences?: Json | null
          id?: string
          metrics_alternate?: Json | null
          metrics_baseline?: Json | null
          narrative_alternate?: string | null
          narrative_baseline?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          run_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          highlight_differences?: Json | null
          id?: string
          metrics_alternate?: Json | null
          metrics_baseline?: Json | null
          narrative_alternate?: string | null
          narrative_baseline?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          run_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_what_if_outcomes__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "what_if_outcomes_run_id_fkey"
            columns: ["run_id"]
            isOneToOne: false
            referencedRelation: "what_if_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "what_if_outcomes_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      what_if_runs: {
        Row: {
          alternate_timeline: Json | null
          baseline_timeline: Json | null
          created_at: string
          deltas: Json | null
          horizon: string
          id: string
          meta: Json | null
          mode: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          scenario_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          alternate_timeline?: Json | null
          baseline_timeline?: Json | null
          created_at?: string
          deltas?: Json | null
          horizon: string
          id?: string
          meta?: Json | null
          mode: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          scenario_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          alternate_timeline?: Json | null
          baseline_timeline?: Json | null
          created_at?: string
          deltas?: Json | null
          horizon?: string
          id?: string
          meta?: Json | null
          mode?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          scenario_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_what_if_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "what_if_runs_scenario_id_fkey"
            columns: ["scenario_id"]
            isOneToOne: false
            referencedRelation: "what_if_scenarios"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "what_if_runs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      what_if_scenarios: {
        Row: {
          alternate_assumption: string | null
          anchor_time: string | null
          base_assumption: string | null
          created_at: string
          description: string | null
          id: string
          label: string
          origin_id: string | null
          origin_type: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          parameters: Json | null
          status: string
          timescale: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          alternate_assumption?: string | null
          anchor_time?: string | null
          base_assumption?: string | null
          created_at?: string
          description?: string | null
          id?: string
          label: string
          origin_id?: string | null
          origin_type: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          parameters?: Json | null
          status?: string
          timescale?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          alternate_assumption?: string | null
          anchor_time?: string | null
          base_assumption?: string | null
          created_at?: string
          description?: string | null
          id?: string
          label?: string
          origin_id?: string | null
          origin_type?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          parameters?: Json | null
          status?: string
          timescale?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_what_if_scenarios__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "what_if_scenarios_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      wisdom_lessons: {
        Row: {
          avoid: Json | null
          condition: Json | null
          created_at: string
          domain: string | null
          evidence: Json | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          recommendation: Json | null
          scope: string
          status: string
          strength: number
          summary: string | null
          title: string
          updated_at: string
          usefulness: number
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          avoid?: Json | null
          condition?: Json | null
          created_at?: string
          domain?: string | null
          evidence?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          recommendation?: Json | null
          scope: string
          status?: string
          strength?: number
          summary?: string | null
          title: string
          updated_at?: string
          usefulness?: number
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          avoid?: Json | null
          condition?: Json | null
          created_at?: string
          domain?: string | null
          evidence?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          recommendation?: Json | null
          scope?: string
          status?: string
          strength?: number
          summary?: string | null
          title?: string
          updated_at?: string
          usefulness?: number
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_wisdom_lessons__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "wisdom_lessons_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      wisdom_playbooks: {
        Row: {
          created_at: string
          description: string | null
          domain: string | null
          heuristic_ids: string[] | null
          id: string
          key: string
          last_used_at: string | null
          lesson_ids: string[] | null
          name: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          trigger_pattern: Json | null
          updated_at: string
          usage_count: number
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          domain?: string | null
          heuristic_ids?: string[] | null
          id?: string
          key: string
          last_used_at?: string | null
          lesson_ids?: string[] | null
          name: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          trigger_pattern?: Json | null
          updated_at?: string
          usage_count?: number
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          description?: string | null
          domain?: string | null
          heuristic_ids?: string[] | null
          id?: string
          key?: string
          last_used_at?: string | null
          lesson_ids?: string[] | null
          name?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          trigger_pattern?: Json | null
          updated_at?: string
          usage_count?: number
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_wisdom_playbooks__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "wisdom_playbooks_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      wisdom_refresh_runs: {
        Row: {
          finished_at: string | null
          last_error: string | null
          last_run_at: string | null
          last_status: string | null
          owner_user_id: string
          started_at: string | null
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          finished_at?: string | null
          last_error?: string | null
          last_run_at?: string | null
          last_status?: string | null
          owner_user_id: string
          started_at?: string | null
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          finished_at?: string | null
          last_error?: string | null
          last_run_at?: string | null
          last_status?: string | null
          owner_user_id?: string
          started_at?: string | null
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_wisdom_refresh_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "wisdom_refresh_runs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      work_scoreboard_days: {
        Row: {
          autopilot_actions_count: number
          created_at: string
          day: string
          followups_done_count: number
          id: string
          inbox_done_count: number
          replies_sent_count: number
          tasks_done_count: number
          updated_at: string
          user_id_uuid: string
        }
        Insert: {
          autopilot_actions_count?: number
          created_at?: string
          day: string
          followups_done_count?: number
          id?: string
          inbox_done_count?: number
          replies_sent_count?: number
          tasks_done_count?: number
          updated_at?: string
          user_id_uuid: string
        }
        Update: {
          autopilot_actions_count?: number
          created_at?: string
          day?: string
          followups_done_count?: number
          id?: string
          inbox_done_count?: number
          replies_sent_count?: number
          tasks_done_count?: number
          updated_at?: string
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_work_scoreboard_days__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "work_scoreboard_days_user_id_uuid_fkey"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      workspace_day_log: {
        Row: {
          alignment_delta: number | null
          chosen_focus_state_id: string | null
          created_at: string | null
          date: string
          executed_timeline_id: string | null
          id: string
          key_signals: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          summary: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          alignment_delta?: number | null
          chosen_focus_state_id?: string | null
          created_at?: string | null
          date: string
          executed_timeline_id?: string | null
          id?: string
          key_signals?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          summary?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          alignment_delta?: number | null
          chosen_focus_state_id?: string | null
          created_at?: string | null
          date?: string
          executed_timeline_id?: string | null
          id?: string
          key_signals?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          summary?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_workspace_day_log__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "workspace_day_log_chosen_focus_state_id_fkey"
            columns: ["chosen_focus_state_id"]
            isOneToOne: false
            referencedRelation: "workspace_focus_states"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "workspace_day_log_executed_timeline_id_fkey"
            columns: ["executed_timeline_id"]
            isOneToOne: false
            referencedRelation: "destiny_timelines"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "workspace_day_log_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      workspace_focus_sessions: {
        Row: {
          created_at: string
          ended_at: string | null
          focus_mode: string | null
          id: string
          outcome: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          started_at: string
          state_date: string
          summary: string | null
          thread_ids: string[] | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          ended_at?: string | null
          focus_mode?: string | null
          id?: string
          outcome?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          started_at?: string
          state_date: string
          summary?: string | null
          thread_ids?: string[] | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          ended_at?: string | null
          focus_mode?: string | null
          id?: string
          outcome?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          started_at?: string
          state_date?: string
          summary?: string | null
          thread_ids?: string[] | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_workspace_focus_sessions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "workspace_focus_sessions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      workspace_focus_states: {
        Row: {
          active_branch_run_id: string | null
          active_timeline_id: string | null
          applied_at: string
          created_at: string | null
          expires_at: string | null
          focus_mode: string
          focus_tags: string[] | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          active_branch_run_id?: string | null
          active_timeline_id?: string | null
          applied_at?: string
          created_at?: string | null
          expires_at?: string | null
          focus_mode?: string
          focus_tags?: string[] | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          active_branch_run_id?: string | null
          active_timeline_id?: string | null
          applied_at?: string
          created_at?: string | null
          expires_at?: string | null
          focus_mode?: string
          focus_tags?: string[] | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_workspace_focus_states__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "workspace_focus_states_active_branch_run_id_fkey"
            columns: ["active_branch_run_id"]
            isOneToOne: false
            referencedRelation: "branch_simulation_runs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "workspace_focus_states_active_timeline_id_fkey"
            columns: ["active_timeline_id"]
            isOneToOne: false
            referencedRelation: "destiny_timelines"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "workspace_focus_states_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      workspace_interrupts: {
        Row: {
          details: Json | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          resolution_action: string | null
          resolved_at: string | null
          severity: number
          source: string
          summary: string
          triggered_at: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          details?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          resolution_action?: string | null
          resolved_at?: string | null
          severity: number
          source: string
          summary: string
          triggered_at?: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          details?: Json | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          resolution_action?: string | null
          resolved_at?: string | null
          severity?: number
          source?: string
          summary?: string
          triggered_at?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_workspace_interrupts__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "workspace_interrupts_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      workspace_state: {
        Row: {
          active_thread_ids: string[] | null
          attention_budget_minutes: number | null
          attention_load: number | null
          created_at: string
          ethical_alert: boolean | null
          ethical_notes: string | null
          focus_mode: string
          focus_theme: string | null
          id: string
          key_opportunities: Json | null
          key_tensions: Json | null
          last_updated_at: string
          narrative_chapter_id: string | null
          narrative_logline: string | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          state_date: string
          user_id_text: string | null
          user_id_uuid: string
          wisdom_summary: string | null
        }
        Insert: {
          active_thread_ids?: string[] | null
          attention_budget_minutes?: number | null
          attention_load?: number | null
          created_at?: string
          ethical_alert?: boolean | null
          ethical_notes?: string | null
          focus_mode?: string
          focus_theme?: string | null
          id?: string
          key_opportunities?: Json | null
          key_tensions?: Json | null
          last_updated_at?: string
          narrative_chapter_id?: string | null
          narrative_logline?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          state_date: string
          user_id_text?: string | null
          user_id_uuid: string
          wisdom_summary?: string | null
        }
        Update: {
          active_thread_ids?: string[] | null
          attention_budget_minutes?: number | null
          attention_load?: number | null
          created_at?: string
          ethical_alert?: boolean | null
          ethical_notes?: string | null
          focus_mode?: string
          focus_theme?: string | null
          id?: string
          key_opportunities?: Json | null
          key_tensions?: Json | null
          last_updated_at?: string
          narrative_chapter_id?: string | null
          narrative_logline?: string | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          state_date?: string
          user_id_text?: string | null
          user_id_uuid?: string
          wisdom_summary?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_workspace_state__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "workspace_state_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      workspace_threads: {
        Row: {
          attention_cost_minutes: number | null
          carry_forward: boolean | null
          created_at: string
          emotional_valence: number | null
          id: string
          importance: number
          is_pinned: boolean | null
          kind: string
          last_evaluated_at: string | null
          last_touched_at: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          ref_id: string | null
          ref_type: string | null
          risk_flags: Json | null
          snooze_until: string | null
          source: string | null
          status: string
          summary: string | null
          title: string
          urgency: number
          user_id_text: string | null
          user_id_uuid: string
          wisdom_tags: string[] | null
        }
        Insert: {
          attention_cost_minutes?: number | null
          carry_forward?: boolean | null
          created_at?: string
          emotional_valence?: number | null
          id?: string
          importance?: number
          is_pinned?: boolean | null
          kind: string
          last_evaluated_at?: string | null
          last_touched_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          ref_id?: string | null
          ref_type?: string | null
          risk_flags?: Json | null
          snooze_until?: string | null
          source?: string | null
          status?: string
          summary?: string | null
          title: string
          urgency?: number
          user_id_text?: string | null
          user_id_uuid: string
          wisdom_tags?: string[] | null
        }
        Update: {
          attention_cost_minutes?: number | null
          carry_forward?: boolean | null
          created_at?: string
          emotional_valence?: number | null
          id?: string
          importance?: number
          is_pinned?: boolean | null
          kind?: string
          last_evaluated_at?: string | null
          last_touched_at?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          ref_id?: string | null
          ref_type?: string | null
          risk_flags?: Json | null
          snooze_until?: string | null
          source?: string | null
          status?: string
          summary?: string | null
          title?: string
          urgency?: number
          user_id_text?: string | null
          user_id_uuid?: string
          wisdom_tags?: string[] | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_workspace_threads__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "workspace_threads_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      workspace_timeline_links: {
        Row: {
          created_at: string
          id: string
          opportunity_if_addressed: Json | null
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          projected_impact: Json | null
          risk_if_ignored: Json | null
          state_date: string
          thread_id: string
          timeline_id: string
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          id?: string
          opportunity_if_addressed?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          projected_impact?: Json | null
          risk_if_ignored?: Json | null
          state_date: string
          thread_id: string
          timeline_id: string
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          id?: string
          opportunity_if_addressed?: Json | null
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          projected_impact?: Json | null
          risk_if_ignored?: Json | null
          state_date?: string
          thread_id?: string
          timeline_id?: string
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_workspace_timeline_links__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "workspace_timeline_links_timeline_id_fkey"
            columns: ["timeline_id"]
            isOneToOne: false
            referencedRelation: "simulation_timelines"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "workspace_timeline_links_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      workspaces: {
        Row: {
          created_at: string
          id: string
          name: string
          owner_user_id: string
          owner_user_uuid: string | null
        }
        Insert: {
          created_at?: string
          id?: string
          name?: string
          owner_user_id: string
          owner_user_uuid?: string | null
        }
        Update: {
          created_at?: string
          id?: string
          name?: string
          owner_user_id?: string
          owner_user_uuid?: string | null
        }
        Relationships: []
      }
      xp_evaluation_runs: {
        Row: {
          created_at: string
          evaluator_key: string
          evaluator_version: number
          evidence_id: string
          id: string
          owner_user_id: string
          result_meta: Json
          result_xp: Json
          user_id_text: string | null
          user_id_uuid: string
        }
        Insert: {
          created_at?: string
          evaluator_key: string
          evaluator_version: number
          evidence_id: string
          id?: string
          owner_user_id: string
          result_meta?: Json
          result_xp?: Json
          user_id_text?: string | null
          user_id_uuid: string
        }
        Update: {
          created_at?: string
          evaluator_key?: string
          evaluator_version?: number
          evidence_id?: string
          id?: string
          owner_user_id?: string
          result_meta?: Json
          result_xp?: Json
          user_id_text?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_xp_evaluation_runs__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "xp_evaluation_runs_evidence_id_fkey"
            columns: ["evidence_id"]
            isOneToOne: false
            referencedRelation: "life_evidence"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "xp_evaluation_runs_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      xp_evaluators: {
        Row: {
          config: Json
          created_at: string
          description: string | null
          id: string
          is_active: boolean
          key: string
          version: number
        }
        Insert: {
          config?: Json
          created_at?: string
          description?: string | null
          id?: string
          is_active?: boolean
          key: string
          version: number
        }
        Update: {
          config?: Json
          created_at?: string
          description?: string | null
          id?: string
          is_active?: boolean
          key?: string
          version?: number
        }
        Relationships: []
      }
      xp_events: {
        Row: {
          activity: string
          base_xp: number
          category: string
          created_at: string
          crit_multiplier: number
          final_xp: number
          id: string
          identity_bonus: number
          notes: string | null
          occurred_at: string
          owner_user_id: string
          ref_id: string | null
          ref_table: string | null
          source_id: string | null
          source_type: string | null
          user_id_uuid: string
          was_crit: boolean
        }
        Insert: {
          activity: string
          base_xp?: number
          category?: string
          created_at?: string
          crit_multiplier?: number
          final_xp?: number
          id?: string
          identity_bonus?: number
          notes?: string | null
          occurred_at?: string
          owner_user_id: string
          ref_id?: string | null
          ref_table?: string | null
          source_id?: string | null
          source_type?: string | null
          user_id_uuid: string
          was_crit?: boolean
        }
        Update: {
          activity?: string
          base_xp?: number
          category?: string
          created_at?: string
          crit_multiplier?: number
          final_xp?: number
          id?: string
          identity_bonus?: number
          notes?: string | null
          occurred_at?: string
          owner_user_id?: string
          ref_id?: string | null
          ref_table?: string | null
          source_id?: string | null
          source_type?: string | null
          user_id_uuid?: string
          was_crit?: boolean
        }
        Relationships: [
          {
            foreignKeyName: "fk_xp_events__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "xp_events_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      xp_ledger: {
        Row: {
          amount: number
          created_at: string
          evaluator_key: string | null
          evaluator_version: number | null
          evidence_id: string | null
          id: string
          memo: string | null
          owner_user_id: string
          reversal_of: string | null
          source_id: string | null
          source_kind: string
          user_id_text: string | null
          user_id_uuid: string
          xp_type: Database["public"]["Enums"]["xp_kind"]
        }
        Insert: {
          amount: number
          created_at?: string
          evaluator_key?: string | null
          evaluator_version?: number | null
          evidence_id?: string | null
          id?: string
          memo?: string | null
          owner_user_id: string
          reversal_of?: string | null
          source_id?: string | null
          source_kind: string
          user_id_text?: string | null
          user_id_uuid: string
          xp_type: Database["public"]["Enums"]["xp_kind"]
        }
        Update: {
          amount?: number
          created_at?: string
          evaluator_key?: string | null
          evaluator_version?: number | null
          evidence_id?: string | null
          id?: string
          memo?: string | null
          owner_user_id?: string
          reversal_of?: string | null
          source_id?: string | null
          source_kind?: string
          user_id_text?: string | null
          user_id_uuid?: string
          xp_type?: Database["public"]["Enums"]["xp_kind"]
        }
        Relationships: [
          {
            foreignKeyName: "fk_xp_ledger__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "xp_ledger_evidence_id_fkey"
            columns: ["evidence_id"]
            isOneToOne: false
            referencedRelation: "life_evidence"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "xp_ledger_reversal_of_fkey"
            columns: ["reversal_of"]
            isOneToOne: false
            referencedRelation: "xp_ledger"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "xp_ledger_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
      xp_transactions: {
        Row: {
          amount: number
          created_at: string | null
          id: string
          owner_user_id: string | null
          owner_user_id_legacy: string
          owner_user_uuid: string | null
          reason: string
          source_id: string | null
          source_type: string | null
          user_id_uuid: string
        }
        Insert: {
          amount: number
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy: string
          owner_user_uuid?: string | null
          reason: string
          source_id?: string | null
          source_type?: string | null
          user_id_uuid: string
        }
        Update: {
          amount?: number
          created_at?: string | null
          id?: string
          owner_user_id?: string | null
          owner_user_id_legacy?: string
          owner_user_uuid?: string | null
          reason?: string
          source_id?: string | null
          source_type?: string | null
          user_id_uuid?: string
        }
        Relationships: [
          {
            foreignKeyName: "fk_xp_transactions__user_id_uuid"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "xp_transactions_user_id_uuid_fkey_identity_users"
            columns: ["user_id_uuid"]
            isOneToOne: false
            referencedRelation: "identity_users"
            referencedColumns: ["id"]
          },
        ]
      }
    }
    Views: {
      canon_dashboard: {
        Row: {
          has_pulse_user_owns_row: boolean | null
          has_user_id_text: boolean | null
          has_user_id_uuid: boolean | null
          migration_priority: number | null
          status: string | null
          table_name: unknown
          user_id_type: string | null
          user_id_uuid_type: string | null
        }
        Relationships: []
      }
      canon_health_summary: {
        Row: {
          identities_human_active: number | null
          identities_orphan_active: number | null
          identities_orphan_archived: number | null
          identities_system: number | null
          identity_users_total: number | null
          quarantine_rows_total: number | null
        }
        Relationships: []
      }
      health_core_summary: {
        Row: {
          active_identities: number | null
          deals_null_owner: number | null
          follow_ups_null_owner: number | null
          tasks_null_owner: number | null
          zero_uuid_events_24h: number | null
          zero_uuid_events_total: number | null
        }
        Relationships: []
      }
      health_rls_status: {
        Row: {
          rowsecurity: boolean | null
          schemaname: unknown
          tablename: unknown
        }
        Relationships: []
      }
      job_provider_health_view: {
        Row: {
          completed: number | null
          failed: number | null
          failure_rate: number | null
          provider: string | null
          status: string | null
          total: number | null
          updated_at: string | null
          window_minutes: number | null
        }
        Insert: {
          completed?: number | null
          failed?: number | null
          failure_rate?: number | null
          provider?: string | null
          status?: string | null
          total?: number | null
          updated_at?: string | null
          window_minutes?: number | null
        }
        Update: {
          completed?: number | null
          failed?: number | null
          failure_rate?: number | null
          provider?: string | null
          status?: string | null
          total?: number | null
          updated_at?: string | null
          window_minutes?: number | null
        }
        Relationships: []
      }
      job_provider_incidents_recent: {
        Row: {
          at: string | null
          failure_rate: number | null
          id: number | null
          meta: Json | null
          provider: string | null
          sample_failed: number | null
          sample_total: number | null
          status: string | null
        }
        Relationships: []
      }
      job_queue_events_c9: {
        Row: {
          at: string | null
          event: string | null
          id: string | null
          job_id: string | null
          level: string | null
          message: string | null
          meta: Json | null
        }
        Insert: {
          at?: string | null
          event?: never
          id?: string | null
          job_id?: string | null
          level?: string | null
          message?: string | null
          meta?: Json | null
        }
        Update: {
          at?: string | null
          event?: never
          id?: string | null
          job_id?: string | null
          level?: string | null
          message?: string | null
          meta?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "job_queue_events_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "job_queue"
            referencedColumns: ["id"]
          },
        ]
      }
      job_queue_metrics_daily: {
        Row: {
          completed: number | null
          day: string | null
          failed: number | null
          recovered_stuck: number | null
        }
        Relationships: []
      }
      job_queue_reliability_24h: {
        Row: {
          completed: number | null
          failed: number | null
          lost_lease: number | null
          recovered_stuck: number | null
          retry_scheduled: number | null
          started: number | null
          success_rate: number | null
        }
        Relationships: []
      }
      ops_rate_window_all: {
        Row: {
          count: number | null
          owner_user_id: string | null
          route_key: string | null
          source: string | null
          window_seconds: number | null
          window_start: string | null
        }
        Relationships: []
      }
      schema_identity_violations: {
        Row: {
          column_name: unknown
          data_type: string | null
          table_name: unknown
          table_schema: unknown
        }
        Relationships: []
      }
      user_id_canon_audit: {
        Row: {
          has_pulse_user_owns_row: boolean | null
          rls_enabled: boolean | null
          table_name: string | null
          table_schema: string | null
          user_id_fk_violations_global: number | null
          user_id_not_text: boolean | null
        }
        Relationships: []
      }
      vault_shares_with_them: {
        Row: {
          created_at: string | null
          id: string | null
          shared_with_user_uuid: string | null
          vault_item_ref: string | null
        }
        Insert: {
          created_at?: string | null
          id?: string | null
          shared_with_user_uuid?: string | null
          vault_item_ref?: string | null
        }
        Update: {
          created_at?: string | null
          id?: string | null
          shared_with_user_uuid?: string | null
          vault_item_ref?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "vault_shares_item_id_fkey"
            columns: ["vault_item_ref"]
            isOneToOne: false
            referencedRelation: "vault_items"
            referencedColumns: ["id"]
          },
        ]
      }
    }
    Functions: {
      _canon_event_day: {
        Args: { p_created_at: string; p_occurred_at: string }
        Returns: string
      }
      _canon_has_col: {
        Args: { p_col: string; p_schema: string; p_table: string }
        Returns: boolean
      }
      _canon_try_uuid: { Args: { p_text: string }; Returns: string }
      _clamp_int: {
        Args: { hi: number; lo: number; p: number }
        Returns: number
      }
      _insert_nudge_if_not_in_cooldown: {
        Args: { p_day: string; p_nudge_key: string; p_owner_user_id: string }
        Returns: number
      }
      _invalidate_signals_cache_range_all_users: {
        Args: { p_end_day: string; p_start_day: string }
        Returns: undefined
      }
      _invalidate_signals_cache_today_all_users: {
        Args: never
        Returns: undefined
      }
      _jobq_now_utc: { Args: never; Returns: string }
      _jq_pick_ts_col: { Args: { p_table: string }; Returns: string }
      _ops_rate_window_view_rebuild: { Args: never; Returns: undefined }
      _pulse_table_exists: { Args: { p_reg: unknown }; Returns: boolean }
      _rate_window_job_queue_cols: {
        Args: never
        Returns: {
          col_count: string
          col_owner: string
          col_route: string
          col_seconds: string
          col_window: string
        }[]
      }
      append_call_transcript: {
        Args: { p_call_sid: string; p_text: string }
        Returns: undefined
      }
      apply_decay: {
        Args: { p_days_missing: number; p_rollup_key: string; p_value: number }
        Returns: number
      }
      assert_canonical_schema: {
        Args: { p_domain?: string }
        Returns: undefined
      }
      assert_email_canonical: { Args: never; Returns: undefined }
      assert_no_user_id_fks: { Args: never; Returns: undefined }
      assert_schema_identity: { Args: never; Returns: undefined }
      assert_text_user_id: { Args: { val: unknown }; Returns: undefined }
      backfill_daily_activity_rollup_jobs: {
        Args: { p_end_day: string; p_start_day: string; p_user_id_uuid: string }
        Returns: undefined
      }
      backfill_recent_daily_activity_rollups: {
        Args: { p_days: number; p_enqueue?: boolean }
        Returns: number
      }
      canary_ping: { Args: never; Returns: boolean }
      canon_assert: { Args: { p_domain?: string }; Returns: undefined }
      canon_assert_email: { Args: never; Returns: undefined }
      canon_autofix: { Args: { p_domain?: string }; Returns: undefined }
      canon_autofix_email: { Args: never; Returns: undefined }
      canon_is_allowlisted: {
        Args: { p_schema: string; p_table: string }
        Returns: boolean
      }
      canon_replace_pulse_user_owns_row_uuid: {
        Args: { p_schema: string; p_table: string }
        Returns: undefined
      }
      canon_run_email: { Args: never; Returns: Json }
      compute_daily_life_score: {
        Args: { p_day: string; p_owner_user_id: string }
        Returns: number
      }
      compute_daily_momentum: {
        Args: { p_day: string; p_owner_user_id: string }
        Returns: number
      }
      compute_daily_xp: {
        Args: { p_day: string; p_owner_user_id: string }
        Returns: number
      }
      compute_entity_importance: {
        Args: { entity_id_param: string; match_user_id: string }
        Returns: number
      }
      compute_job_queue_alerts: { Args: never; Returns: undefined }
      compute_job_queue_budget_rollover: {
        Args: { p_day: string }
        Returns: undefined
      }
      compute_job_queue_health: {
        Args: { p_window_seconds?: number }
        Returns: undefined
      }
      compute_rollup: {
        Args: { p_end_date: string; p_rollup_key: string; p_start_date: string }
        Returns: undefined
      }
      compute_streak_risk: {
        Args: { p_day: string; p_owner_user_id: string; p_rollup_key: string }
        Returns: {
          reason: string
          risk: number
        }[]
      }
      create_canonical_user_table: {
        Args: { p_schema: string; p_table: string; p_with_id?: boolean }
        Returns: undefined
      }
      create_tasks_for_needs_response: {
        Args: { p_limit?: number; p_owner_user_id: string }
        Returns: number
      }
      crm_followup_create: {
        Args: {
          p_contact_id: string
          p_due_at: string
          p_owner_user_id: string
          p_reason?: string
          p_source?: string
          p_suggested_action?: string
        }
        Returns: string
      }
      crm_followup_mark_done:
      | {
        Args: { p_followup_id: string; p_owner_user_id: string }
        Returns: undefined
      }
      | {
        Args: {
          p_done_at?: string
          p_followup_id: string
          p_notes?: string
          p_outcome?: string
          p_owner_user_id: string
        }
        Returns: undefined
      }
      crm_influence_event_add: {
        Args: {
          p_contact_id: string
          p_impact_score?: number
          p_meta?: Json
          p_notes?: string
          p_occurred_at?: string
          p_owner_user_id: string
          p_type: string
        }
        Returns: string
      }
      crm_interaction_add:
      | {
        Args: {
          p_contact_id: string
          p_direction: string
          p_occurred_at?: string
          p_sentiment: string
          p_subject: string
          p_summary: string
          p_type: string
        }
        Returns: string
      }
      | {
        Args: {
          p_body?: string
          p_channel?: string
          p_contact_id: string
          p_duration_seconds?: number
          p_kind: string
          p_meta?: Json
          p_occurred_at?: string
          p_owner_user_id: string
          p_sentiment?: number
          p_subject?: string
        }
        Returns: {
          days_since_last_interaction: number
          interaction_id: string
          last_interaction_at: string
          open_followups: number
          risk_level: string
          score: number
        }[]
      }
      | {
        Args: {
          p_channel?: string
          p_contact_id: string
          p_happened_at?: string
          p_metadata?: Json
          p_owner_user_id: string
          p_summary?: string
          p_type: string
        }
        Returns: string
      }
      crm_oracle_bundle: {
        Args: { p_limit?: number; p_owner_user_id: string }
        Returns: Json
      }
      crm_relationship_ensure: {
        Args: { p_contact_id: string }
        Returns: string
      }
      crm_relationship_oracle_bundle: {
        Args: never
        Returns: {
          company: string
          contact_id: string
          full_name: string
          last_interaction_at: string
          relationship_score: number
          risk_level: string
          title: string
        }[]
      }
      crm_relationship_oracle_bundle_ops: {
        Args: { p_owner_user_uuid: string }
        Returns: {
          company: string
          contact_id: string
          full_name: string
          last_interaction_at: string
          relationship_score: number
          risk_level: string
          title: string
        }[]
      }
      crm_relationship_score_recompute: {
        Args: { p_contact_id: string; p_owner_user_id: string }
        Returns: {
          contact_id: string
          days_since_last_interaction: number | null
          last_interaction_at: string | null
          notes: string | null
          open_followups: number
          owner_user_id: string
          risk_level: string
          score: number
          updated_at: string
        }
        SetofOptions: {
          from: "*"
          to: "crm_relationship_scores"
          isOneToOne: true
          isSetofReturn: false
        }
      }
      crm_self_contact_ensure: { Args: never; Returns: string }
      current_clerk_user_id: { Args: never; Returns: string }
      current_user_id_uuid: { Args: never; Returns: string }
      current_user_row_id: { Args: never; Returns: string }
      current_user_sub: { Args: never; Returns: string }
      dev_find_user_uuid: {
        Args: never
        Returns: {
          raw_value: string
          source_column: string
          source_table: string
          user_uuid: string
        }[]
      }
      email_outbox_claim: {
        Args: { p_lease_seconds?: number; p_limit: number; p_worker_id: string }
        Returns: {
          approval_status: string
          approved_at: string | null
          approved_by_user: boolean | null
          attempt_count: number
          auto_fix_payload: Json | null
          auto_fix_suggested: boolean
          body_text: string
          cancel_reason: string | null
          created_at: string
          decision_note: string | null
          defer_until: string | null
          dismissed_at: string | null
          email_thread_id: string
          error: string | null
          evidence: Json
          failure_code: string | null
          id: string
          include_quote: boolean
          last_error: string | null
          lease_expires_at: string | null
          leased_at: string | null
          leased_by: string | null
          max_attempts: number
          next_attempt_at: string | null
          owner_user_id: string | null
          quoted_message: string | null
          safe_checksum: string
          safe_mode: boolean
          scheduled_send_at: string | null
          send_intent: string | null
          source_draft_id: string | null
          status: string
          subject: string
          to_email: string
          trace_id: string | null
          undo_until: string | null
          user_id_text: string | null
          user_id_uuid: string
        }[]
        SetofOptions: {
          from: "*"
          to: "email_outbox"
          isOneToOne: false
          isSetofReturn: true
        }
      }
      enforce_canonical_schema: {
        Args: { p_domain: string; p_table_name: string; p_table_schema: string }
        Returns: undefined
      }
      enqueue_daily_activity_rollup_job: {
        Args: { p_day: string; p_user_id_uuid: string }
        Returns: undefined
      }
      ensure_column: {
        Args: {
          p_backfill?: boolean
          p_column: string
          p_default_sql?: string
          p_schema: string
          p_table: string
          p_type: string
        }
        Returns: undefined
      }
      ensure_job_queue_daily_budget_row: {
        Args: { p_day: string; p_tier: string; p_user_id: string }
        Returns: undefined
      }
      evaluate_daily_quests: {
        Args: { p_quest_date: string; p_user_id: string }
        Returns: {
          completed_at: string | null
          created_at: string
          description: string | null
          id: string
          is_completed: boolean
          meta: Json
          owner_user_id: string
          progress: number
          quest_date: string
          quest_key: string
          reward_xp: number
          target: number
          title: string
          updated_at: string
          user_id_uuid: string
        }[]
        SetofOptions: {
          from: "*"
          to: "daily_quests"
          isOneToOne: false
          isSetofReturn: true
        }
      }
      fn_time_bucket_key: {
        Args: { p_at: string; p_minutes: number }
        Returns: string
      }
      generate_daily_nudges: {
        Args: { p_day: string; p_owner_user_id: string }
        Returns: number
      }
      generate_referral_code: { Args: never; Returns: string }
      get_active_entities: {
        Args: {
          match_user_id: string
          min_mentions?: number
          since_days?: number
        }
        Returns: {
          entity_id: string
          entity_name: string
          entity_type: string
          last_mentioned: string
          recent_mentions: number
        }[]
      }
      get_related_entities: {
        Args: {
          match_user_id: string
          max_depth?: number
          min_weight?: number
          start_entity_id: string
        }
        Returns: {
          depth: number
          entity_id: string
          entity_name: string
          entity_type: string
          path_weight: number
        }[]
      }
      guard_user_id_types: {
        Args: never
        Returns: {
          ok: boolean
          table_name: string
          user_id_data_type: string
        }[]
      }
      increment_teaching_usage: {
        Args: { teaching_id: string }
        Returns: undefined
      }
      is_current_user: { Args: { user_id: string }; Returns: boolean }
      job_health_summary: {
        Args: never
        Returns: {
          avg_duration_ms: number
          failures: number
          job_name: string
          runs: number
        }[]
      }
      job_provider_from_event_meta: { Args: { p_meta: Json }; Returns: string }
      job_provider_health_tick_c10: {
        Args: {
          p_degraded_threshold?: number
          p_outage_threshold?: number
          p_window_minutes?: number
        }
        Returns: undefined
      }
      job_queue_adaptive_delay_c10: {
        Args: {
          p_base_delay_seconds?: number
          p_max_delay_seconds?: number
          p_provider: string
        }
        Returns: number
      }
      job_queue_apply_credits: {
        Args: {
          p_day: string
          p_delta: number
          p_job_id?: string
          p_meta?: Json
          p_reason: string
          p_user_id: string
        }
        Returns: undefined
      }
      job_queue_complete_c8: {
        Args: {
          p_error?: string
          p_job_id: string
          p_meta?: Json
          p_now?: string
          p_outcome: string
          p_output?: Json
          p_worker_id: string
        }
        Returns: {
          final_status: string
          job_id: string
          next_run_at: string
          refunded: number
        }[]
      }
      job_queue_compute_cost: {
        Args: {
          p_is_burst: boolean
          p_kind: string
          p_priority: number
          p_tier: string
          p_user_id: string
        }
        Returns: number
      }
      job_queue_effective_budget: {
        Args: { p_day: string; p_user_id: string }
        Returns: {
          base_budget: number
          burst_budget: number
          effective_budget: number
          rollover_budget: number
          tier: string
        }[]
      }
      job_queue_heartbeat_c8: {
        Args: {
          p_job_id: string
          p_lease_seconds?: number
          p_worker_id: string
        }
        Returns: {
          heartbeat_at: string
          id: string
          lease_expires_at: string
          ok: boolean
        }[]
      }
      job_queue_lane_rank: { Args: { p_lane: string }; Returns: number }
      job_queue_lease_any_budgeted: {
        Args: {
          p_default_daily_budget?: number
          p_lock_seconds?: number
          p_locked_by: string
          p_max_running_per_user?: number
        }
        Returns: {
          attempts: number
          correlation_id: string
          id: string
          idempotency_key: string
          job_type: string
          max_attempts: number
          payload: Json
          priority: number
          run_at: string
          status: string
          user_id: string
        }[]
      }
      job_queue_lease_any_c5: {
        Args: {
          p_default_daily_budget?: number
          p_lock_seconds?: number
          p_locked_by: string
          p_max_running_per_user?: number
          p_window_limit?: number
          p_window_seconds?: number
        }
        Returns: {
          attempts: number
          correlation_id: string
          id: string
          idempotency_key: string
          job_type: string
          max_attempts: number
          payload: Json
          priority: number
          run_at: string
          status: string
          user_id: string
        }[]
      }
      job_queue_lease_any_c6: {
        Args: { p_now?: string; p_user_id: string; p_worker_id: string }
        Returns: {
          job_id: string
          kind: string
          lane: string
          payload: Json
        }[]
      }
      job_queue_lease_any_c7: {
        Args: { p_now?: string; p_user_id: string; p_worker_id: string }
        Returns: {
          cost: number
          job_id: string
          kind: string
          lane: string
          payload: Json
        }[]
      }
      job_queue_lease_any_next: {
        Args: { p_lock_seconds?: number; p_locked_by: string }
        Returns: {
          attempts: number
          correlation_id: string
          id: string
          idempotency_key: string
          job_type: string
          max_attempts: number
          payload: Json
          priority: number
          run_at: string
          status: string
          user_id: string
        }[]
      }
      job_queue_lease_any_scheduled: {
        Args: {
          p_lock_seconds?: number
          p_locked_by: string
          p_max_running_per_user?: number
        }
        Returns: {
          attempts: number
          correlation_id: string
          id: string
          idempotency_key: string
          job_type: string
          max_attempts: number
          payload: Json
          priority: number
          run_at: string
          status: string
          user_id: string
        }[]
      }
      job_queue_lease_next: {
        Args: {
          p_lock_seconds?: number
          p_locked_by: string
          p_user_id: string
        }
        Returns: {
          attempts: number
          correlation_id: string
          id: string
          idempotency_key: string
          job_type: string
          max_attempts: number
          payload: Json
          priority: number
          run_at: string
          status: string
          user_id: string
        }[]
      }
      job_queue_recover_stuck: {
        Args: { p_lock_age_seconds?: number }
        Returns: number
      }
      job_queue_recover_stuck_running_c8: {
        Args: { p_batch?: number; p_stale_heartbeat_seconds?: number }
        Returns: {
          recovered_count: number
          recovered_ids: string[]
        }[]
      }
      job_queue_recover_stuck_running_c8_count: {
        Args: { p_batch?: number; p_stale_heartbeat_seconds?: number }
        Returns: number
      }
      job_queue_retry_backoff: { Args: { attempts: number }; Returns: unknown }
      job_queue_runs: {
        Args: { p_limit?: number; p_user_id: string }
        Returns: {
          correlation_id: string
          failed: number
          last_ts: string
          queued: number
          running: number
          succeeded: number
        }[]
      }
      job_queue_sla_escalate_c9: {
        Args: {
          p_lane_when_breached?: string
          p_now?: string
          p_priority_bump?: number
        }
        Returns: number
      }
      job_queue_start_c8:
      | {
        Args: { p_job_id: string; p_worker_id: string }
        Returns: undefined
      }
      | {
        Args: {
          p_job_id: string
          p_lease_seconds?: number
          p_worker_id: string
        }
        Returns: {
          attempts: number
          id: string
          lease_expires_at: string
          max_attempts: number
          payload: Json
          started_at: string
          status: string
        }[]
      }
      life_score_attribution: {
        Args: { p_day?: string }
        Returns: {
          contribution: number
          contribution_pct: number
          day: string
          rollup_key: string
          value: number
          weight: number
        }[]
      }
      log_activity: {
        Args: {
          p_detail: string
          p_event_ts: string
          p_event_type: string
          p_payload: Json
          p_source: string
          p_title: string
          p_user_id: string
        }
        Returns: string
      }
      momentum_event_ingest: {
        Args: {
          p_domain_slug: string
          p_occurred_at: string
          p_owner_user_id: string
          p_signal_type: string
          p_signal_weight: number
          p_source_event_id: string
        }
        Returns: string
      }
      momentum_history_read: {
        Args: {
          p_days?: number
          p_domain_slug?: string
          p_owner_user_id: string
        }
        Returns: {
          day: string
          domain_slug: string
          event_count: number
          momentum_score: number
          streak: number
        }[]
      }
      nudge_dismiss: { Args: { p_nudge_id: string }; Returns: undefined }
      nudge_mark_shown: { Args: { p_nudge_id: string }; Returns: undefined }
      ops_audit_append: {
        Args: {
          p_duration_ms: number
          p_ip?: string
          p_meta?: Json
          p_method: string
          p_owner_user_id: string
          p_path: string
          p_request_id?: string
          p_route_key: string
          p_status: number
          p_user_agent?: string
        }
        Returns: undefined
      }
      ops_audit_read: {
        Args: {
          p_limit?: number
          p_owner_user_id?: string
          p_route_key?: string
          p_since?: string
          p_status?: number
        }
        Returns: {
          created_at: string
          duration_ms: number
          id: string
          ip: string
          meta: Json
          method: string
          owner_user_id: string
          path: string
          request_id: string
          route_key: string
          status: number
          user_agent: string
        }[]
      }
      ops_rate_limit_agg: {
        Args: { p_minutes?: number }
        Returns: {
          last_window_start: string
          route_key: string
          total: number
        }[]
      }
      ops_rate_overview: {
        Args: { p_limit?: number; p_window_seconds?: number }
        Returns: {
          last_seen: string
          route_key: string
          source: string
          total: number
        }[]
      }
      prune_job_queue_budget_rollover: { Args: never; Returns: undefined }
      pulse_assert_valid_user_id_uuid: {
        Args: { p_table: string; p_user_id_uuid: string }
        Returns: undefined
      }
      pulse_canon_gate: { Args: never; Returns: undefined }
      pulse_claim_sub: { Args: never; Returns: string }
      pulse_is_uuid: { Args: { p_value: string }; Returns: boolean }
      pulse_resolve_user_uuid: {
        Args: { p_any_user_id: string }
        Returns: string
      }
      pulse_try_uuid: { Args: { p_text: string }; Returns: string }
      pulse_uuid_from_clerk: {
        Args: { p_clerk_user_id: string }
        Returns: string
      }
      refresh_contact_intel: {
        Args: { p_contact_id: string; p_owner_user_id: string }
        Returns: undefined
      }
      refresh_email_threads_for_owner: {
        Args: { p_owner_user_id: string }
        Returns: undefined
      }
      reset_monthly_usage: { Args: never; Returns: undefined }
      rpc_artifact_link_insert: {
        Args: {
          p_execution_id: string
          p_execution_run_id: string
          p_from_id: string
          p_from_key: string
          p_from_type: string
          p_meta: Json
          p_relation: string
          p_to_id: string
          p_to_key: string
          p_to_type: string
          p_trace_id: string
          p_user_id: string
        }
        Returns: string
      }
      rpc_cron_release_lock: { Args: { p_key: string }; Returns: boolean }
      rpc_cron_try_lock: {
        Args: { p_holder?: string; p_key: string; p_ttl_seconds: number }
        Returns: boolean
      }
      rpc_execution_cancel: {
        Args: { p_execution_id: string; p_reason?: string }
        Returns: boolean
      }
      rpc_execution_claim_next: {
        Args: { p_now?: string }
        Returns: {
          attempts: number
          execution_id: string
          kind: string
          max_attempts: number
          payload: Json
          priority: number
          run_at: string
        }[]
      }
      rpc_execution_drift_radar: {
        Args: {
          p_baseline_days?: number
          p_kind?: string
          p_recent_hours?: number
          p_user_id: string
        }
        Returns: {
          baseline_failure_rate: number
          baseline_failures: number
          baseline_p95_duration_ms: number
          baseline_runs: number
          drift_failure_rate_delta: number
          drift_p95_duration_delta_ms: number
          kind: string
          recent_failure_rate: number
          recent_failures: number
          recent_p95_duration_ms: number
          recent_runs: number
        }[]
      }
      rpc_execution_enqueue: {
        Args: {
          p_dedupe_key?: string
          p_kind: string
          p_max_attempts?: number
          p_payload: Json
          p_priority?: number
          p_run_at?: string
        }
        Returns: string
      }
      rpc_execution_finish_run: {
        Args: {
          p_error?: string
          p_output?: Json
          p_run_id: string
          p_status: string
        }
        Returns: string
      }
      rpc_execution_start_run: {
        Args: { p_execution_id: string }
        Returns: string
      }
      rpc_ops_audit_insert: {
        Args: {
          p_action: string
          p_actor_is_admin: boolean
          p_actor_user_id: string
          p_ip: string
          p_meta: Json
          p_resource_id: string
          p_resource_type: string
          p_target_user_id: string
          p_user_agent: string
        }
        Returns: string
      }
      rpc_scheduler_tick: { Args: { p_now?: string }; Returns: Json }
      rpc_trace_search: {
        Args: {
          p_has_error?: boolean
          p_kind?: string
          p_limit?: number
          p_offset?: number
          p_q?: string
          p_since?: string
          p_status?: string
          p_until?: string
          p_user_id: string
        }
        Returns: {
          failed_count: number
          first_started_at: string
          kinds: string
          last_error: string
          last_finished_at: string
          last_status: string
          run_count: number
          trace_id: string
        }[]
      }
      rpc_xp_create_eval_run: {
        Args: {
          p_evaluator_key: string
          p_evaluator_version: number
          p_evidence_id: string
          p_result_meta: Json
          p_result_xp: Json
        }
        Returns: string
      }
      rpc_xp_issue_from_eval_run: {
        Args: { p_eval_run_id: string }
        Returns: number
      }
      rpc_xp_record_evidence: {
        Args: {
          p_confidence: number
          p_event_id: string
          p_evidence_payload: Json
          p_evidence_type: string
          p_source: string
        }
        Returns: string
      }
      rpc_xp_reverse_ledger_entry: {
        Args: { p_ledger_id: string; p_memo: string }
        Returns: string
      }
      search_fragments_by_embedding: {
        Args: {
          match_count?: number
          match_user_id: string
          min_importance?: number
          query_embedding: string
        }
        Returns: {
          content: string
          created_at: string
          expires_at: string
          fragment_type: string
          id: string
          importance: number
          metadata: Json
          occurred_at: string
          raw_event_id: string
          similarity: number
          time_scope: string
          updated_at: string
          user_id: string
        }[]
      }
      search_memories: {
        Args: {
          match_categories: string[]
          match_count: number
          match_types: string[]
          match_user_id: string
          min_importance: number
          query_embedding: string
        }
        Returns: {
          access_count: number
          category: string
          content: string
          context: string
          created_at: string
          id: string
          importance: number
          similarity: number
          source: string
          source_id: string
          tags: string[]
          type: string
          updated_at: string
          user_id: string
        }[]
      }
      seed_default_domains: { Args: { p_user_id: string }; Returns: undefined }
      signals_cache_warm_candidates: {
        Args: { p_days?: number; p_limit?: number; p_offset?: number }
        Returns: {
          owner_user_id: string
        }[]
      }
      update_streak: {
        Args: {
          p_activity_date: string
          p_owner_user_id: string
          p_rollup_key: string
        }
        Returns: undefined
      }
      upsert_third_brain_memory: {
        Args: {
          p_category: string
          p_content: string
          p_importance?: number
          p_key: string
          p_metadata?: Json
          p_user_id: string
        }
        Returns: string
      }
      user_daily_activity_rollup_read:
      | {
        Args: { p_days?: number }
        Returns: {
          day: string
          event_count: number
        }[]
      }
      | {
        Args: { p_days?: number; p_user_id_uuid: string }
        Returns: {
          day: string
          event_count: number
        }[]
      }
      user_daily_activity_rollup_refresh:
      | { Args: { p_days?: number }; Returns: undefined }
      | { Args: { p_days?: number; p_user_id?: string }; Returns: undefined }
      | {
        Args: { p_day: string; p_user_id_uuid: string }
        Returns: undefined
      }
      user_daily_activity_rollup_refresh_incremental: {
        Args: { p_fallback_days?: number; p_user_id_uuid: string }
        Returns: Json
      }
      user_daily_activity_rollup_refresh_incremental_all: {
        Args: { p_fallback_days?: number; p_limit?: number }
        Returns: Json
      }
      user_daily_life_score_history: {
        Args: { p_days?: number }
        Returns: {
          day: string
          life_score: number
        }[]
      }
      user_daily_life_score_history_full: {
        Args: { p_days?: number; p_end_day?: string; p_owner_user_id: string }
        Returns: {
          day: string
          life_score: number
        }[]
      }
      user_daily_momentum_history: {
        Args: { p_days?: number }
        Returns: {
          day: string
          momentum: number
        }[]
      }
      user_daily_momentum_history_full: {
        Args: { p_days?: number; p_end_day?: string; p_owner_user_id: string }
        Returns: {
          day: string
          momentum: number
        }[]
      }
      user_daily_signals_cache_build: {
        Args: {
          p_attrib_top_n?: number
          p_day?: string
          p_days?: number
          p_owner_user_id: string
          p_payload_version?: number
        }
        Returns: Json
      }
      user_daily_signals_cache_invalidate: {
        Args: { p_day?: string; p_owner_user_id: string }
        Returns: undefined
      }
      user_daily_signals_cache_read: {
        Args: { p_day?: string; p_owner_user_id: string }
        Returns: Json
      }
      user_daily_signals_history_bundle: {
        Args: { p_days?: number; p_end_day?: string; p_owner_user_id: string }
        Returns: {
          day: string
          life_score: number
          momentum: number
          xp: number
        }[]
      }
      user_daily_signals_payload: {
        Args: {
          p_attrib_top_n?: number
          p_day?: string
          p_days?: number
          p_owner_user_id: string
        }
        Returns: Json
      }
      user_daily_xp_history: {
        Args: { p_days?: number }
        Returns: {
          day: string
          xp: number
        }[]
      }
      user_daily_xp_history_full: {
        Args: { p_days?: number; p_end_day?: string; p_owner_user_id: string }
        Returns: {
          day: string
          xp: number
        }[]
      }
      utc_day_bounds: {
        Args: { p_day: string }
        Returns: {
          day_end: string
          day_start: string
        }[]
      }
    }
    Enums: {
      task_status: "pending" | "active" | "blocked" | "completed" | "archived"
      xp_kind:
      | "xp_physical"
      | "xp_discipline"
      | "xp_identity"
      | "xp_relationship"
      | "xp_career"
      | "xp_mind"
      | "xp_spirit"
    }
    CompositeTypes: {
      [_ in never]: never
    }
  }
}


type DatabaseWithoutInternals = Omit<Database, "__InternalSupabase">

type DefaultSchema = DatabaseWithoutInternals[Extract<keyof Database, "public">]

export type Tables<
  DefaultSchemaTableNameOrOptions extends
  | keyof (DefaultSchema["Tables"] & DefaultSchema["Views"])
  | { schema: keyof DatabaseWithoutInternals },
  TableName extends DefaultSchemaTableNameOrOptions extends {
    schema: keyof DatabaseWithoutInternals
  }
  ? keyof (DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"] &
    DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Views"])
  : never = never,
> = DefaultSchemaTableNameOrOptions extends {
  schema: keyof DatabaseWithoutInternals
}
  ? (DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"] &
    DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Views"])[TableName] extends {
      Row: infer R
    }
  ? R
  : never
  : DefaultSchemaTableNameOrOptions extends keyof (DefaultSchema["Tables"] &
    DefaultSchema["Views"])
  ? (DefaultSchema["Tables"] &
    DefaultSchema["Views"])[DefaultSchemaTableNameOrOptions] extends {
      Row: infer R
    }
  ? R
  : never
  : never

export type TablesInsert<
  DefaultSchemaTableNameOrOptions extends
  | keyof DefaultSchema["Tables"]
  | { schema: keyof DatabaseWithoutInternals },
  TableName extends DefaultSchemaTableNameOrOptions extends {
    schema: keyof DatabaseWithoutInternals
  }
  ? keyof DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"]
  : never = never,
> = DefaultSchemaTableNameOrOptions extends {
  schema: keyof DatabaseWithoutInternals
}
  ? DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"][TableName] extends {
    Insert: infer I
  }
  ? I
  : never
  : DefaultSchemaTableNameOrOptions extends keyof DefaultSchema["Tables"]
  ? DefaultSchema["Tables"][DefaultSchemaTableNameOrOptions] extends {
    Insert: infer I
  }
  ? I
  : never
  : never

export type TablesUpdate<
  DefaultSchemaTableNameOrOptions extends
  | keyof DefaultSchema["Tables"]
  | { schema: keyof DatabaseWithoutInternals },
  TableName extends DefaultSchemaTableNameOrOptions extends {
    schema: keyof DatabaseWithoutInternals
  }
  ? keyof DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"]
  : never = never,
> = DefaultSchemaTableNameOrOptions extends {
  schema: keyof DatabaseWithoutInternals
}
  ? DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"][TableName] extends {
    Update: infer U
  }
  ? U
  : never
  : DefaultSchemaTableNameOrOptions extends keyof DefaultSchema["Tables"]
  ? DefaultSchema["Tables"][DefaultSchemaTableNameOrOptions] extends {
    Update: infer U
  }
  ? U
  : never
  : never

export type Enums<
  DefaultSchemaEnumNameOrOptions extends
  | keyof DefaultSchema["Enums"]
  | { schema: keyof DatabaseWithoutInternals },
  EnumName extends DefaultSchemaEnumNameOrOptions extends {
    schema: keyof DatabaseWithoutInternals
  }
  ? keyof DatabaseWithoutInternals[DefaultSchemaEnumNameOrOptions["schema"]]["Enums"]
  : never = never,
> = DefaultSchemaEnumNameOrOptions extends {
  schema: keyof DatabaseWithoutInternals
}
  ? DatabaseWithoutInternals[DefaultSchemaEnumNameOrOptions["schema"]]["Enums"][EnumName]
  : DefaultSchemaEnumNameOrOptions extends keyof DefaultSchema["Enums"]
  ? DefaultSchema["Enums"][DefaultSchemaEnumNameOrOptions]
  : never

export type CompositeTypes<
  PublicCompositeTypeNameOrOptions extends
  | keyof DefaultSchema["CompositeTypes"]
  | { schema: keyof DatabaseWithoutInternals },
  CompositeTypeName extends PublicCompositeTypeNameOrOptions extends {
    schema: keyof DatabaseWithoutInternals
  }
  ? keyof DatabaseWithoutInternals[PublicCompositeTypeNameOrOptions["schema"]]["CompositeTypes"]
  : never = never,
> = PublicCompositeTypeNameOrOptions extends {
  schema: keyof DatabaseWithoutInternals
}
  ? DatabaseWithoutInternals[PublicCompositeTypeNameOrOptions["schema"]]["CompositeTypes"][CompositeTypeName]
  : PublicCompositeTypeNameOrOptions extends keyof DefaultSchema["CompositeTypes"]
  ? DefaultSchema["CompositeTypes"][PublicCompositeTypeNameOrOptions]
  : never

export const Constants = {
  public: {
    Enums: {
      task_status: ["pending", "active", "blocked", "completed", "archived"],
      xp_kind: [
        "xp_physical",
        "xp_discipline",
        "xp_identity",
        "xp_relationship",
        "xp_career",
        "xp_mind",
        "xp_spirit",
      ],
    },
  },
} as const
